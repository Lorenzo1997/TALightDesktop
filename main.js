(self["webpackChunkTALightDesktop"] = self["webpackChunkTALightDesktop"] || []).push([["main"],{

/***/ 6726:
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppComponent": () => (/* binding */ AppComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 9022);
/* harmony import */ var _widgets_topbar_topbar_widget_topbar_widget_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./widgets/topbar/topbar-widget/topbar-widget.component */ 3200);



class AppComponent {
}
AppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(); };
AppComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: AppComponent, selectors: [["app-root"]], decls: 5, vars: 0, consts: [[1, "tal-page-container"], [1, "tal-page-topbar"], [1, "tal-page-content"]], template: function AppComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "tal-topbar-widget");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](4, "router-outlet");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    } }, dependencies: [_angular_router__WEBPACK_IMPORTED_MODULE_2__.RouterOutlet, _widgets_topbar_topbar_widget_topbar_widget_component__WEBPACK_IMPORTED_MODULE_0__.TopbarWidgetComponent], styles: ["div.tal-page-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n}\ndiv.tal-page-container[_ngcontent-%COMP%]   div.tal-page-topbar[_ngcontent-%COMP%] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: solid 1px var(--surface-border);\n  padding: 0;\n  margin: 0;\n}\ndiv.tal-page-container[_ngcontent-%COMP%]   div.tal-page-content[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  flex: 1;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFDSjtBQUNJO0VBQ0ksV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsOENBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUNSO0FBRUk7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSxPQUFBO0FBQVIiLCJmaWxlIjoiYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZGl2LnRhbC1wYWdlLWNvbnRhaW5lcntcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHdpZHRoOjEwMHZ3O1xuICAgIGhlaWdodDoxMDB2aDtcblxuICAgIGRpdi50YWwtcGFnZS10b3BiYXJ7XG4gICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBib3JkZXItYm90dG9tOnNvbGlkIDFweCB2YXIoLS1zdXJmYWNlLWJvcmRlcik7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICB9XG4gICAgXG4gICAgZGl2LnRhbC1wYWdlLWNvbnRlbnQge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgZmxleDoxO1xuICAgIH0gICBcblxuICAgIFxufSAgICJdfQ== */"] });


/***/ }),

/***/ 7722:
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppModule": () => (/* binding */ AppModule)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/platform-browser */ 4510);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ 9022);
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.component */ 6726);
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./routes */ 4224);
/* harmony import */ var _views_home_view_home_view_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/home-view/home-view.component */ 9627);
/* harmony import */ var _views_connect_view_connect_view_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views/connect-view/connect-view.component */ 576);
/* harmony import */ var primeng_inputtext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/inputtext */ 5022);
/* harmony import */ var primeng_inputswitch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! primeng/inputswitch */ 2613);
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! primeng/dropdown */ 5081);
/* harmony import */ var primeng_fileupload__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! primeng/fileupload */ 665);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! primeng/tooltip */ 5166);
/* harmony import */ var primeng_scrollpanel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! primeng/scrollpanel */ 8648);
/* harmony import */ var primeng_selectbutton__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! primeng/selectbutton */ 9837);
/* harmony import */ var primeng_splitter__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! primeng/splitter */ 5635);
/* harmony import */ var ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-monaco-editor-v2 */ 2117);
/* harmony import */ var _widgets_code_editor_code_editor_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./widgets/code-editor/code-editor.module */ 6037);
/* harmony import */ var _views_select_problem_view_select_problem_view_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./views/select-problem-view/select-problem-view.component */ 6192);
/* harmony import */ var primeng_radiobutton__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! primeng/radiobutton */ 8299);
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/platform-browser/animations */ 5258);
/* harmony import */ var _widgets_topbar_topbar_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./widgets/topbar/topbar.module */ 6669);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 3991);
























class AppModule {
}
AppModule.ɵfac = function AppModule_Factory(t) { return new (t || AppModule)(); };
AppModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: AppModule, bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_0__.AppComponent] });
AppModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__.BrowserModule,
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_9__.BrowserAnimationsModule,
        ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_10__.MonacoEditorModule.forRoot(),
        _angular_router__WEBPACK_IMPORTED_MODULE_11__.RouterModule.forRoot(_routes__WEBPACK_IMPORTED_MODULE_1__.routes),
        _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormsModule,
        primeng_inputtext__WEBPACK_IMPORTED_MODULE_13__.InputTextModule,
        primeng_inputswitch__WEBPACK_IMPORTED_MODULE_14__.InputSwitchModule,
        primeng_dropdown__WEBPACK_IMPORTED_MODULE_15__.DropdownModule,
        primeng_fileupload__WEBPACK_IMPORTED_MODULE_16__.FileUploadModule,
        _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormsModule,
        primeng_inputtext__WEBPACK_IMPORTED_MODULE_13__.InputTextModule,
        primeng_tooltip__WEBPACK_IMPORTED_MODULE_17__.TooltipModule,
        primeng_scrollpanel__WEBPACK_IMPORTED_MODULE_18__.ScrollPanelModule,
        primeng_selectbutton__WEBPACK_IMPORTED_MODULE_19__.SelectButtonModule,
        primeng_splitter__WEBPACK_IMPORTED_MODULE_20__.SplitterModule,
        primeng_radiobutton__WEBPACK_IMPORTED_MODULE_21__.RadioButtonModule,
        _widgets_code_editor_code_editor_module__WEBPACK_IMPORTED_MODULE_4__.CodeEditorModule,
        _widgets_topbar_topbar_module__WEBPACK_IMPORTED_MODULE_6__.TopbarModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](AppModule, { declarations: [_app_component__WEBPACK_IMPORTED_MODULE_0__.AppComponent,
        _views_home_view_home_view_component__WEBPACK_IMPORTED_MODULE_2__.HomeViewComponent,
        _views_connect_view_connect_view_component__WEBPACK_IMPORTED_MODULE_3__.ConnectViewComponent,
        _views_select_problem_view_select_problem_view_component__WEBPACK_IMPORTED_MODULE_5__.SelectProblemViewComponent], imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__.BrowserModule,
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_9__.BrowserAnimationsModule, ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_10__.MonacoEditorModule, _angular_router__WEBPACK_IMPORTED_MODULE_11__.RouterModule, _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormsModule,
        primeng_inputtext__WEBPACK_IMPORTED_MODULE_13__.InputTextModule,
        primeng_inputswitch__WEBPACK_IMPORTED_MODULE_14__.InputSwitchModule,
        primeng_dropdown__WEBPACK_IMPORTED_MODULE_15__.DropdownModule,
        primeng_fileupload__WEBPACK_IMPORTED_MODULE_16__.FileUploadModule,
        _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormsModule,
        primeng_inputtext__WEBPACK_IMPORTED_MODULE_13__.InputTextModule,
        primeng_tooltip__WEBPACK_IMPORTED_MODULE_17__.TooltipModule,
        primeng_scrollpanel__WEBPACK_IMPORTED_MODULE_18__.ScrollPanelModule,
        primeng_selectbutton__WEBPACK_IMPORTED_MODULE_19__.SelectButtonModule,
        primeng_splitter__WEBPACK_IMPORTED_MODULE_20__.SplitterModule,
        primeng_radiobutton__WEBPACK_IMPORTED_MODULE_21__.RadioButtonModule,
        _widgets_code_editor_code_editor_module__WEBPACK_IMPORTED_MODULE_4__.CodeEditorModule,
        _widgets_topbar_topbar_module__WEBPACK_IMPORTED_MODULE_6__.TopbarModule] }); })();


/***/ }),

/***/ 8877:
/*!**************************************!*\
  !*** ./src/app/guards/auth.guard.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AuthGuard": () => (/* binding */ AuthGuard)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _services_connection_manager_service_connection_manager_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/connection-manager-service/connection-manager.service */ 6244);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 9022);




class AuthGuard {
    constructor(connectionManagerService, router) {
        this.connectionManagerService = connectionManagerService;
        this.router = router;
    }
    canActivate(route, state) {
        const isConnected = this.connectionManagerService.isConnected;
        if (!isConnected) {
            //this.router.navigate(['/connect']);
        }
        return true;
        return isConnected;
    }
}
AuthGuard.ɵfac = function AuthGuard_Factory(t) { return new (t || AuthGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_services_connection_manager_service_connection_manager_service__WEBPACK_IMPORTED_MODULE_0__.ConnectionManagerService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__.Router)); };
AuthGuard.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AuthGuard, factory: AuthGuard.ɵfac, providedIn: 'root' });


/***/ }),

/***/ 4224:
/*!***************************!*\
  !*** ./src/app/routes.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "routes": () => (/* binding */ routes)
/* harmony export */ });
/* harmony import */ var _guards_auth_guard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./guards/auth.guard */ 8877);
/* harmony import */ var _views_home_view_home_view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./views/home-view/home-view.component */ 9627);
/* harmony import */ var _views_demo_view_demo_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/demo-view/demo-view */ 3803);



const routes = [
    /*
    {
        path: '',
        redirectTo: '/home',
        pathMatch: 'full'
    },
    {
        path: 'home',
        canActivate: [AuthGuard],
        component: HomeViewComponent
    },
    */
    {
        path: '',
        canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_0__.AuthGuard],
        component: _views_home_view_home_view_component__WEBPACK_IMPORTED_MODULE_1__.HomeViewComponent
    },
    /*
    {
        path: 'connect',
        component: ConnectViewComponent
    },

    {
        path: 'select-problem',
        component: SelectProblemViewComponent
    },
    */
    {
        path: 'demo',
        component: _views_demo_view_demo_view__WEBPACK_IMPORTED_MODULE_2__.DemoViewComponent
    },
];


/***/ }),

/***/ 2407:
/*!******************************************************!*\
  !*** ./src/app/services/api-service/api.commands.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Commands": () => (/* binding */ Commands)
/* harmony export */ });
/* harmony import */ var _api_socket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.socket */ 2023);
/* harmony import */ var _api_packets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.packets */ 645);


var Commands;
(function (Commands) {
    class Command {
        constructor(url, decodeBinary) {
            this.debug = false;
            this.url = url;
            this.tal = new _api_socket__WEBPACK_IMPORTED_MODULE_0__.TALightSocket(this.url);
            if (decodeBinary === false) {
                this.tal.decode = decodeBinary;
            }
            this.tal.onError = (error) => { this.didError(error); };
            this.tal.onClose = () => { this.didClose(); };
            this.tal.onRecive = (payload) => { this.didRecive(payload); };
            this.tal.onReciveBinary = (payload) => { this.didReciveBinary(payload); };
            this.tal.onReciveUndecodedBinary = (payload) => { this.didReciveUndecodedBinary(payload); };
        }
        run() {
            let msg = new _api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Request.Handshake();
            this.tal.send(msg);
        }
        sendBinary(data) {
            this.log("didSendBinary: " + data);
            this.tal.sendBinary(data);
        }
        log(...args) {
            let prefix = this.constructor.name + ": ";
            console.log(prefix, ...args);
            if (this.debug)
                alert(prefix + (args).join(" "));
        }
        didClose() {
            this.log("didClose");
            if (this.onClose) {
                this.onClose();
            }
        }
        didError(error) {
            this.log("didError ", error);
            if (this.onError) {
                this.onError(error);
            }
        }
        didReciveBinary(payload) {
            this.log("didReciveBinary:\n" + payload);
            if (this.onReciveBinary) {
                this.onReciveBinary(payload);
            }
        }
        didReciveUndecodedBinary(payload) {
            this.log("didReciveUndecodedBinary:\n");
            if (this.onReciveUndecodedBinary) {
                this.onReciveUndecodedBinary(payload);
            }
        }
        didRecive(payload) {
            this.log("didRecive");
            if (this.onRecive) {
                this.onRecive(payload);
            }
            let message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.Handshake);
            if (message) {
                this.didReciveHandshake(message);
            }
        }
        didReciveHandshake(message) {
            this.log("didRecieveHandshake");
            if (this.onReciveHandshake) {
                this.onReciveHandshake(message);
            }
        }
    }
    Commands.Command = Command;
    class ProblemList extends Command {
        didReciveHandshake(handshake) {
            super.didReciveHandshake(handshake);
            let msg = new _api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Request.MetaList();
            this.tal.send(msg);
        }
        didRecive(payload) {
            super.didRecive(payload);
            let message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.MetaList);
            if (message) {
                this.didReciveProblemList(message);
            }
        }
        didReciveProblemList(message) {
            this.log("onRecieveProblemList");
            if (this.onRecieveProblemList) {
                this.onRecieveProblemList(message);
            }
        }
    }
    Commands.ProblemList = ProblemList;
    class Attchment extends Command {
        constructor(url, problem_name) {
            super(url, false);
            this.msg = new _api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Request.Attachment(problem_name);
        }
        didReciveHandshake(handshake) {
            super.didReciveHandshake(handshake);
            this.tal.send(this.msg);
        }
        didRecive(payload) {
            super.didRecive(payload);
            let message;
            message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.Attachment);
            if (message) {
                this.didRecieveAttachment(message);
            }
            message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.AttachmentInfo);
            if (message) {
                this.didRecieveAttachmentInfo(message);
            }
        }
        didRecieveAttachment(message) {
            this.log("Attachment");
            if (this.onReciveAttachment) {
                this.onReciveAttachment(message);
            }
        }
        didRecieveAttachmentInfo(message) {
            this.log("AttachmentInfo");
            if (this.onReciveAttachmentInfo) {
                this.onReciveAttachmentInfo(message);
            }
        }
    }
    Commands.Attchment = Attchment;
    class Connect extends Command {
        constructor(url, problem_name, service, args, tty, token, files) {
            super(url);
            this.msg = new _api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Request.ConnectBegin(problem_name, service, args, tty, token, files);
        }
        didReciveHandshake(handshake) {
            super.didReciveHandshake(handshake);
            this.tal.send(this.msg);
        }
        didRecive(payload) {
            super.didRecive(payload);
            let message;
            message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.ConnectBegin);
            if (message) {
                this.didRecieveConnectBegin(message);
            }
            message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.ConnectStart);
            if (message) {
                this.didRecieveConnectStart(message);
            }
            message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.ConnectStop);
            if (message) {
                this.didRecieveConnectStop(message);
            }
        }
        didRecieveConnectBegin(message) {
            this.log("didRecieveJoin");
            if (this.onReciveConnectBegin) {
                this.onReciveConnectBegin(message);
            }
        }
        didRecieveConnectStart(message) {
            this.log("didRecieveUpdate");
            if (this.onReciveConnectStart) {
                this.onReciveConnectStart(message);
            }
        }
        didRecieveConnectStop(message) {
            this.log("didRecieveStart");
            if (this.onReciveConnectStop) {
                if (this.tal.isOpen()) {
                    this.sendConnectStop();
                }
                this.tal.closeConnection();
                this.onReciveConnectStop(message);
            }
        }
        sendConnectStop() {
            this.tal.send(new _api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Request.ConnectStop());
            //this.tal.closeConnection();
        }
    }
    Commands.Connect = Connect;
    class CloseConnection extends Command {
        didReciveHandshake(handshake) {
            super.didReciveHandshake(handshake);
            let msg = new _api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Request.ConnectStop();
            this.tal.send(msg);
        }
        didRecive(payload) {
            super.didRecive(payload);
            let message = payload.getMessage(_api_packets__WEBPACK_IMPORTED_MODULE_1__.Packets.Reply.ConnectStop);
            if (message) {
                this.didReciveConnectStop(message);
            }
        }
        didReciveConnectStop(message) {
            this.log("didRecieveGameList");
            if (this.onReciveConnectStop) {
                this.onReciveConnectStop(message);
            }
        }
    }
    Commands.CloseConnection = CloseConnection;
    /*
  
    export class GameList extends Command{
      public onRecieveGameList?:(message:Packets.Reply.GameList)=>void
      
      public override didReciveHandshake( handshake: Packets.Reply.Handshake){
        super.didReciveHandshake(handshake);

        let msg = new Packets.Request.GameList();
        this.tal.send(msg);
      }

      public override didRecive(payload:Packets.PacketsPayload){
        super.didRecive(payload);
        let message = payload.getMessage(Packets.Reply.GameList)
        if (message){ this.didReciveGameList(message); }
      }
        
      public didReciveGameList(message:Packets.Reply.GameList){
        this.log("didRecieveGameList");
        if (this.onRecieveGameList) { this.onRecieveGameList(message); }
      }
    }

    export class GameDescription extends Command{
      public onRecieveGameDescription?:(message:Packets.Reply.GameDescription)=>void
      private msg:Packets.Request.GameDescription;
  
      constructor(url:string, game:string){
        super(url);
        this.msg = new Packets.Request.GameDescription(game);
      }

      public override didReciveHandshake( handshake: Packets.Reply.Handshake){
        super.didReciveHandshake(handshake);

        let msg = new Packets.Request.GameDescription();
        this.tal.send(msg);
      }

      public override didRecive(payload:Packets.PacketsPayload){
        super.didRecive(payload);
        let message = payload.getMessage(Packets.Reply.GameDescription)
        if (message){ this.didReciveGameDescription(message); }
      }
        
      public didReciveGameDescription(message:Packets.Reply.GameDescription){
        this.log("didRecieveGameList");
        if (this.onRecieveGameDescription) { this.onRecieveGameDescription(message); }
      }
    }
  
    export class LobbyList extends Command{
      public onReciveLobbyList?:(message:Packets.Reply.LobbyList)=>void;
      
      public override didReciveHandshake( handshake: Packets.Reply.Handshake){
        super.didReciveHandshake(handshake);
        
        let msg = new Packets.Request.LobbyList();
        this.tal!.send(msg);
      }

      public override didRecive(payload:Packets.PacketsPayload){
        super.didRecive(payload);
        let message = payload.getMessage(Packets.Reply.LobbyList)
        if (message){ this.didRecieveLobbyList(message);}
      }
        
      public didRecieveLobbyList(message:Packets.Reply.LobbyList){
        this.log("didRecieveLobbyList");
        if (this.onReciveLobbyList) { this.onReciveLobbyList(message); }
      }
    }
  
    export class NewLobby extends Command {
      public onReciveNewLobby?:(message:Packets.Reply.GameNew)=>void;

      private msg:Packets.Request.GameNew;
  
      constructor(url:string, lobby_name?:string, game_name?:string, num_palyer?:number, num_bots?:number, timeout?:number, args?:{}, password?:string){
        super(url);
        this.msg = new Packets.Request.GameNew(lobby_name, game_name, num_palyer, num_bots, timeout, args, password);
      }
      
      public override didRecive(payload:Packets.PacketsPayload){
        super.didRecive(payload);
        let message = payload.getMessage(Packets.Reply.GameNew)
        if (message){
          this.didRecieveNewLobby(message);
        }
      }
        
      public didRecieveNewLobby(message:Packets.Reply.GameNew){
        this.log("didRecieveNewLobby");
        if (this.onReciveNewLobby) { this.onReciveNewLobby(message); }
      }
            
      public override didReciveHandshake( handshake: Packets.Reply.Handshake){
        super.didReciveHandshake(handshake);
        this.tal!.send(this.msg);
      }
    }
  
    export class Connect extends Command{
      public onReciveJoin?:(message:Packets.Reply.LobbyJoinedMatch )=>void;
      public onReciveUpdate?:(message:Packets.Reply.LobbyUpdate)=>void;
      public onReciveStart?:(message:Packets.Reply.MatchStarted)=>void;
      public onReciveEnd?:(message:Packets.Reply.MatchEnded) => void;
      
      private msg:Packets.Request.LobbyJoinMatch;
  
      constructor(url:string, lobby_id:string, player_name:string, lobby_password?:string){
        super(url);
        this.msg = new Packets.Request.LobbyJoinMatch(lobby_id, player_name, lobby_password);
      }

      public override didReciveHandshake(handshake: Packets.Reply.Handshake){
        super.didReciveHandshake(handshake);
        this.tal.send(this.msg);
      }
      
      public override didRecive(payload: Packets.PacketsPayload): void {
        super.didRecive(payload);
        let message;
        message = payload.getMessage(Packets.Reply.LobbyJoinedMatch);
        if (message){ this.didRecieveJoin(message); }

        message = payload.getMessage(Packets.Reply.LobbyUpdate)
        if (message){ this.didRecieveUpdate(message); }

        message = payload.getMessage(Packets.Reply.MatchStarted)
        if (message){ this.didRecieveStart(message); }
        
        message = payload.getMessage(Packets.Reply.MatchEnded)
        if (message){ this.didRecieveEnd(message); }
      }

      public didRecieveJoin(message: Packets.Reply.LobbyJoinedMatch){
        this.log("didRecieveJoin");
        if (this.onReciveJoin ) { this.onReciveJoin(message); }
      }

      public didRecieveUpdate(message: Packets.Reply.LobbyUpdate){
        this.log("didRecieveUpdate");
        if (this.onReciveUpdate ) { this.onReciveUpdate(message); }
      }
      
      public didRecieveStart(message: Packets.Reply.MatchStarted){
        this.log("didRecieveStart");
        if (this.onReciveStart ) { this.onReciveStart(message); }
      }
      
      public didRecieveEnd(message: Packets.Reply.MatchEnded){
        this.log("didRecieveEnd");
        this.tal.closeConnection();
        if (this.onReciveEnd ) { this.onReciveEnd(message); }
      }
    }

    export class Spectate extends Command{
      public onReciveJoin?:(message:Packets.Reply.SpectateJoined )=>void;
      public onReciveUpdate?:(message:Packets.Reply.LobbyUpdate)=>void;
      public onReciveStart?:(message:Packets.Reply.SpectateStarted)=>void;
      public onReciveSync?:(message:Packets.Reply.SpectateSynced) => void;
      public onReciveEnd?:(message:Packets.Reply.SpectateEnded) => void;

      private msg:Packets.Request.SpectateJoin;
  
      constructor(url:string, lobby_id:string){
        super(url);
  
        this.msg = new Packets.Request.SpectateJoin(lobby_id);
      }
  
      public override didReciveHandshake(handshake: Packets.Reply.Handshake){
        super.didReciveHandshake(handshake);
  
        this.tal!.send(this.msg)
      }

      public override didRecive(payload: Packets.PacketsPayload): void {
        super.didRecive(payload);
        let message;

        message = payload.getMessage(Packets.Reply.SpectateJoined)
        if (message){ this.didRecieveJoin(message); }

        message = payload.getMessage(Packets.Reply.LobbyUpdate)
        if (message){ this.didRecieveUpdate(message);}
        
        message = payload.getMessage(Packets.Reply.SpectateStarted)
        if (message){ this.didRecieveStart(message);}

        message = payload.getMessage(Packets.Reply.SpectateSynced)
        if (message){ this.didRecieveStart(message);}

        message = payload.getMessage(Packets.Reply.SpectateEnded)
        if (message){ this.didRecieveEnd(message);}

      }

      public didRecieveJoin(message: Packets.Reply.LobbyJoinedMatch){
        this.log("LobbyJoinedMatch");
        if (this.onReciveJoin ) { this.onReciveJoin(message); }
      }

      public didRecieveUpdate(message: Packets.Reply.LobbyUpdate){
        this.log("LobbyUpdate");
        if (this.onReciveUpdate ) { this.onReciveUpdate(message); }
      }
      
      public didRecieveStart(message: Packets.Reply.MatchStarted){
        this.log("MatchStarted");
        if (this.onReciveStart ) { this.onReciveStart(message); }
      }
      
      public didRecieveEnd(message: Packets.Reply.MatchEnded){
        this.log("MatchEnded");
        this.tal.closeConnection();
        if (this.onReciveEnd ) { this.onReciveEnd(message); }
      }
    }
    */
})(Commands || (Commands = {}));


/***/ }),

/***/ 645:
/*!*****************************************************!*\
  !*** ./src/app/services/api-service/api.packets.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Packets": () => (/* binding */ Packets)
/* harmony export */ });
var Packets;
(function (Packets) {
    class PacketsPayload {
        constructor(data) {
            this.packetTypes = [];
            this.data = data;
            this.packets = JSON.parse(this.data);
            for (var pkttype in this.packets) {
                this.packetTypes.push(pkttype);
            }
            if (this.packetTypes.length === 3 &&
                this.packetTypes.indexOf("name") === 0 &&
                this.packetTypes.indexOf("size") === 1 &&
                this.packetTypes.indexOf("hash") === 2) {
                this.packetTypes = ["AttachmentInfo"];
                this.packets = { "AttachmentInfo": this.packets };
            }
        }
        getMessage(packetClass) {
            let packetType = packetClass.name;
            for (var pkttype in this.packets) {
                if (pkttype != packetType) {
                    continue;
                }
                let packet = this.packets[packetType];
                let message = new packetClass(packet);
                return message;
            }
            return null;
        }
    }
    Packets.PacketsPayload = PacketsPayload;
    class Message {
        constructor(packet) {
            if (packet) {
                this.fromPacket(packet);
            }
        }
        static dataToPayload(data) {
            let raw = JSON.parse(data);
            return raw;
        }
        static findPacketName(msgClasses, packet) {
            var msgClass = "";
            msgClasses.forEach((msgName) => {
                if (msgName in JSON.parse(packet)) {
                    msgClass = msgName;
                }
            });
            return msgClass;
        }
        messageName() {
            return this.constructor.name;
        }
        toPacketWithName(messageName) {
            const packet = { [messageName]: this };
            return packet;
        }
        toPacket() {
            const packetName = this.messageName();
            const packet = { [packetName]: this };
            return packet;
        }
        fromPacket(packet) {
            for (var msgField in this) {
                if (!(msgField in packet)) {
                    continue;
                }
                let value = packet[msgField];
                const varType = typeof value;
                if (varType in ["function", "undefined", "symbol"]) {
                    continue;
                }
                if (varType === "object") {
                    this[msgField] = Object.assign(value);
                }
                else {
                    this[msgField] = value;
                }
            }
            return true;
        }
    }
    Packets.Message = Message;
    class Meta {
        constructor(data) {
            this.public_folder = "";
            this.services = new Map();
            //console.log("Meta:constructor:", data)
            this.public_folder = data.public_folder;
            let servicesMap = new Map();
            for (var attr in data.services) {
                let value = data.services[attr];
                //console.log("Meta:constructor:services:",attr,value)
                let service = new Service(value);
                servicesMap.set(attr, service);
            }
            this.services = servicesMap;
        }
    }
    Packets.Meta = Meta;
    class Service {
        constructor(data) {
            this.evaluator = [];
            //console.log("Service:constructor:", data)
            this.evaluator = data.evaluator;
            this.files = data.files;
            let argsMap = new Map();
            for (var attr in data.args) {
                let value = data.args[attr];
                let arg = new Arg(value);
                argsMap.set(attr, arg);
            }
            this.args = argsMap;
        }
    }
    Packets.Service = Service;
    class Arg {
        constructor(data) {
            this.regex = data.regex;
            this.default = data.default;
        }
    }
    Packets.Arg = Arg;
    // Requests ---------------------------------
    let Request;
    (function (Request) {
        class Message extends Packets.Message {
        }
        Request.Message = Message;
        class Handshake extends Message {
            constructor() {
                super(...arguments);
                this.magic = "rtal";
                this.version = 2;
            }
        }
        Request.Handshake = Handshake;
        class MetaList extends Message {
        }
        Request.MetaList = MetaList;
        class Attachment extends Message {
            constructor(problem_name) {
                super();
                this.problem = problem_name;
            }
        }
        Request.Attachment = Attachment;
        class ConnectBegin extends Message {
            constructor(problem, service, args = {}, tty = false, token = null, files = []) {
                super();
                this.problem = "";
                this.service = "";
                this.args = {};
                this.tty = false;
                this.token = null;
                this.files = [];
                this.problem = problem;
                this.service = service;
                this.args = args;
                this.tty = tty;
                this.token = token;
                this.files = files;
            }
        }
        Request.ConnectBegin = ConnectBegin;
        class ConnectStop extends Message {
        }
        Request.ConnectStop = ConnectStop;
    })(Request = Packets.Request || (Packets.Request = {}));
    let Reply;
    (function (Reply) {
        class Message extends Packets.Message {
        }
        Reply.Message = Message;
        class Handshake extends Message {
            constructor() {
                super(...arguments);
                this.magic = "";
                this.version = 2;
            }
        }
        Reply.Handshake = Handshake;
        class MetaList extends Message {
            constructor(packet) {
                super(packet);
                this.meta = new Map();
                let metaMap = new Map();
                for (var attr in packet.meta) {
                    let value = packet.meta[attr];
                    let meta = new Meta(value);
                    metaMap.set(attr, meta);
                }
                this.meta = metaMap;
            }
        }
        Reply.MetaList = MetaList;
        class Attachment extends Message {
            constructor() {
                super(...arguments);
                this.status = { "Ok": undefined, "Err": "" };
            }
        }
        Reply.Attachment = Attachment;
        class AttachmentInfo extends Message {
            constructor() {
                super(...arguments);
                this.name = "";
                this.size = "";
                this.hash = "";
            }
        }
        Reply.AttachmentInfo = AttachmentInfo;
        class ConnectBegin extends Message {
            constructor() {
                super(...arguments);
                this.status = { "Ok": [""], "Err": "" };
            }
        }
        Reply.ConnectBegin = ConnectBegin;
        class ConnectStart extends Message {
            constructor() {
                super(...arguments);
                this.status = { "Ok": undefined, "Err": "" };
            }
        }
        Reply.ConnectStart = ConnectStart;
        class ConnectStop extends Message {
            constructor() {
                super(...arguments);
                this.status = { "Ok": [""], "Err": "" };
            }
        }
        Reply.ConnectStop = ConnectStop;
        /*
        Attachment { status: Result<(), String> },
        ConnectBegin { status: Result<Vec<String>, String> },
        ConnectStart { status: Result<(), String> },
        ConnectStop { status: Result<Vec<String>, String> }
        */
    })(Reply = Packets.Reply || (Packets.Reply = {}));
})(Packets || (Packets = {}));


/***/ }),

/***/ 6986:
/*!*****************************************************!*\
  !*** ./src/app/services/api-service/api.service.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApiService": () => (/* binding */ ApiService),
/* harmony export */   "ApiState": () => (/* binding */ ApiState),
/* harmony export */   "Meta": () => (/* binding */ Meta)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _api_packets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.packets */ 645);
/* harmony import */ var _api_commands__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.commands */ 2407);




class Meta extends _api_packets__WEBPACK_IMPORTED_MODULE_0__.Packets.Meta {
}
var ApiState;
(function (ApiState) {
    ApiState[ApiState["Idle"] = 0] = "Idle";
    ApiState[ApiState["Good"] = 1] = "Good";
    ApiState[ApiState["Maybe"] = 2] = "Maybe";
    ApiState[ApiState["Bad"] = 3] = "Bad";
})(ApiState || (ApiState = {}));
class ApiService {
    constructor() {
        this.lastState = ApiState.Idle;
        this.onApiStateChange = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
        this._url = 'ws://localhost:8008/';
        this.urlCache = [
            'wss://ta.di.univr.it/sfide',
            'ws://localhost:8008/',
            'wss://ta.di.univr.it/rtal',
        ];
    }
    get url() {
        return this._url;
    }
    addToCache(url) {
        this.removeFromCache(url);
        this.urlCache.unshift(url);
    }
    removeFromCache(url) {
        let idx = this.urlCache.indexOf(url);
        if (idx != -1) {
            this.urlCache.splice(idx, 1);
            return true;
        }
        return false;
    }
    setUrl(value) {
        let url;
        console.log("setUrl");
        try {
            url = new URL(value);
        }
        catch (_) {
            return false;
        }
        if (!(url.protocol == 'ws:' || url.protocol == 'wss:')) {
            return false;
        }
        console.log("setUrl:valid!");
        this.resetAllConnections();
        this._url = url.href;
        console.log("setUrl:href:", url.href);
        this.addToCache(this._url);
        return true;
    }
    updateState(state) {
        if (this.lastState != state) {
            this.lastState = state;
            this.onApiStateChange.emit(state);
        }
    }
    stateIdle() { this.updateState(ApiState.Idle); }
    stateGood() { this.updateState(ApiState.Good); }
    stateMaybe() { this.updateState(ApiState.Maybe); }
    stateBad() { this.updateState(ApiState.Bad); }
    resetAllConnections() {
        //TODO: is it necessary to kill all old connection upon URL change ? 
    }
    problemList(onResult, onError) {
        this.stateMaybe();
        let cmdList = new _api_commands__WEBPACK_IMPORTED_MODULE_1__.Commands.ProblemList(this._url);
        cmdList.onRecieveProblemList = (message) => {
            console.log("onRecieveProblemList:", message);
            this.stateGood();
            if (onResult) {
                onResult(message.meta);
            }
        };
        cmdList.onError = (error) => {
            this.stateBad();
            console.log("assdadsssssssssssssssssssssssss");
            if (onError) {
                onError(error);
            }
        };
        cmdList.run();
        return cmdList;
    }
    GetAttachment(problemName, onAttachment, onAttachmentInfo, onData, onError) {
        this.stateMaybe();
        let cmdGet = new _api_commands__WEBPACK_IMPORTED_MODULE_1__.Commands.Attchment(this._url, problemName);
        cmdGet.onReciveAttachment = (message) => {
            if (message.status.Err) {
                this.stateBad();
                if (cmdGet.onError) {
                    cmdGet.onError("Failed to receive attachment: " + message.status.Ok);
                }
                return;
            }
            this.stateGood();
            if (onAttachment) {
                onAttachment();
            }
        };
        cmdGet.onReciveAttachmentInfo = (message) => {
            this.stateGood();
            if (onAttachmentInfo) {
                onAttachmentInfo(message);
            }
        };
        cmdGet.onReciveUndecodedBinary = (message) => {
            this.stateGood();
            if (onData) {
                onData(message);
            }
        };
        cmdGet.onError = (error) => {
            this.stateBad();
            if (onError) {
                onError(error);
            }
        };
        cmdGet.run();
        return cmdGet;
    }
    Connect(problem_name, service, args, tty, token, files, onConnectBegin, onConnectStart, onConnectStop, onData, onError) {
        this.stateMaybe();
        let cmdConnect = new _api_commands__WEBPACK_IMPORTED_MODULE_1__.Commands.Connect(this._url, problem_name, service, args, tty, token, files);
        cmdConnect.onReciveConnectBegin = (message) => {
            if (message.status.Err) {
                this.stateBad();
                if (cmdConnect.onError) {
                    cmdConnect.onError("Failed to begin connection: " + message.status.Err);
                }
                return;
            }
            this.stateGood();
            if (onConnectBegin && message.status.Ok) {
                onConnectBegin(message.status.Ok);
            }
        };
        cmdConnect.onReciveConnectStart = (message) => {
            if (message.status.Err) {
                this.stateBad();
                if (cmdConnect.onError) {
                    cmdConnect.onError("Failed to start connect: " + message.status.Err);
                }
                return;
            }
            this.stateGood();
            if (onConnectStart) {
                onConnectStart();
            }
        };
        cmdConnect.onReciveConnectStop = (message) => {
            if (message.status.Err) {
                this.stateBad();
                if (cmdConnect.onError) {
                    cmdConnect.onError("Failed to stop connection: " + message.status.Err);
                }
                return;
            }
            this.stateGood();
            if (onConnectStop && message.status.Ok) {
                onConnectStop(message.status.Ok);
            }
        };
        cmdConnect.onReciveBinary = (message) => {
            this.stateGood();
            if (onData) {
                onData(message);
            }
        };
        cmdConnect.onError = (error) => {
            this.stateBad();
            if (onError) {
                onError(error);
            }
        };
        cmdConnect.run();
        return cmdConnect;
    }
}
ApiService.ɵfac = function ApiService_Factory(t) { return new (t || ApiService)(); };
ApiService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: ApiService, factory: ApiService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ 2023:
/*!****************************************************!*\
  !*** ./src/app/services/api-service/api.socket.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TALightSocket": () => (/* binding */ TALightSocket)
/* harmony export */ });
/* harmony import */ var rxjs_webSocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/webSocket */ 4543);
/* harmony import */ var _api_packets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.packets */ 645);


class TALightSocket {
    constructor(url) {
        this.url = 'ws://localhost:8008';
        this.decode = true;
        this.binEncoder = new TextEncoder(); // always utf-8
        this.binDecoder = new TextDecoder("utf-8");
        this.url = url;
        if (!this.ws || this.ws.closed) {
            this.ws = new rxjs_webSocket__WEBPACK_IMPORTED_MODULE_1__.WebSocketSubject({
                url: this.url,
                binaryType: "arraybuffer",
                deserializer: msg => msg,
                serializer: msg => {
                    if (msg instanceof ArrayBuffer)
                        return msg;
                    else
                        return JSON.stringify(msg);
                }
            });
            this.ws.subscribe({
                next: (payload) => { this.didRecieve(payload); },
                error: (error) => { this.didError(error); },
                complete: () => { this.didClose(); },
            });
            console.log("Created new socket");
        }
    }
    isOpen() {
        return (!!this.ws) && !this.ws.closed;
    }
    closeConnection() {
        this.ws.unsubscribe();
        this.ws.complete();
        console.log("TALightSocket:closeConnection");
    }
    send(request) {
        if (!this.isOpen()) {
            this.didError("TALightSocket:send: unable to send, socket is null");
            return false;
        }
        let packet = request.toPacket();
        this.ws.next(packet);
        return true;
    }
    sendBinary(data) {
        let payload = this.binEncoder.encode(data);
        if (!this.isOpen()) {
            this.didError("TALightSocket:sendBinary: unable to send, socket is null");
            return false;
        }
        console.log("TALightSocket:sendBinary: sending payload \n" + payload);
        this.ws.next(payload.buffer);
        return true;
    }
    didRecieve(payload) {
        let data = payload.data;
        console.log("TALightSocket:didRecieve:type: " + payload.constructor.name + "<" + payload.data.constructor.name + ">");
        if (typeof data === "object" && data instanceof ArrayBuffer) {
            if (this.decode) {
                if (data.byteLength == 0) {
                    return;
                }
                data = this.binDecoder.decode(data);
                console.log("TALightSocket:didRecieve:binary:\n" + data);
                if (this.onReciveBinary) {
                    this.onReciveBinary(data);
                }
            }
            else {
                if (this.onReciveUndecodedBinary) {
                    this.onReciveUndecodedBinary(data);
                }
            }
        }
        else {
            let packetsPayload = new _api_packets__WEBPACK_IMPORTED_MODULE_0__.Packets.PacketsPayload(data);
            console.log("TALightSocket:didRecieve:packets: " + packetsPayload.packetTypes);
            if (this.onRecive) {
                this.onRecive(packetsPayload);
            }
        }
    }
    didError(error) {
        //let errorMsg = JSON.stringify(err);
        if (this.onError) {
            this.onError(error);
        }
    }
    didClose() {
        this.closeConnection();
        if (this.onClose) {
            this.onClose();
        }
    }
}


/***/ }),

/***/ 6244:
/*!***********************************************************************************!*\
  !*** ./src/app/services/connection-manager-service/connection-manager.service.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConnectionManagerService": () => (/* binding */ ConnectionManagerService)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 9022);
/* harmony import */ var _api_service_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api-service/api.service */ 6986);



class ConnectionManagerService {
  constructor(router, api) {
    this.router = router;
    this.api = api;
    this._url = "";
    this._isConnected = false;
  }
  get isConnected() {
    return this._isConnected;
  }
  get url() {
    return this._url;
  }
  set url(value) {
    if (this.api.setUrl(value)) {
      this._url = value;
    }
  }
  /*
  public async connect(url: string): Promise<boolean> {
    this._url = url;
    
    // TODO: connect to server
    // Add the below lines to the connect method
    // this.isConnected = true;
    // this.router.navigate(['/home']);
       // TO REMOVE: Temporary return true
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        this._isConnected = true;
        this.router.navigate(['/home']);
        resolve(true);
      }, 2000);
    });
  }
  */
  disconnect() {
    this._isConnected = false;
    this.router.navigate(['/home']);
  }
}
ConnectionManagerService.ɵfac = function ConnectionManagerService_Factory(t) {
  return new (t || ConnectionManagerService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiService));
};
ConnectionManagerService.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: ConnectionManagerService,
  factory: ConnectionManagerService.ɵfac,
  providedIn: 'root'
});

/***/ }),

/***/ 9365:
/*!********************************************************!*\
  !*** ./src/app/services/fs-service/fs.service.test.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FsServiceTest": () => (/* binding */ FsServiceTest),
/* harmony export */   "IndexeddbFsDriver": () => (/* binding */ IndexeddbFsDriver)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);
/* harmony import */ var indexeddb_fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! indexeddb-fs */ 3053);


class IndexeddbFsDriver {
  constructor() {
    this.rootDir = "root";
    this.options = {
      databaseVersion: 1,
      objectStoreName: 'files',
      databaseName: 'indexeddb',
      rootDirectoryName: this.rootDir
    };
    this.fs = (0,indexeddb_fs__WEBPACK_IMPORTED_MODULE_1__.createFs)(this.options);
  }
  ready() {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return true;
    })();
  }
  readFile(fullpath, binary = true) {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!(yield _this.fs.exists(fullpath))) {
        return null;
      }
      return _this.fs.readFile(fullpath);
    })();
  }
  createDirectory(fullpath) {
    var _this2 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let res = yield _this2.fs.createDirectory(fullpath);
      return yield _this2.fs.exists(fullpath);
    })();
  }
  writeFile(fullpath, content) {
    var _this3 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let res = yield _this3.fs.writeFile(fullpath, content);
      if (!(yield _this3.fs.exists(fullpath))) {
        return -1;
      }
      return res.data.length;
    })();
  }
  readDirectory(fullpath) {
    var _this4 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (yield _this4.fs.exists(fullpath)) {
        return _this4.scanDirectory_recursive(fullpath);
      }
      return null;
    })();
  }
  scanDirectory(path) {
    var _this5 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!path) {
        path = _this5.rootDir;
      }
      return _this5.scanDirectory_recursive(path, true);
    })();
  }
  scanDirectory_recursive(path, recursive = false) {
    var _this6 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let rootNode = {
        name: path.split("/").reverse()[0] + "/",
        path: path,
        folders: [],
        files: []
      };
      console.log("scanDirectory:dir: ", path);
      let dirContent = yield _this6.fs.readDirectory(path);
      for (let key in dirContent.files) {
        let element = dirContent.files[key];
        let childNode = {
          name: element.name,
          path: element.fullPath,
          content: ""
          //depth: depth + 1,
        };

        rootNode.files.push(childNode);
        console.log("scanDirectory:file: ", element.fullPath);
      }
      for (let key in dirContent.directories) {
        let element = dirContent.directories[key];
        if (recursive) {
          rootNode.folders.push(yield _this6.scanDirectory_recursive(element.fullPath, true));
        } else {
          let childNode = {
            name: element.name,
            path: element.fullPath,
            //depth: depth + 1,
            folders: [],
            files: []
          };
          rootNode.folders.push(childNode);
        }
      }
      return rootNode;
    })();
  }
  delete(fullpath) {
    var _this7 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this7.exists(fullpath)) return true;
      yield _this7.fs.remove(fullpath);
      return !_this7.exists(fullpath);
    })();
  }
  exists(fullpath) {
    var _this8 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this8.fs.exists(fullpath);
    })();
  }
}
class FsServiceTest {
  constructor(fs, useDriver) {
    this.fs = fs;
    this.driverName = useDriver ?? 'example';
    this.driver = fs.getDriver(this.driverName);
    //alert('driverName:'+this.driver)
  }

  createTestFiles() {
    var _this9 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this9.driver) {
        return;
      }
      //alert('createTestFiles: before: '+this.driver.constructor.name);
      yield _this9.driver.createDirectory('/src');
      yield _this9.driver.createDirectory('/assets');
      yield _this9.driver.createDirectory('/assets/data');
      yield _this9.driver.createDirectory('/assets/img');
      yield _this9.driver.writeFile('/main.py', 'import src/testclass.py\nprint("hello");');
      yield _this9.driver.writeFile('/mainC.py', 'import src/testclass.py\nprint("helloC");');
      yield _this9.driver.writeFile('/src/__init__.py', '');
      yield _this9.driver.writeFile('/src/testclassA.py', 'class testclassA: pass');
      yield _this9.driver.writeFile('/src/testclassB.py', 'class testclassB: pass');
      yield _this9.driver.writeFile('/src/testclassC.py', 'class testclassC: pass');
    })();
  }
}

/***/ }),

/***/ 7934:
/*!***************************************************!*\
  !*** ./src/app/services/fs-service/fs.service.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FsNodeList": () => (/* binding */ FsNodeList),
/* harmony export */   "FsService": () => (/* binding */ FsService),
/* harmony export */   "Tar": () => (/* binding */ Tar)
/* harmony export */ });
/* harmony import */ var _fs_service_test__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fs.service.test */ 9365);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);


class FsNodeList extends Array {
}
;
class FsService {
    constructor() {
        this.drivers = new Map();
        //TODO: Remove test driver FS from constructor
        this.registerDriver('example', new _fs_service_test__WEBPACK_IMPORTED_MODULE_0__.IndexeddbFsDriver());
    }
    registerDriver(name, driver) {
        //if (name in this.drivers){return false;}
        //alert('register: '+driver)
        this.drivers.set(name, driver);
        //alert('register: '+driver.constructor.name+' | all: '+this.getDriverNames())
        return true;
    }
    getDriver(name) {
        //alert(name + ' '  + this.getDriverNames() )
        if (this.drivers.has(name)) {
            return this.drivers.get(name);
        }
        alert(name + ' NOT found in: ' + this.getDriverNames() + " | getDriver: undefined !!!");
        return undefined;
    }
    getDriverNames() {
        return Array.from(this.drivers.keys());
    }
    treeToList(root) {
        let items = new Array();
        let queue = new Array();
        queue.push(root);
        console.log('treeToList:root', root);
        console.log('treeToList:queue:0:', queue.length);
        while (queue.length > 0) {
            let dir = queue.shift();
            console.log('treeToList:dir:', dir);
            if (!dir) {
                break;
            }
            items = items.concat(dir.files, dir.folders);
            queue = queue.concat(dir.folders);
            console.log('treeToList:queue:', queue.length);
        }
        return items;
    }
}
FsService.EmptyFolder = { name: "", path: "/", files: [], folders: [] };
FsService.EmptyFile = { name: "", path: "/", content: "" };
FsService.ɵfac = function FsService_Factory(t) { return new (t || FsService)(); };
FsService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: FsService, factory: FsService.ɵfac, providedIn: 'root' });
class Tar {
    static unpack(tarball, cb) {
        var extract = this.tarstream.extract();
        var files = new Array();
        var folders = new Array();
        extract.on('entry', function (header, stream, next) {
            // header is the tar header
            // stream is the content body (might be an empty stream)
            // call next when you are done with this entry
            console.log('Tar:unpack:entry:header', header);
            console.log('Tar:unpack:entry:stream', stream);
            let fullpath = header.name;
            let filetype = header.type;
            if (filetype == 'file') {
                stream.on('data', (data) => {
                    console.log('Tar:unpack:entry:data', data);
                    let filename = fullpath.split("/").slice(0, -1)[0];
                    let file = { path: fullpath, name: filename, content: data };
                    console.log('Tar:unpack:entry:file', file, stream.read);
                    files.push(file);
                });
            }
            else if (filetype == 'directory') {
                let dirname = fullpath;
                if (dirname.slice(-1) == '/') {
                    dirname = dirname.slice(0, -1);
                }
                let forder = { path: fullpath, name: dirname, files: [], folders: [] };
                console.log('Tar:unpack:entry:forder', forder);
                folders.push(forder);
            }
            // ready for next entry
            stream.on('end', () => {
                console.log('Tar:unpack:entry:end');
                next();
            });
            stream.resume(); // just auto drain the stream
        });
        extract.on('finish', function () {
            console.log('Tar:unpack:finish');
            console.log('Tar:unpack:files', files);
            console.log('Tar:unpack:folders', folders);
            files.sort((a, b) => a.path.length - b.path.length);
            folders.sort((a, b) => a.path.length - b.path.length);
            // all entries read
            if (cb) {
                cb(files, folders);
            }
        });
        console.log('Tar:unpack:tarball', tarball);
        console.log('Tar:unpack:extract', extract);
        let tarData = new Uint8Array(tarball);
        extract.write(tarData, (errr) => { console.log("Tar:unpack:extract:write:", errr); });
        extract.end();
    }
    static pack(items, cb) {
        let pack = this.tarstream.pack(); // pack is a stream
        console.log(pack);
        var length = 0;
        var chunks = new Array();
        pack.on('data', (chunk) => {
            console.log('data:chunk:prototype:', chunk.constructor.name);
            console.log('data:chunk:', chunk);
            length += chunk.byteLength;
            chunks.push(chunk);
        });
        pack.on('end', () => {
            // Create a new array with total length and merge all source arrays.
            console.log(chunks);
            let data = new Uint8Array(length);
            let offset = 0;
            chunks.forEach(item => {
                data.set(item, offset);
                offset += item.length;
            });
            console.log(data);
            if (cb) {
                cb(data);
            }
        });
        let processItems = function (items) {
            let item = items.shift();
            let file = item;
            console.log("Tar:pack:item", item);
            let content;
            let header;
            if (file.content) {
                console.log("Tar:pack:file", file);
                if (file.content instanceof ArrayBuffer) {
                    content = new Uint8Array(file.content);
                }
                else {
                    content = file.content;
                }
                header = { name: file.path };
            }
            else {
                header = { name: item.path, type: "directory" };
            }
            pack.entry(header, content, (error) => {
                console.log("Tar:pack:onFinishEntry", error);
                if (error) {
                    throw error;
                }
                if (items.length == 0) {
                    pack.finalize();
                }
                else {
                    processItems(items);
                }
            });
        };
        console.log("Tar:pack:processItems", items);
        processItems(items);
    }
}
Tar.tarstream = __webpack_require__(/*! tar-web */ 5551);
Tar.b4a = __webpack_require__(/*! b4a */ 3519);
Tar.binEncoder = new TextEncoder(); // always utf-8
Tar.binDecoder = new TextDecoder("utf-8");


/***/ }),

/***/ 1941:
/*!*****************************************************************************!*\
  !*** ./src/app/services/problem-manager-service/problem-manager.service.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArgDescriptor": () => (/* binding */ ArgDescriptor),
/* harmony export */   "ArgsMap": () => (/* binding */ ArgsMap),
/* harmony export */   "FileDescriptor": () => (/* binding */ FileDescriptor),
/* harmony export */   "FilesMap": () => (/* binding */ FilesMap),
/* harmony export */   "ParamsMap": () => (/* binding */ ParamsMap),
/* harmony export */   "ProblemDescriptor": () => (/* binding */ ProblemDescriptor),
/* harmony export */   "ProblemList": () => (/* binding */ ProblemList),
/* harmony export */   "ProblemManagerService": () => (/* binding */ ProblemManagerService),
/* harmony export */   "ProblemMap": () => (/* binding */ ProblemMap),
/* harmony export */   "RawMap": () => (/* binding */ RawMap),
/* harmony export */   "ServiceDescriptor": () => (/* binding */ ServiceDescriptor),
/* harmony export */   "ServiceMap": () => (/* binding */ ServiceMap)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _api_service_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api-service/api.service */ 6986);



class RawMap extends Map {
}
;
class ProblemList extends Array {
}
;
class ProblemMap extends Map {
}
;
class ServiceMap extends Map {
}
;
class ParamsMap extends ServiceMap {
}
;
class ArgsMap extends Map {
}
;
class FilesMap extends Map {
}
;
class ProblemDescriptor {
    constructor(name, meta) {
        this.name = name;
        this.services = new ServiceMap();
        meta.services.forEach((service, serviceName) => {
            let serviceDesc = new ServiceDescriptor(serviceName, service, this);
            this.services.set(serviceDesc.getKey(), serviceDesc);
        });
        this.key = this.getKey();
    }
    getKey() {
        let key = this.name.trim();
        key = key.toLowerCase();
        key = key.replace("_+", "_");
        key = key.replace(" ", "-");
        key = key.replace("-+", "-");
        key = key.replace("[^a-z0-9_-]", "");
        return key;
    }
}
class ServiceDescriptor {
    constructor(name, service, parent) {
        this.name = name;
        this.parent = parent;
        this.args = new ArgsMap();
        this.files = new FilesMap();
        this.evaluator = service.evaluator;
        this.filesOrder = service.files ?? [];
        this.filesOrder.forEach(name => {
            let file = new FileDescriptor(name, this);
            this.files.set(file.name, file);
        });
        service.args.forEach((arg, argName) => {
            //console.log('ServiceDescriptor:constructor:arg', arg)
            let argDesc = new ArgDescriptor(argName, arg, this);
            this.args.set(argName, argDesc);
        });
        console.log('ServiceDescriptor:constructor:args', this.args);
        this.key = this.getKey();
    }
    getKey() {
        let key = this.name.trim();
        key = key.toLowerCase().trim();
        key = key.replace(" ", "-");
        key = key.replace("[^a-z0-9_-]", "");
        key = key.replace("-+", "-");
        key = key.replace("_+", "_");
        return this.parent.getKey() + "_" + key;
    }
    exportArgs() {
        let args = {};
        this.args.forEach(arg => {
            args[arg.name] = arg.value;
        });
        return args;
    }
    exportFilesPaths() {
        let fileList = new Array();
        this.filesOrder.forEach((name) => {
            let file = this.files.get(name);
            let value = file?.value ?? "";
            fileList.push(value);
        });
        return fileList;
    }
}
class ArgDescriptor {
    constructor(name, arg, parent) {
        this.name = name;
        this.parent = parent;
        this.default = arg.default;
        this.regex = arg.regex;
        this.value = arg.default;
        this.key = this.getKey();
    }
    getKey() {
        let key = this.name.trim();
        key = key.toLowerCase().trim();
        key = key.replace(" ", "-");
        key = key.replace("[^a-z0-9_-]", "");
        key = key.replace("-+", "-");
        key = key.replace("_+", "_");
        return this.parent.getKey() + "_" + key;
    }
}
class FileDescriptor {
    constructor(name, parent) {
        this.name = name;
        this.parent = parent;
        this.value = "";
        this.key = this.getKey();
    }
    getKey() {
        let key = this.name.trim();
        key = key.toLowerCase().trim();
        key = key.replace(" ", "-");
        key = key.replace("[^a-z0-9_-]", "");
        key = key.replace("-+", "-");
        key = key.replace("_+", "_");
        return this.parent.getKey() + "_" + key;
    }
}
class ProblemManagerService {
    constructor(api) {
        this.api = api;
        this.problemList = new ProblemList();
        this.problems = new ProblemMap();
        this.services = new ServiceMap();
        this.savedParams = new ParamsMap();
        this.onProblemsChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
        this.onError = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    }
    updateProblems() {
        this.selectedProblem = undefined;
        this.selectedService = undefined;
        this.problemList = [];
        this.problems.clear();
        this.services.clear();
        this.onProblemsChanged.emit(true);
        let req = this.api.problemList((problemMap) => {
            console.log('apiProblemList:problemList:', problemMap);
            problemMap.forEach((problem, name) => {
                let problemDesc = new ProblemDescriptor(name, problem);
                this.problemList.push(problemDesc);
                this.problems.set(problemDesc.key, problemDesc);
                problemDesc.services.forEach((serviceDesc) => {
                    this.services.set(serviceDesc.key, serviceDesc);
                });
            });
            this.onProblemsChanged.emit(false);
        });
        req.onError = (error) => {
            this.onProblemsChanged.emit(false);
            this.onError.emit(error);
        };
    }
    selectProblem(selectedProblem) {
        this.selectedProblem = selectedProblem;
    }
    selectService(selectedService) {
        let name = selectedService.key;
        if (this.savedParams.has(name)) {
            //TODO: Deep copy param values from  to selectedProblem object, to account for changes in the problem structure.
            this.selectedService = this.savedParams.get(name);
        }
        else {
            this.savedParams.set(name, selectedService);
            this.selectedService = selectedService;
        }
        this.selectedProblem = this.selectedService?.parent;
    }
    validateArgs(service) {
        let issues = new Map();
        service.args.forEach((arg) => {
            let issue = this.validateArg(arg);
            if (issue) {
                issues.set(arg.key, issue);
            }
        });
        return issues;
    }
    validateArg(arg) {
        //set
        if (arg.regex === null) {
            console.log("validateArg:regex:null");
            return null;
        }
        //valid re
        let pattern;
        try {
            pattern = new RegExp(arg.regex);
        }
        catch (error) {
            console.log("validateArg:regex:invalid");
            return null;
        }
        //match
        let match = arg.value.match(pattern);
        console.log("validateArg:value:", arg.value);
        console.log("validateArg:pattern:", pattern);
        console.log("validateArg:match:", match);
        if (!match || match.length == 0) {
            console.log("validateArg:match:no");
            return arg.name + ": Validation error";
        }
        console.log("validateArg:match:yes");
        return null;
    }
}
ProblemManagerService.ɵfac = function ProblemManagerService_Factory(t) { return new (t || ProblemManagerService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiService)); };
ProblemManagerService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: ProblemManagerService, factory: ProblemManagerService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ 8344:
/*!********************************************************************!*\
  !*** ./src/app/services/python-compiler-service/pydiode-driver.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PyodideDriver": () => (/* binding */ PyodideDriver),
/* harmony export */   "PyodideMessageType": () => (/* binding */ PyodideMessageType)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);

var PyodideMessageType;
(function (PyodideMessageType) {
  PyodideMessageType["Ready"] = "Ready";
  PyodideMessageType["InstallPackages"] = "InstallPackages";
  PyodideMessageType["ExecuteFile"] = "ExecuteFile";
  PyodideMessageType["ExecuteCode"] = "ExecuteCode";
  PyodideMessageType["SubscribeStdout"] = "SubscribeStdout";
  PyodideMessageType["SubscribeStderr"] = "SubscribeStderr";
  PyodideMessageType["SendStdin"] = "SendStdin";
  PyodideMessageType["CreateDirectory"] = "CreateDirectory";
  PyodideMessageType["WriteFile"] = "WriteFile";
  PyodideMessageType["ReadFile"] = "ReadFile";
  PyodideMessageType["ReadDirectory"] = "ReadDirectory";
  PyodideMessageType["ScanDirectory"] = "ScanDirectory";
  PyodideMessageType["Delete"] = "Delete";
  PyodideMessageType["Exists"] = "Exists";
})(PyodideMessageType || (PyodideMessageType = {}));
class PyodideDriver {
  constructor() {
    this.worker = new Worker(__webpack_require__.tu(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(0), __webpack_require__.b)));
    this.rootDir = ".";
    this.requestIndex = new Map();
    this.binEncoder = new TextEncoder(); // always utf-8
    this.binDecoder = new TextDecoder("utf-8");
    //alert('driver built!');
    this.worker.onmessage = event => {
      this.didRecieve(event.data);
    };
  }
  mount(path) {
    //TODO
  }
  unmount(path) {
    //TODO
  }
  didRecieve(response) {
    if (!response) {
      return;
    }
    console.log('PyodideFsDriver:didRecieve:', response.message.type, response);
    let requestHandler = this.requestIndex.get(response.uid);
    if (requestHandler != null) {
      let removeRequest = true;
      let msgSent = requestHandler.request.message;
      let msgRecived = response.message;
      let resolvePromise = requestHandler.resolvePromise;
      switch (response.message.type) {
        case PyodideMessageType.Ready:
          this.didReceiveReady(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.InstallPackages:
          this.didReceiveInstallPackages(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.ExecuteCode:
          this.didReceiveExecuteCode(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.ExecuteFile:
          this.didReceiveExecuteFile(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.SubscribeStdout:
          this.didReceiveSubscribeStdout(msgSent, msgRecived, resolvePromise);
          removeRequest = false;
          break;
        case PyodideMessageType.SubscribeStderr:
          this.didReceiveSubscribeStderr(msgSent, msgRecived, resolvePromise);
          removeRequest = false;
          break;
        case PyodideMessageType.SendStdin:
          this.didReceiveSendStdin(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.CreateDirectory:
          this.didReceiveCreateDirectory(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.ReadDirectory:
          this.didReceiveReadDirectory(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.ScanDirectory:
          this.didReceiveScanDirectory(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.WriteFile:
          this.didReceiveWriteFile(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.ReadFile:
          this.didReceiveReadFile(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.Delete:
          this.didReceiveDelete(msgSent, msgRecived, resolvePromise);
          break;
        case PyodideMessageType.Exists:
          this.didReceiveExists(msgSent, msgRecived, resolvePromise);
          break;
      }
      if (removeRequest) {
        this.requestIndex.delete(response.uid);
      }
    }
  }
  didReceiveReady(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveReady: ");
    let ready = msgRecived.args[0];
    ///alert(111)
    resolvePromise(ready == 'true' ? true : false);
  }
  didReceiveInstallPackages(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveInstallPackages: ");
    if (msgSent.contents.length != 1) {
      resolvePromise("");
    }
    console.log(msgRecived.contents);
    resolvePromise(this.toString(msgRecived.contents[0]));
  }
  didReceiveExecuteCode(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveExecuteCode: ");
    if (msgSent.contents.length != 1) {
      resolvePromise("");
    }
    console.log(msgRecived.contents);
    resolvePromise(this.toString(msgRecived.contents[0]));
  }
  didReceiveExecuteFile(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveExecuteFile: ");
    if (msgSent.contents.length != 1) {
      resolvePromise("");
    }
    console.log(msgRecived.contents);
    resolvePromise(this.toString(msgRecived.contents[0]));
  }
  didReceiveSubscribeStdout(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveSubscribeStdout: ");
    if (msgRecived.args.length == 1) {
      let result = msgRecived.args[0] == 'true';
      resolvePromise(result);
    }
    if (this.onStdout && msgRecived.contents.length > 0) {
      console.log(msgRecived.contents);
      let content = msgRecived.contents[0];
      this.onStdout(this.toString(content));
    }
  }
  didReceiveSubscribeStderr(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveSubscribeStderr: ");
    if (msgRecived.args.length == 1) {
      let result = msgRecived.args[0] == 'true';
      resolvePromise(result);
    }
    if (this.onStderr && msgRecived.contents.length > 0) {
      console.log(msgRecived.contents);
      let content = msgRecived.contents[0];
      this.onStderr(this.toString(content));
    }
  }
  didReceiveSendStdin(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveSendStdin: ");
    if (msgRecived.args.length > 0) {
      let result = msgRecived.args[0] == 'true';
      resolvePromise(result);
    }
    resolvePromise(false);
  }
  didReceiveCreateDirectory(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveCreateDirectory: ");
    if (msgSent.args.length != 1) {
      resolvePromise(false);
    }
    let pathSent = msgSent.args[0];
    let pathRecived = msgRecived.args[0];
    resolvePromise(pathSent == pathRecived);
  }
  didReceiveReadDirectory(msgSent, msgRecived, resolvePromise) {
    //TODO: do the actual thing 
    let replacer = (key, value) => {
      if (value instanceof ArrayBuffer) {
        let buffer = new Uint8Array(value);
        return Array.from(buffer);
      }
      return value;
    };
    let node = JSON.parse(this.toString(msgRecived.contents[0]), this.jsonReplacer);
    console.log("didReceiveReadDirectory: ", node);
    resolvePromise(node);
  }
  didReceiveScanDirectory(msgSent, msgRecived, resolvePromise) {
    //TODO: do the actual thing 
    let node = JSON.parse(this.toString(msgRecived.contents[0]), this.jsonReplacer);
    console.log("didReceiveScanDirectory: ", node);
    resolvePromise(node);
  }
  jsonReplacer(key, value) {
    if (typeof value !== 'object') {
      return value;
    }
    //console.log('jsonReplacer:object:',key,value)
    if (!("flags" in value && "constructor" in value && "data" in value)) {
      return value;
    }
    //console.log('jsonReplacer:constructor',value.constructor)
    if (value.constructor == 'ArrayBuffer' && value.data instanceof Array) {
      //console.log('jsonReplacer:ArrayBuffer')
      let buffer = Uint8Array.from(value.data).buffer;
      console.log('jsonReplacer:ArrayBuffer', buffer);
      return buffer;
    }
    return value;
  }
  didReceiveReadFile(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveReadFile:\n", msgRecived.contents.length);
    resolvePromise(msgRecived.contents[0]);
  }
  didReceiveWriteFile(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveWriteFile: ");
    console.log(msgRecived.args.length);
    console.log(msgRecived.contents.length);
    //TODO:
    resolvePromise(msgRecived.contents.length);
  }
  didReceiveDelete(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveDelete: ");
    resolvePromise(true);
  }
  didReceiveExists(msgSent, msgRecived, resolvePromise) {
    console.log("didReceiveExists: ");
    let res = msgRecived.args[0];
    resolvePromise(res == 'true');
  }
  sendMessage(message) {
    //alert('sendMessage:'+message.type);
    let request = {
      uid: message.uid,
      timestamp: Date.now(),
      message: message
    };
    let promiseResolver;
    let resultPromise = new Promise((resolve, reject) => {
      promiseResolver = resolve;
    });
    let requestHandler = {
      uid: message.uid,
      request: request,
      resolvePromise: value => {
        promiseResolver(value);
      }
    };
    this.requestIndex.set(message.uid, requestHandler);
    this.worker.postMessage(request);
    return resultPromise;
  }
  ready() {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this.requestUID(),
        type: PyodideMessageType.Ready,
        args: [],
        contents: []
      };
      let resultPromise = _this.sendMessage(message);
      return resultPromise;
    })();
  }
  installPackages(packages) {
    var _this2 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this2.requestUID(),
        type: PyodideMessageType.InstallPackages,
        args: packages,
        contents: []
      };
      let resultPromise = _this2.sendMessage(message);
      return resultPromise;
    })();
  }
  executeCode(code) {
    var _this3 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this3.requestUID(),
        type: PyodideMessageType.ExecuteCode,
        args: [],
        contents: [code]
      };
      let resultPromise = _this3.sendMessage(message);
      return resultPromise;
    })();
  }
  executeFile(fullpath) {
    var _this4 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this4.requestUID(),
        type: PyodideMessageType.ExecuteFile,
        args: [fullpath],
        contents: []
      };
      let resultPromise = _this4.sendMessage(message);
      return resultPromise;
    })();
  }
  subscribeStdout(enable = true, onStdout) {
    let message = {
      uid: this.requestUID(),
      type: PyodideMessageType.SubscribeStdout,
      args: [enable ? 'true' : 'false'],
      contents: []
    };
    if (onStdout && enable) {
      this.onStdout = msg => {
        onStdout(msg);
      };
    } else {
      this.onStdout = undefined;
    }
    let resultPromise = this.sendMessage(message);
    return resultPromise;
  }
  subscribeStderr(enable = true, onStderr) {
    let message = {
      uid: this.requestUID(),
      type: PyodideMessageType.SubscribeStderr,
      args: [enable ? 'true' : 'false'],
      contents: []
    };
    if (onStderr && enable) {
      this.onStderr = msg => {
        onStderr(msg);
      };
    } else {
      this.onStderr = undefined;
    }
    let resultPromise = this.sendMessage(message);
    return resultPromise;
  }
  sendStdin(msg) {
    let message = {
      uid: this.requestUID(),
      type: PyodideMessageType.SendStdin,
      args: [],
      contents: [msg]
    };
    let resultPromise = this.sendMessage(message);
    return resultPromise;
  }
  createDirectory(fullpath) {
    var _this5 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this5.requestUID(),
        type: PyodideMessageType.CreateDirectory,
        args: [fullpath],
        contents: []
      };
      let resultPromise = _this5.sendMessage(message);
      return resultPromise;
    })();
  }
  readFile(fullpath, binary = true) {
    var _this6 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this6.requestUID(),
        type: PyodideMessageType.ReadFile,
        args: [fullpath],
        contents: []
      };
      if (binary) {
        message.args.push('binary');
      }
      let resultPromise = _this6.sendMessage(message);
      return resultPromise;
    })();
  }
  writeFile(fullpath, content) {
    var _this7 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("writeFile: " + fullpath);
      let message = {
        uid: _this7.requestUID(),
        type: PyodideMessageType.WriteFile,
        args: [fullpath],
        contents: []
      };
      message.contents.push(content);
      let resultPromise = _this7.sendMessage(message);
      return resultPromise;
    })();
  }
  readDirectory(fullpath) {
    var _this8 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this8.requestUID(),
        type: PyodideMessageType.ReadDirectory,
        args: [fullpath],
        contents: []
      };
      let resultPromise = _this8.sendMessage(message);
      return resultPromise;
    })();
  }
  scanDirectory(fullpath, recursive = false, parent) {
    var _this9 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!fullpath) {
        fullpath = './';
      }
      let message = {
        uid: _this9.requestUID(),
        type: PyodideMessageType.ScanDirectory,
        args: [fullpath, recursive ? 'recursive' : 'flat'],
        contents: []
      };
      let resultPromise = _this9.sendMessage(message);
      return resultPromise;
    })();
  }
  delete(fullpath) {
    var _this10 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this10.requestUID(),
        type: PyodideMessageType.Delete,
        args: [fullpath],
        contents: []
      };
      let resultPromise = _this10.sendMessage(message);
      return resultPromise;
    })();
  }
  exists(fullpath) {
    var _this11 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let message = {
        uid: _this11.requestUID(),
        type: PyodideMessageType.Exists,
        args: [fullpath],
        contents: []
      };
      let resultPromise = _this11.sendMessage(message);
      return resultPromise;
    })();
  }
  toString(data) {
    if (data instanceof ArrayBuffer) {
      return this.binDecoder.decode(data);
    }
    return data;
  }
  toArrayBuffer(data) {
    if (data instanceof ArrayBuffer) {
      return data;
    }
    return this.binEncoder.encode(data);
  }
  requestUID() {
    var timestap = new Date().getTime();
    let seed = Math.floor(Math.random() * 100000000);
    return 'uid-' + timestap + '-' + seed;
  }
}
/*
}


sendMessage(type: PyodideFsMessageType, args?:string[], contents?:string[], response?:(data:string)=>void){
  if(!(args)){ args = []; }
  if(!(contents)){ contents = []; }
  
  const uid = this.requestUID();

  
  
  const message: PyodideFsMessage = {
    type: type,
    uid: uid,
    args: args,
    contents: contents
  }
  this.worker.postMessage(message);
  let onData = (data:Event)=>{
    if(response){response(data);}
    if(this.worker.removeAllListeners){worker.removeAllListeners(uid)}
  }
  worker.addEventListener(uid, onData);
}

async createDirectory(fullpath:string): Promise<boolean>{
  return false;
}

async writeFile(fullpath:string, content:string): Promise<number>{
  return -1;
}

async readDirectory(fullpath:string):Promise<FsNode|null>{
  return null;
}



async scanDirectory(path?:string, recursive=false, parent?:FsNode):Promise<FsNode>{
  if(!path){path='./'}
  return {name:path,path:path,isFolder:false, depth:-1};
}



/*
sendMessages(){
  this.pycs.worker.onmessage = ({ data }) => {
    console.log(`page got message: ${data}`);
  }
  
  const messageInstall: PythonCompilerMessageInterface = {
    type: PythonCompilerMessageInterfaceType.PackageInstall,
    packages: ['fake-traffic'],
  }
  this.pycs.worker.postMessage(messageInstall);

  const messageToSend: PythonCompilerMessageInterface = {
    type: PythonCompilerMessageInterfaceType.ExecuteCode,
    code: `
    import os
    print(os.listdir('/'))
    print(os.listdir('/mnt'))
    import fox
    import mainC
`
  }

  this.pycs.worker.postMessage(messageToSend);

}

async createDirectory(fullpath:string): Promise<boolean>{
  let res = await this.fs.createDirectory(fullpath);
  return await this.fs.exists(fullpath);
}

async writeFile(fullpath:string, content:string): Promise<number>{
  let res = await this.fs.writeFile(fullpath, content);
  if (!(await this.fs.exists(fullpath)) ) {return -1;}
  return res.data.length;
}

async readDirectory(fullpath:string):Promise<FsNode|null>{
  if ( await this.fs.exists(fullpath) ) {
    return this.scanDirectory(fullpath, false );
  }
  return null;
}
*/

/***/ }),

/***/ 4793:
/*!*****************************************************************************!*\
  !*** ./src/app/services/python-compiler-service/python-compiler.service.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PythonCompilerService": () => (/* binding */ PythonCompilerService)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);
/* harmony import */ var _pydiode_driver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pydiode-driver */ 8344);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _fs_service_fs_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../fs-service/fs.service */ 7934);




class PythonCompilerService {
  constructor(fs) {
    this.fs = fs;
    this.driverName = 'pyodide';
    this.projectFolder = "/.talight/";
    this.configName = "talight.json";
    this.configPath = this.projectFolder + this.configName;
    this.worker = new Worker(__webpack_require__.tu(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(1), __webpack_require__.b)));
    this.driver = new _pydiode_driver__WEBPACK_IMPORTED_MODULE_1__.PyodideDriver();
    this.fs.registerDriver(this.driverName, this.driver);
  }
  createPythonProject() {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("createPythonProject");
      if (!_this.driver) {
        return false;
      }
      if (yield _this.driver.exists(_this.configPath)) {
        console.log("createPythonProject:skipping");
        return true;
      }
      let configContent = JSON.stringify(new PythonConfig(), null, 4);
      console.log("createPythonProject:project:", _this.projectFolder);
      yield _this.driver?.createDirectory(_this.projectFolder);
      console.log("createPythonProject:config:", _this.configPath, configContent);
      yield _this.driver?.writeFile(_this.configPath, configContent);
      let content = `print("asd") \ndata = 123 \nprint("data:", data)`;
      console.log("createPythonProject:content:", content);
      yield _this.driver?.writeFile('/main.py', content);
      console.log("createPythonProject:data:");
      yield _this.driver?.createDirectory('/data/');
      let bot = `import time
def sleep(seconds):
    start = now = time.time()
    while now - start < seconds:
        now = time.time()

sleep(2)
print("100 0")`;
      yield _this.driver?.writeFile('/free_sum_mysimplebot.py', bot);
      return true;
    })();
  }
  readPythonConfig() {
    var _this2 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this2.driver) {
        return null;
      }
      if (!(yield _this2.driver.exists(_this2.configPath))) {
        console.log("readPythonConfig: config file doesn't exisit!");
        return null;
      }
      let configContent = yield _this2.driver?.readFile(_this2.configPath, false);
      let config = JSON.parse(configContent);
      return config;
    })();
  }
  runProject() {
    var _this3 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let config = yield _this3.readPythonConfig();
      if (!config) {
        return null;
      }
      yield _this3.driver?.installPackages(config.PIP_PACKAGES);
      let result = yield _this3.driver?.executeFile(config.MAIN);
      console.log(result);
      return result;
    })();
  }
  installPackages(packages) {
    var _this4 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this4.driver?.installPackages(packages);
    })();
  }
  executeFile(fullpath) {
    var _this5 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this5.driver?.executeFile(fullpath);
    })();
  }
}
PythonCompilerService.ɵfac = function PythonCompilerService_Factory(t) {
  return new (t || PythonCompilerService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_2__.FsService));
};
PythonCompilerService.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({
  token: PythonCompilerService,
  factory: PythonCompilerService.ɵfac,
  providedIn: 'root'
});
class PythonConfig {
  constructor() {
    this.MAIN = "main.py";
    this.DEBUG = false;
    this.DOWNLOAD_ATTACHMENT_AUTO = true;
    this.PROJECT_NAME = "My 3SAT";
    this.TAL_SERVERS = ["ws://localhost:8008/", "wss://ta.di.univr.it/sfide", "wss://ta.di.univr.it/rtel"];
    this.TAL_SERVER = "";
    this.TAL_PROBLEM = "";
    this.TAL_SERVICE = "";
    this.PIP_PACKAGES = ["numpy"];
    this.DIR_PROJECT = '/.talight/';
    this.DIR_ATTACHMENTS = '/data/';
    this.DIR_RESULTS = '/results/';
    this.DIR_ARGSFILE = '/files/';
    this.CONFIG_NAME = 'taglight.json';
    this.PATH_CONFIG = this.DIR_PROJECT + this.CONFIG_NAME;
  }
}

/***/ }),

/***/ 6219:
/*!*********************************************************!*\
  !*** ./src/app/services/theme-service/theme.service.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppTheme": () => (/* binding */ AppTheme),
/* harmony export */   "ThemeService": () => (/* binding */ ThemeService)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 7774);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ 8205);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);



var AppTheme;
(function (AppTheme) {
    AppTheme["light"] = "light-theme.css";
    AppTheme["dark"] = "dark-theme.css";
})(AppTheme || (AppTheme = {}));
class ThemeService {
    constructor(document) {
        this.document = document;
        this.themeChanged = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
        const storedTheme = localStorage.getItem('theme') || AppTheme.light;
        this.setTheme(storedTheme);
    }
    get currentTheme() {
        const storedTheme = localStorage.getItem('theme') || AppTheme.light;
        return storedTheme;
    }
    setTheme(theme) {
        if (theme === AppTheme.light || theme === AppTheme.dark) {
            let themeLink = this.document.getElementById('app-theme');
            if (themeLink) {
                localStorage.setItem('theme', theme);
                themeLink.href = theme;
                this.themeChanged.next(theme);
            }
        }
    }
    toggleTheme() {
        const storedTheme = localStorage.getItem('theme') || AppTheme.light;
        const newTheme = storedTheme === AppTheme.light ? AppTheme.dark : AppTheme.light;
        this.setTheme(newTheme);
    }
    themeName() {
        switch (this.currentTheme) {
            case AppTheme.dark:
                return "vs-dark";
            default:
                return "vs";
        }
    }
}
ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_2__.DOCUMENT)); };
ThemeService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: ThemeService, factory: ThemeService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ 576:
/*!**************************************************************!*\
  !*** ./src/app/views/connect-view/connect-view.component.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConnectViewComponent": () => (/* binding */ ConnectViewComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var primeng_inputtext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primeng/inputtext */ 5022);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/button */ 540);



class ConnectViewComponent {
    constructor() { }
    ngOnInit() {
    }
}
ConnectViewComponent.ɵfac = function ConnectViewComponent_Factory(t) { return new (t || ConnectViewComponent)(); };
ConnectViewComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ConnectViewComponent, selectors: [["tal-connect-view"]], decls: 14, vars: 0, consts: [[1, "tal-center-page"], [1, "tal-center-form"], [1, "tal-form-input"], ["for", "serverurl"], ["name", "serverurl", "input", "", "type", "text", "pInputText", "", "placeholder", "https://..."], [1, "tal-error"], [1, "pi", "pi-times-circle"], ["pButton", ""]], template: function ConnectViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Connettiti ad un server");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 1)(4, "div", 2)(5, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "Server Url");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "i", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Questo \u00E8 un errore");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Connetti");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    } }, dependencies: [primeng_inputtext__WEBPACK_IMPORTED_MODULE_1__.InputText, primeng_button__WEBPACK_IMPORTED_MODULE_2__.ButtonDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb25uZWN0LXZpZXcuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 3803:
/*!**********************************************!*\
  !*** ./src/app/views/demo-view/demo-view.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DemoViewComponent": () => (/* binding */ DemoViewComponent)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/api-service/api.service */ 6986);




class DemoViewComponent {
  constructor(zone, api) {
    this.zone = zone;
    this.api = api;
    this.output = "";
  }
  ngOnInit() {
    //api.problemList((problemList: any) => {console.log(problemList)});
    /*
    api.getAttachment(
      "piastrelle",
      ()=>{console.log("Attachment packet received")},
      (onAttachmentInfo: any) => {console.log(onAttachmentInfo)},
      (data: ArrayBuffer) => {
        console.log("ArrayBuffer received");
             const arrayBufferToFile = (buffer:any, filename:any) => {
          const blob = new Blob([buffer], { type: 'application/octet-stream' });
          return new File([blob], filename, { type: 'application/octet-stream' });
        };
             let file = arrayBufferToFile(data, "/home/michele/piastrelle.tar");
        console.log(file);
      }
    );
    
         api.Connect(
      "sum",
      "synopsis",
      {"service":"free_sum"},
      undefined,
      undefined,
      undefined,
      (onConnectionBegin: any) => {console.log("Connection Begin -> " + onConnectionBegin); },
      () => {console.log("Connection Start")},
      (onConnectionClose: any) => {console.log(onConnectionClose)},
      (onData: any) => {console.log(onData)},
      (onError: any) => {alert(onError)},
    );
         */
  }
  //API Test
  onApiError(message) {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      alert("Error: " + message);
    })();
  }
  refreshOutput() {
    this.zone.run(() => this.output += "");
  }
  apiProblemList() {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let onSuccess = problemList => {
        console.log(problemList);
        _this.refreshOutput();
      };
      let req = _this.api.problemList(onSuccess);
      req.onError = _this.onApiError;
    })();
  }
  apiGetAttachment() {
    var _this2 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let problem_name = "piastrelle";
      let onAttachment = () => {
        console.log("Attachment packet received");
      };
      let onAttachmentInfo = onAttachmentInfo => {
        console.log(onAttachmentInfo);
      };
      let onData = data => {
        console.log(data);
        _this2.refreshOutput();
      };
      let req = _this2.api.GetAttachment(problem_name, onAttachment, onAttachmentInfo, onData);
      req.onError = _this2.onApiError;
    })();
  }
  apiConnect() {
    var _this3 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let problem_name = "sum_testAPI";
      let service = "free_sum";
      let onConnectionBegin = onConnectionBegin => {
        console.log("Connection Begin -> " + onConnectionBegin);
      };
      let onConnectionStart = () => {
        console.log("Connection Start");
      };
      let onConnectionClose = onConnectionClose => {
        console.log(onConnectionClose);
      };
      let onData = data => {
        _this3.output += '' + data;
        console.log("Binary data: " + data);
        _this3.refreshOutput();
      };
      let req = _this3.api.Connect(problem_name, service, undefined, undefined, undefined, undefined, onConnectionBegin, onConnectionStart, onConnectionClose, onData);
      req.onError = _this3.onApiError;
      _this3.cmdConnect = req;
      _this3.sendBinary();
    })();
  }
  //OLD
  apiConnectOld() {
    var _this4 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let problem_name = "sum_testAPI";
      let service = "free_sum";
      let onConnectionBegin = onConnectionBegin => {
        console.log("Connection Begin -> " + onConnectionBegin);
      };
      let onConnectionStart = () => {
        console.log("Connection Start");
      };
      let onConnectionClose = onConnectionClose => {
        console.log(onConnectionClose);
      };
      let onData = data => {
        _this4.output += '' + data;
        console.log("Binary data: " + data);
        _this4.refreshOutput();
      };
      let req = _this4.api.Connect(problem_name, service, undefined, undefined, undefined, undefined, onConnectionBegin, onConnectionStart, onConnectionClose, onData);
      req.onError = _this4.onApiError;
      _this4.cmdConnect = req;
      _this4.sendBinary();
    })();
  }
  sendBinary() {
    var _this5 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      setTimeout(() => {
        _this5.cmdConnect?.sendBinary("100 0\n");
      }, 1500);
      //setTimeout(() => {this.cmdConnect?.sendConnectStop();}, 2500);
      /*
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 2500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 3500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 4500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 5500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 6500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 7500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 8500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 9500);
      setTimeout(async () => {this.cmdConnect?.sendBinary("100 0");}, 10500);
      */
      setTimeout(() => {
        console.log("this.cmdConnect!.tal.isOpen()");
        console.log(_this5.cmdConnect.tal.isOpen());
      }, 2500);
    })();
  }
}
DemoViewComponent.ɵfac = function DemoViewComponent_Factory(t) {
  return new (t || DemoViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_1__.ApiService));
};
DemoViewComponent.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
  type: DemoViewComponent,
  selectors: [["app-demo-view"]],
  decls: 16,
  vars: 1,
  consts: [[2, "display", "flex", "flex-direction", "row"], [3, "click"]],
  template: function DemoViewComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 0)(1, "div")(2, "div");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3, " API Demo ");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "div")(5, "button", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function DemoViewComponent_Template_button_click_5_listener() {
        return ctx.apiProblemList();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6, "Problem List");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "button", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function DemoViewComponent_Template_button_click_7_listener() {
        return ctx.apiGetAttachment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](8, "Get Attachment");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](9, "button", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function DemoViewComponent_Template_button_click_9_listener() {
        return ctx.apiConnectOld();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](10, "Connect Old");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](11, "button", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function DemoViewComponent_Template_button_click_11_listener() {
        return ctx.apiConnect();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](12, "Connect");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "div")(14, "pre");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](15);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](15);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](ctx.output);
    }
  },
  styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZW1vLXZpZXcuY29tcG9uZW50LnNjc3MifQ== */"]
});

/***/ }),

/***/ 9627:
/*!********************************************************!*\
  !*** ./src/app/views/home-view/home-view.component.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HomeViewComponent": () => (/* binding */ HomeViewComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _widgets_code_editor_code_editor_code_editor_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../widgets/code-editor/code-editor/code-editor.component */ 1190);


const _c0 = ["codeEditor"];
class HomeViewComponent {
    constructor() {
    }
    ngOnInit() {
    }
}
HomeViewComponent.ɵfac = function HomeViewComponent_Factory(t) { return new (t || HomeViewComponent)(); };
HomeViewComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: HomeViewComponent, selectors: [["tal-home-view"]], viewQuery: function HomeViewComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 5);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.codeEditor = _t.first);
    } }, decls: 4, vars: 0, consts: [[1, "tal-home-container"], [1, "tal-home-editor"], ["codeEditor", ""]], template: function HomeViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "tal-code-editor", null, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    } }, dependencies: [_widgets_code_editor_code_editor_code_editor_component__WEBPACK_IMPORTED_MODULE_0__.CodeEditorComponent], styles: ["div.tal-home-container[_ngcontent-%COMP%] {\n  height: 100%;\n}\ndiv.tal-home-container[_ngcontent-%COMP%]   div.tal-home-editor[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: stretch;\n  height: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUtdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLFlBQUE7QUFESjtBQUdJO0VBQ0ksYUFBQTtFQUNBLG9CQUFBO0VBQ0EsWUFBQTtBQURSIiwiZmlsZSI6ImhvbWUtdmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5kaXYudGFsLWhvbWUtY29udGFpbmVye1xuICAgIGhlaWdodDoxMDAlO1xuXG4gICAgZGl2LnRhbC1ob21lLWVkaXRvcntcbiAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgICAgICAgaGVpZ2h0OjEwMCU7XG4gICAgXG4gICAgICBcbiAgICB9XG59XG4iXX0= */"] });


/***/ }),

/***/ 6192:
/*!****************************************************************************!*\
  !*** ./src/app/views/select-problem-view/select-problem-view.component.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SelectProblemViewComponent": () => (/* binding */ SelectProblemViewComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 7774);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/button */ 540);
/* harmony import */ var primeng_radiobutton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primeng/radiobutton */ 8299);





function SelectProblemViewComponent_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SelectProblemViewComponent_ng_container_5_Template_div_click_1_listener() { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const problem_r1 = restoredCtx.$implicit; const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r2.selectedProblem = problem_r1.id); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "p-radioButton", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function SelectProblemViewComponent_ng_container_5_Template_p_radioButton_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r4.selectedProblem = $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 7)(4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const problem_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", problem_r1.id)("ngModel", ctx_r0.selectedProblem);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](problem_r1.name);
} }
class SelectProblemViewComponent {
    constructor() {
        this.problems = [
            {
                id: 1, name: 'Problem 1',
            },
            {
                id: 2, name: 'Problem 2',
            },
            {
                id: 3, name: 'Problem 3',
            },
            {
                id: 4, name: 'Problem 4',
            },
        ];
        this.selectedProblem = null;
    }
    ngOnInit() {
    }
}
SelectProblemViewComponent.ɵfac = function SelectProblemViewComponent_Factory(t) { return new (t || SelectProblemViewComponent)(); };
SelectProblemViewComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SelectProblemViewComponent, selectors: [["tal-select-problem-view"]], decls: 8, vars: 1, consts: [[1, "tal-center-page"], [1, "tal-center-form"], [1, "tal-problems-list"], [4, "ngFor", "ngForOf"], ["pButton", ""], [1, "tal-problem", 3, "click"], ["name", "groupname", 3, "value", "ngModel", "ngModelChange"], [1, "tal-problem-details"]], template: function SelectProblemViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Seleziona un problema da risolvere");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 1)(4, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, SelectProblemViewComponent_ng_container_5_Template, 6, 3, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Inizia");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.problems);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgForOf, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NgModel, primeng_button__WEBPACK_IMPORTED_MODULE_3__.ButtonDirective, primeng_radiobutton__WEBPACK_IMPORTED_MODULE_4__.RadioButton], styles: ["div.tal-problems-list[_ngcontent-%COMP%] {\n  max-height: 70vh;\n  overflow-y: auto;\n}\ndiv.tal-problems-list[_ngcontent-%COMP%]   div.tal-problem[_ngcontent-%COMP%] {\n  width: 500px;\n  max-width: 90vw;\n  padding: 1rem;\n  display: flex;\n  align-items: center;\n  border-bottom: solid 1px var(--surface-border);\n  cursor: pointer;\n}\ndiv.tal-problems-list[_ngcontent-%COMP%]   div.tal-problem[_ngcontent-%COMP%]:hover {\n  background-color: var(--surface-hover);\n}\ndiv.tal-problems-list[_ngcontent-%COMP%]   div.tal-problem[_ngcontent-%COMP%]:active {\n  background-color: var(--surface-active);\n}\ndiv.tal-problems-list[_ngcontent-%COMP%]   div.tal-problem[_ngcontent-%COMP%]   div.tal-problem-details[_ngcontent-%COMP%] {\n  margin-left: 0.5rem;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbGVjdC1wcm9ibGVtLXZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7QUFBSTtFQUNJLFlBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhDQUFBO0VBQ0EsZUFBQTtBQUVSO0FBQVE7RUFDSSxzQ0FBQTtBQUVaO0FBQ1E7RUFDSSx1Q0FBQTtBQUNaO0FBR1E7RUFDSSxtQkFBQTtBQURaIiwiZmlsZSI6InNlbGVjdC1wcm9ibGVtLXZpZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJkaXYudGFsLXByb2JsZW1zLWxpc3Qge1xuICBtYXgtaGVpZ2h0OiA3MHZoO1xuICBvdmVyZmxvdy15OmF1dG87XG4gICAgZGl2LnRhbC1wcm9ibGVte1xuICAgICAgICB3aWR0aDo1MDBweDtcbiAgICAgICAgbWF4LXdpZHRoOjkwdnc7XG4gICAgICAgIHBhZGRpbmc6MXJlbTtcbiAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBib3JkZXItYm90dG9tOnNvbGlkIDFweCB2YXIoLS1zdXJmYWNlLWJvcmRlcik7XG4gICAgICAgIGN1cnNvcjpwb2ludGVyO1xuICAgICAgICBcbiAgICAgICAgJjpob3ZlcntcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tc3VyZmFjZS1ob3Zlcik7XG4gICAgICAgIH1cblxuICAgICAgICAmOmFjdGl2ZXtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tc3VyZmFjZS1hY3RpdmUpO1xuICAgICAgICB9XG5cblxuICAgICAgICBkaXYudGFsLXByb2JsZW0tZGV0YWlsc3tcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OjAuNXJlbTtcbiAgICAgICAgfVxuICAgIH1cbn0iXX0= */"] });


/***/ }),

/***/ 6037:
/*!***********************************************************!*\
  !*** ./src/app/widgets/code-editor/code-editor.module.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CodeEditorModule": () => (/* binding */ CodeEditorModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 7774);
/* harmony import */ var _file_explorer_widget_file_explorer_widget_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./file-explorer-widget/file-explorer-widget.component */ 4549);
/* harmony import */ var _code_editor_code_editor_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./code-editor/code-editor.component */ 1190);
/* harmony import */ var ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ngx-monaco-editor-v2 */ 2117);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primeng/api */ 2898);
/* harmony import */ var primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/overlaypanel */ 2026);
/* harmony import */ var primeng_confirmdialog__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/confirmdialog */ 5564);
/* harmony import */ var primeng_splitter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! primeng/splitter */ 5635);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! primeng/tooltip */ 5166);
/* harmony import */ var _file_editor_widget_file_editor_widget_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./file-editor-widget/file-editor-widget.component */ 2669);
/* harmony import */ var _execbar_widget_execbar_widget_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./execbar-widget/execbar-widget.component */ 3750);
/* harmony import */ var _problem_widget_problem_widget_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./problem-widget/problem-widget.component */ 3015);
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! primeng/dropdown */ 5081);
/* harmony import */ var _monaco_editor_widget_monaco_editor_widget_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./monaco-editor-widget/monaco-editor-widget.component */ 275);
/* harmony import */ var _output_widget_output_widget_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./output-widget/output-widget.component */ 9033);
/* harmony import */ var primeng_tabview__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! primeng/tabview */ 1078);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 3991);


















class CodeEditorModule {
}
CodeEditorModule.ɵfac = function CodeEditorModule_Factory(t) { return new (t || CodeEditorModule)(); };
CodeEditorModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: CodeEditorModule });
CodeEditorModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ providers: [primeng_api__WEBPACK_IMPORTED_MODULE_8__.ConfirmationService], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule,
        _angular_forms__WEBPACK_IMPORTED_MODULE_10__.FormsModule,
        ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_11__.MonacoEditorModule,
        primeng_confirmdialog__WEBPACK_IMPORTED_MODULE_12__.ConfirmDialogModule,
        primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_13__.OverlayPanelModule,
        primeng_splitter__WEBPACK_IMPORTED_MODULE_14__.SplitterModule,
        primeng_api__WEBPACK_IMPORTED_MODULE_8__.SharedModule,
        primeng_tooltip__WEBPACK_IMPORTED_MODULE_15__.TooltipModule,
        primeng_dropdown__WEBPACK_IMPORTED_MODULE_16__.DropdownModule,
        primeng_tabview__WEBPACK_IMPORTED_MODULE_17__.TabViewModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](CodeEditorModule, { declarations: [_file_explorer_widget_file_explorer_widget_component__WEBPACK_IMPORTED_MODULE_0__.FileExplorerWidgetComponent,
        _file_editor_widget_file_editor_widget_component__WEBPACK_IMPORTED_MODULE_2__.FileEditorWidgetComponent,
        _code_editor_code_editor_component__WEBPACK_IMPORTED_MODULE_1__.CodeEditorComponent,
        _execbar_widget_execbar_widget_component__WEBPACK_IMPORTED_MODULE_3__.ExecbarWidgetComponent,
        _problem_widget_problem_widget_component__WEBPACK_IMPORTED_MODULE_4__.ProblemWidgetComponent,
        _monaco_editor_widget_monaco_editor_widget_component__WEBPACK_IMPORTED_MODULE_5__.MonacoEditorWidgetComponent,
        _output_widget_output_widget_component__WEBPACK_IMPORTED_MODULE_6__.OutputWidgetComponent], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule,
        _angular_forms__WEBPACK_IMPORTED_MODULE_10__.FormsModule,
        ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_11__.MonacoEditorModule,
        primeng_confirmdialog__WEBPACK_IMPORTED_MODULE_12__.ConfirmDialogModule,
        primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_13__.OverlayPanelModule,
        primeng_splitter__WEBPACK_IMPORTED_MODULE_14__.SplitterModule,
        primeng_api__WEBPACK_IMPORTED_MODULE_8__.SharedModule,
        primeng_tooltip__WEBPACK_IMPORTED_MODULE_15__.TooltipModule,
        primeng_dropdown__WEBPACK_IMPORTED_MODULE_16__.DropdownModule,
        primeng_tabview__WEBPACK_IMPORTED_MODULE_17__.TabViewModule], exports: [_file_explorer_widget_file_explorer_widget_component__WEBPACK_IMPORTED_MODULE_0__.FileExplorerWidgetComponent,
        _code_editor_code_editor_component__WEBPACK_IMPORTED_MODULE_1__.CodeEditorComponent] }); })();


/***/ }),

/***/ 1190:
/*!**************************************************************************!*\
  !*** ./src/app/widgets/code-editor/code-editor/code-editor.component.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CodeEditorComponent": () => (/* binding */ CodeEditorComponent)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);
/* harmony import */ var src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/fs-service/fs.service */ 7934);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var src_app_services_python_compiler_service_python_compiler_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/python-compiler-service/python-compiler.service */ 4793);
/* harmony import */ var src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/api-service/api.service */ 6986);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primeng/api */ 2898);
/* harmony import */ var primeng_splitter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primeng/splitter */ 5635);
/* harmony import */ var _file_explorer_widget_file_explorer_widget_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../file-explorer-widget/file-explorer-widget.component */ 4549);
/* harmony import */ var _file_editor_widget_file_editor_widget_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../file-editor-widget/file-editor-widget.component */ 2669);
/* harmony import */ var _execbar_widget_execbar_widget_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../execbar-widget/execbar-widget.component */ 3750);
/* harmony import */ var _problem_widget_problem_widget_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../problem-widget/problem-widget.component */ 3015);
/* harmony import */ var _output_widget_output_widget_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../output-widget/output-widget.component */ 9033);













const _c0 = ["fileExplorer"];
const _c1 = ["fileEditor"];
const _c2 = ["execBar"];
const _c3 = ["problemWidget"];
const _c4 = ["outputWidget"];
function CodeEditorComponent_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 3)(1, "tal-file-explorer-widget", 4, 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onUpdateRoot", function CodeEditorComponent_ng_template_2_Template_tal_file_explorer_widget_onUpdateRoot_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r5);
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r4.onUpdateRoot($event));
    })("onSelectFile", function CodeEditorComponent_ng_template_2_Template_tal_file_explorer_widget_onSelectFile_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r5);
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r6.selectFile($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
}
function CodeEditorComponent_ng_template_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 6)(1, "div", 7)(2, "tal-execbar-widget", 8, 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onRun", function CodeEditorComponent_ng_template_3_Template_tal_execbar_widget_onRun_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r10);
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r9.runProject());
    })("onConnect", function CodeEditorComponent_ng_template_3_Template_tal_execbar_widget_onConnect_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r10);
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r11.runConnectAPI());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](4, "div", 10)(5, "tal-file-editor-widget", 11, 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onChange", function CodeEditorComponent_ng_template_3_Template_tal_file_editor_widget_onChange_5_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r10);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r12.editorDidChange($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("selectedFile", ctx_r1.selectedFile);
  }
}
function CodeEditorComponent_ng_template_4_ng_template_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tal-problem-widget", 14, 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onAttachments", function CodeEditorComponent_ng_template_4_ng_template_1_Template_tal_problem_widget_onAttachments_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r17);
      const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r16.onAttachments($event));
    })("onProblemChanged", function CodeEditorComponent_ng_template_4_ng_template_1_Template_tal_problem_widget_onProblemChanged_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r17);
      const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r18.onProblemChanged($event));
    })("onServiceChanged", function CodeEditorComponent_ng_template_4_ng_template_1_Template_tal_problem_widget_onServiceChanged_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r17);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r19.onServiceChanged($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
}
function CodeEditorComponent_ng_template_4_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tal-output-widget", 16, 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onStdin", function CodeEditorComponent_ng_template_4_ng_template_2_Template_tal_output_widget_onStdin_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r22);
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r21.onStdin($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
}
const _c5 = function () {
  return {
    "height": "100%"
  };
};
const _c6 = function () {
  return [15, 50];
};
const _c7 = function () {
  return [12, 20];
};
function CodeEditorComponent_ng_template_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "p-splitter", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, CodeEditorComponent_ng_template_4_ng_template_1_Template, 2, 0, "ng-template", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](2, CodeEditorComponent_ng_template_4_ng_template_2_Template, 2, 0, "ng-template", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵstyleMap"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction0"](4, _c5));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("panelSizes", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction0"](5, _c6))("minSizes", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction0"](6, _c7));
  }
}
const _c8 = function () {
  return [15, 50, 35];
};
const _c9 = function () {
  return [12, 20, 20];
};
class CodeEditorComponent {
  constructor(fs, python, api) {
    this.fs = fs;
    this.python = python;
    this.api = api;
    this.binEncoder = new TextEncoder(); // always utf-8
    this.binDecoder = new TextDecoder("utf-8");
    this.fsroot = src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.FsService.EmptyFolder;
    this.fslist = [];
    this.fslistfile = [];
    this.driver = python.driver;
  }
  ngOnInit() {
    this.python.driver?.subscribeStdout(true, msg => {
      this.onStdout(msg);
    });
    this.python.driver?.subscribeStderr(true, msg => {
      this.onStderr(msg);
    });
  }
  runProject(useAPI = false) {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.outputWidget.clearOutput();
      let config = yield _this.python.readPythonConfig();
      if (!config) {
        return false;
      }
      _this.outputWidget.print("RUN: " + config.MAIN);
      _this.saveFile();
      _this.python.runProject().then(() => {
        //this.fileExplorer.refreshRoot()
      });
      return true;
    })();
  }
  onUpdateRoot(fsroot) {
    this.fsroot = fsroot;
    this.fslist = this.fs.treeToList(fsroot);
    this.fslistfile = this.fslist.filter(item => "content" in item);
    this.problemWidget.fslist = this.fslistfile;
  }
  onStdout(data) {
    this.outputWidget.print(data);
    //TODO: if API connect then:
    if (!this.cmdConnect) {
      return;
    }
    this.cmdConnect.sendBinary(data + "\n"); //lo \n va aggiunto all'output del bot python
  }

  onStderr(data) {
    //alert("STDERR: "+data)
    this.outputWidget.print(data);
  }
  onStdin(msg) {
    this.outputWidget.print(msg);
    this.python.driver?.sendStdin(msg);
  }
  onProblemChanged(selectedProblem) {
    console.log("onProblemChanged:", selectedProblem);
    this.selectedProblem = selectedProblem;
  }
  onServiceChanged(selectedService) {
    console.log("onServiceChanged:", selectedService);
    this.selectedService = selectedService;
    this.selectedProblem = selectedService.parent;
  }
  onAttachments(data) {
    var _this2 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("onAttachments:", data);
      if (!_this2.selectedProblem) {
        return;
      }
      let name = _this2.selectedProblem.name;
      if (!(data instanceof ArrayBuffer)) {
        return;
      }
      src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.Tar.unpack(data, /*#__PURE__*/function () {
        var _ref = (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (files, folders) {
          console.log("extractTar:unpack:folders", folders);
          for (var idx in folders) {
            console.log("extractTar:createDirectory:");
            let folder = folders[idx];
            let path = '/data/' + folder.path;
            console.log("extractTar:createDirectory:", path);
            yield _this2.driver?.createDirectory(path);
          }
          console.log("extractTar:createDirectory:DONE");
          console.log("extractTar:unpack:files", files);
          for (var idx in files) {
            console.log("extractTar:writeFile:");
            let file = files[idx];
            let path = '/data/' + file.path;
            let content = file.content;
            console.log("extractTar:writeFile:", path, content);
            yield _this2.driver?.writeFile(path, content);
          }
          console.log("extractTar:writeFile:DONE");
          _this2.fileExplorer.refreshRoot();
        });
        return function (_x, _x2) {
          return _ref.apply(this, arguments);
        };
      }());
    })();
  }
  selectFile(file) {
    console.log('selectFile', file);
    this.selectedFile = file;
    this.execBar.selectedFile = this.selectedFile;
    this.fileEditor.selectedFile = this.selectedFile;
  }
  editorDidChange(file) {
    console.log("editorDidChange:");
    this.saveFile();
  }
  editorDidInput(event) {
    console.log("Input: ", this.fileEditor);
    this.saveFile();
  }
  saveFile() {
    if (this.selectedFile) {
      console.log("saveFile:\n", this.selectedFile.path, "\n", this.fileEditor);
      this.driver?.writeFile(this.selectedFile.path, this.selectedFile.content);
    } else {
      console.log("saveFile:failed");
    }
  }
  //-------------- API CONNECT
  runConnectAPI() {
    this.outputWidget.clearOutput();
    this.saveFile();
    this.apiConnect().then(() => {
      //TODO: on success, new files are downloaded 
      //this.fileExplorer.refreshRoot()
    });
  }
  apiConnect() {
    var _this3 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("apiConnect");
      if (!_this3.selectedService) {
        return false;
      }
      console.log("apiConnect:service:OK");
      let config = yield _this3.python.readPythonConfig();
      if (!config) {
        return false;
      }
      console.log("apiConnect:config:OK");
      let problem = _this3.selectedService.parent.name;
      let service = _this3.selectedService.name;
      let args = _this3.selectedService.exportArgs();
      let tty = undefined;
      let token = undefined;
      let filePaths = _this3.selectedService.exportFilesPaths();
      let files = new Array();
      console.log("apiConnect:params:problem:items:", _this3.fslistfile);
      for (let idx in filePaths) {
        let path = filePaths[idx];
        console.log("apiConnect:params:problem:path:", path);
        let found = _this3.fslistfile.find(item => item.path == path);
        console.log("apiConnect:params:problem:found:", found);
        let content = found ? found.content : "";
        if (content instanceof ArrayBuffer) {
          content = _this3.binDecoder.decode(content);
        }
        files.push(content);
      }
      console.log("apiConnect:params:problem", problem);
      console.log("apiConnect:params:service", service);
      console.log("apiConnect:params:args", args);
      console.log("apiConnect:params:tty", tty);
      console.log("apiConnect:params:token", token);
      console.log("apiConnect:params:files", files);
      let onConnectionStart = () => {
        _this3.didConnectStart();
      };
      let onConnectionBegin = msg => {
        _this3.didConnectBegin(msg);
      };
      let onConnectionClose = msg => {
        _this3.didConnectClose(msg);
      };
      let onData = data => {
        _this3.didConnectData(data);
      };
      _this3.cmdConnect = yield _this3.api.Connect(problem, service, args, tty, token, files, onConnectionBegin, onConnectionStart, onConnectionClose, onData);
      _this3.cmdConnect.onError = error => {
        _this3.didConnectError(error);
      };
      console.log("apiConnect:params:packages", config.PIP_PACKAGES);
      yield _this3.python.installPackages(config.PIP_PACKAGES);
      _this3.outputWidget.print("TEST: " + config.MAIN);
      yield _this3.driver?.executeFile(config.MAIN);
      console.log("apiConnect:DONE");
      return true;
    })();
  }
  didConnectError(error) {
    var _this4 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("apiConnect:didConnectError:", error);
      _this4.cmdConnect = undefined;
    })();
  }
  didConnectStart() {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("apiConnect:didConnectStart");
    })();
  }
  didConnectBegin(message) {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("apiConnect:didConnectBegin:", message);
    })();
  }
  didConnectClose(message) {
    var _this5 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("apiConnect:didConnectionClose:", message);
      _this5.cmdConnect = undefined;
    })();
  }
  didConnectData(data) {
    var _this6 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("apiConnect:didConnectData:", data);
      _this6.onStdin(data);
    })();
  }
}
CodeEditorComponent.ɵfac = function CodeEditorComponent_Factory(t) {
  return new (t || CodeEditorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.FsService), _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](src_app_services_python_compiler_service_python_compiler_service__WEBPACK_IMPORTED_MODULE_2__.PythonCompilerService), _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_3__.ApiService));
};
CodeEditorComponent.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({
  type: CodeEditorComponent,
  selectors: [["tal-code-editor"]],
  viewQuery: function CodeEditorComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵviewQuery"](_c0, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵviewQuery"](_c1, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵviewQuery"](_c2, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵviewQuery"](_c3, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵviewQuery"](_c4, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵloadQuery"]()) && (ctx.fileExplorer = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵloadQuery"]()) && (ctx.fileEditor = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵloadQuery"]()) && (ctx.execBar = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵloadQuery"]()) && (ctx.problemWidget = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵloadQuery"]()) && (ctx.outputWidget = _t.first);
    }
  },
  decls: 5,
  vars: 7,
  consts: [[1, "tal-editor"], [3, "panelSizes", "minSizes"], ["pTemplate", ""], [1, "tal-editor-files"], [3, "onUpdateRoot", "onSelectFile"], ["fileExplorer", ""], [1, "tal-code-editor-container"], [1, "tal-code-editor-header"], [3, "selectedFile", "onRun", "onConnect"], ["execBar", ""], [1, "tal-code-editor"], [3, "onChange"], ["fileEditor", ""], ["id", "tal-problem-column", "layout", "vertical", 3, "panelSizes", "minSizes"], [3, "onAttachments", "onProblemChanged", "onServiceChanged"], ["problemWidget", ""], [3, "onStdin"], ["outputWidget", ""]],
  template: function CodeEditorComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 0)(1, "p-splitter", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](2, CodeEditorComponent_ng_template_2_Template, 3, 0, "ng-template", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](3, CodeEditorComponent_ng_template_3_Template, 7, 1, "ng-template", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](4, CodeEditorComponent_ng_template_4_Template, 3, 7, "ng-template", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵstyleMap"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction0"](4, _c5));
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("panelSizes", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction0"](5, _c8))("minSizes", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction0"](6, _c9));
    }
  },
  dependencies: [primeng_api__WEBPACK_IMPORTED_MODULE_10__.PrimeTemplate, primeng_splitter__WEBPACK_IMPORTED_MODULE_11__.Splitter, _file_explorer_widget_file_explorer_widget_component__WEBPACK_IMPORTED_MODULE_4__.FileExplorerWidgetComponent, _file_editor_widget_file_editor_widget_component__WEBPACK_IMPORTED_MODULE_5__.FileEditorWidgetComponent, _execbar_widget_execbar_widget_component__WEBPACK_IMPORTED_MODULE_6__.ExecbarWidgetComponent, _problem_widget_problem_widget_component__WEBPACK_IMPORTED_MODULE_7__.ProblemWidgetComponent, _output_widget_output_widget_component__WEBPACK_IMPORTED_MODULE_8__.OutputWidgetComponent],
  styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\ndiv.tal-editor[_ngcontent-%COMP%] {\n  flex: 1;\n  width: 100%;\n  height: 100%;\n}\n\ndiv.tal-editor-files[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\ndiv.tal-code-editor-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\ndiv.tal-code-editor-container[_ngcontent-%COMP%]   div.tal-code-editor-header[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n}\n\ndiv.tal-code-editor-container[_ngcontent-%COMP%]   div.tal-code-editor[_ngcontent-%COMP%] {\n  flex: 1;\n  width: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvZGUtZWRpdG9yLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFBSjs7QUFJQTtFQUNJLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQURKOztBQUlBO0VBQ0ksV0FBQTtBQURKOztBQUlBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsV0FBQTtBQURKOztBQUdJO0VBQ0ksYUFBQTtFQUNBLFdBQUE7QUFEUjs7QUFJSTtFQUNJLE9BQUE7RUFDQSxXQUFBO0FBRlIiLCJmaWxlIjoiY29kZS1lZGl0b3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbjpob3N0e1xuICAgIHdpZHRoOjEwMCU7XG4gICAgaGVpZ2h0OjEwMCU7XG4gXG59XG5cbmRpdi50YWwtZWRpdG9ye1xuICAgIGZsZXg6MTtcbiAgICB3aWR0aDoxMDAlO1xuICAgIGhlaWdodDoxMDAlO1xufVxuXG5kaXYudGFsLWVkaXRvci1maWxlc3tcbiAgICB3aWR0aDoxMDAlO1xufVxuXG5kaXYudGFsLWNvZGUtZWRpdG9yLWNvbnRhaW5lcntcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB3aWR0aDoxMDAlO1xuXG4gICAgZGl2LnRhbC1jb2RlLWVkaXRvci1oZWFkZXJ7XG4gICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICB9XG4gICAgXG4gICAgZGl2LnRhbC1jb2RlLWVkaXRvcntcbiAgICAgICAgZmxleDoxO1xuICAgICAgICB3aWR0aDoxMDAlO1xuICAgIH1cbn0iXX0= */"]
});

/***/ }),

/***/ 3750:
/*!********************************************************************************!*\
  !*** ./src/app/widgets/code-editor/execbar-widget/execbar-widget.component.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExecbarWidgetComponent": () => (/* binding */ ExecbarWidgetComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/services/fs-service/fs.service */ 7934);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/button */ 540);




class ExecbarWidgetComponent {
    constructor() {
        this.onRun = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
        this.onConnect = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    }
    ngOnInit() {
    }
    onRunClick() {
        this.onRun.emit(this.selectedFile);
    }
    onConnectClick() {
        this.onConnect.emit(this.selectedFile);
    }
}
ExecbarWidgetComponent.ɵfac = function ExecbarWidgetComponent_Factory(t) { return new (t || ExecbarWidgetComponent)(); };
ExecbarWidgetComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: ExecbarWidgetComponent, selectors: [["tal-execbar-widget"]], inputs: { selectedFile: "selectedFile" }, outputs: { onRun: "onRun", onConnect: "onConnect" }, decls: 7, vars: 1, consts: [[1, "tal-code-editor-execbar"], [1, "tal-code-editor-execbar-left"], [1, "tal-code-editor-execbar-right"], ["pButton", "", "icon", "pi pi-play", "title", "Run locally", 1, "tal-square-button", 3, "click"], ["pButton", "", "icon", "pi pi-cloud-upload", "title", "Verify solution with TALight server", 1, "tal-square-button", 3, "click"]], template: function ExecbarWidgetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "h3");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 2)(5, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ExecbarWidgetComponent_Template_button_click_5_listener() { return ctx.onRunClick(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ExecbarWidgetComponent_Template_button_click_6_listener() { return ctx.onConnectClick(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.selectedFile == null ? null : ctx.selectedFile.name);
    } }, dependencies: [primeng_button__WEBPACK_IMPORTED_MODULE_2__.ButtonDirective], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.tal-code-editor-execbar[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 5px;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.tal-code-editor-execbar[_ngcontent-%COMP%]   .tal-code-editor-execbar-left[_ngcontent-%COMP%], .tal-code-editor-execbar[_ngcontent-%COMP%]   .tal-code-editor-execbar-right[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.tal-code-editor-execbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  height: 30px;\n  width: 30px;\n  min-width: 30px;\n  margin-left: 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4ZWNiYXItd2lkZ2V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG9DQUFBO0FBQ0o7O0FBQ0k7RUFDSSxhQUFBO0FBQ1I7O0FBRUk7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUFSIiwiZmlsZSI6ImV4ZWNiYXItd2lkZ2V0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3R7XG4gICAgd2lkdGg6MTAwJTtcbiAgICBoZWlnaHQ6MTAwJTtcbn1cblxuLnRhbC1jb2RlLWVkaXRvci1leGVjYmFye1xuICAgIGRpc3BsYXk6ZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIHBhZGRpbmc6NXB4O1xuICAgIHdpZHRoOjEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgkY29sb3I6ICMwMDAwMDAsICRhbHBoYTogMC4xKTtcblxuICAgIC50YWwtY29kZS1lZGl0b3ItZXhlY2Jhci1sZWZ0LCAudGFsLWNvZGUtZWRpdG9yLWV4ZWNiYXItcmlnaHR7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgfVxuXG4gICAgYnV0dG9ue1xuICAgICAgICBoZWlnaHQ6MzBweDtcbiAgICAgICAgd2lkdGg6MzBweDtcbiAgICAgICAgbWluLXdpZHRoOjMwcHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OjVweDtcbiAgICB9XG59XG5cbiJdfQ== */"] });


/***/ }),

/***/ 2669:
/*!****************************************************************************************!*\
  !*** ./src/app/widgets/code-editor/file-editor-widget/file-editor-widget.component.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditorOptions": () => (/* binding */ EditorOptions),
/* harmony export */   "EditorOptionsBrowser": () => (/* binding */ EditorOptionsBrowser),
/* harmony export */   "EditorOptionsMonaco": () => (/* binding */ EditorOptionsMonaco),
/* harmony export */   "EditorType": () => (/* binding */ EditorType),
/* harmony export */   "FileAssociation": () => (/* binding */ FileAssociation),
/* harmony export */   "FileAssociationChoiceList": () => (/* binding */ FileAssociationChoiceList),
/* harmony export */   "FileEditorWidgetComponent": () => (/* binding */ FileEditorWidgetComponent),
/* harmony export */   "MatchMethod": () => (/* binding */ MatchMethod),
/* harmony export */   "MatchType": () => (/* binding */ MatchType)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var base64_arraybuffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base64-arraybuffer */ 9378);
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! marked */ 9056);
/* harmony import */ var src_app_services_theme_service_theme_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/theme-service/theme.service */ 6219);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primeng/button */ 540);
/* harmony import */ var _monaco_editor_widget_monaco_editor_widget_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../monaco-editor-widget/monaco-editor-widget.component */ 275);








const _c0 = ["monacoEditor"];
const _c1 = ["browserEditor"];
const _c2 = ["imageViewer"];
const _c3 = ["markdownPreview"];
// Editor UI
var EditorType;
(function (EditorType) {
  EditorType[EditorType["None"] = 0] = "None";
  EditorType[EditorType["Code"] = 1] = "Code";
  EditorType[EditorType["Archive"] = 2] = "Archive";
  EditorType[EditorType["Markdown"] = 3] = "Markdown";
  EditorType[EditorType["Image"] = 4] = "Image";
  EditorType[EditorType["Browser"] = 5] = "Browser";
  EditorType[EditorType["Unknown"] = 6] = "Unknown";
  EditorType[EditorType["Default"] = 5] = "Default";
})(EditorType || (EditorType = {}));
var MatchMethod;
(function (MatchMethod) {
  MatchMethod[MatchMethod["Auto"] = 0] = "Auto";
  MatchMethod[MatchMethod["Exact"] = 1] = "Exact";
  MatchMethod[MatchMethod["Glob"] = 2] = "Glob";
  MatchMethod[MatchMethod["Regex"] = 3] = "Regex";
  MatchMethod[MatchMethod["Default"] = 0] = "Default";
})(MatchMethod || (MatchMethod = {}));
var MatchType;
(function (MatchType) {
  MatchType[MatchType["Auto"] = 0] = "Auto";
  MatchType[MatchType["Extension"] = 1] = "Extension";
  MatchType[MatchType["Mime"] = 2] = "Mime";
  MatchType[MatchType["Default"] = 0] = "Default";
})(MatchType || (MatchType = {}));
//Editor Options
class EditorOptions {}
class EditorOptionsMonaco extends EditorOptions {
  constructor(language = "python") {
    super();
    this.language = language;
  }
}
class EditorOptionsBrowser extends EditorOptions {
  constructor(embedded = true, mime = 'application/octet') {
    super();
    this.embedded = embedded;
    this.mime = mime;
  }
}
//File Assoc
class FileAssociation {
  constructor(pattern = ".*", editorType = EditorType.None, editorOption, priority = 0, matchMethod = MatchMethod.Auto, matchType = MatchType.Auto) {
    this.pattern = pattern;
    this.editorType = editorType;
    this.editorOption = editorOption;
    this.priority = priority;
    this.matchMethod = matchMethod;
    this.matchType = matchType;
  }
  match(file) {
    let parts = file.name.split(".");
    console.log('FileAssociation:match:', parts);
    if (parts.length > 1) {
      let ext = parts.splice(-1)[0];
      console.log('FileAssociation:ext:', ext);
      if (this.pattern == ext) {
        return true;
      }
      if (ext.match(this.pattern)) {
        return true;
      }
    } else {
      //TODO: mime-magic matching
    }
    return false; //No match
  }

  static matchAll(file, associations) {
    let matches = [];
    associations.forEach(association => {
      if (association.match(file)) {
        matches.push(association);
      }
    });
    matches = matches.sort((a, b) => {
      return b.priority - a.priority;
    });
    return matches;
  }
}
class FileAssociationChoiceList {
  constructor(items) {
    this.associations = Array.from(items);
  }
  add(item) {
    if (this.associations.includes(item)) {
      return;
    }
    this.associations.push(item);
  }
  match(file) {
    let matches = FileAssociation.matchAll(file, this.associations);
    console.log('FileAssociationChoiceList:match:', matches);
    if (matches.length == 0) {
      return null;
    }
    let bestMatch = matches[0];
    return bestMatch;
  }
}
class FileEditorWidgetComponent {
  constructor(themeService) {
    this.themeService = themeService;
    this.EditorType = EditorType;
    this.editorType = EditorType.None;
    this.binEncoder = new TextEncoder(); // always utf-8
    this.binDecoder = new TextDecoder("utf-8");
    this.fileAssocList = new FileAssociationChoiceList([
    //Code
    new FileAssociation('py', EditorType.Code, new EditorOptionsMonaco('python')), new FileAssociation('csv', EditorType.Code, new EditorOptionsMonaco('csv')), new FileAssociation('json', EditorType.Code, new EditorOptionsMonaco('json')), new FileAssociation('txt', EditorType.Code, new EditorOptionsMonaco('text')), new FileAssociation('js', EditorType.Code, new EditorOptionsMonaco('javascript')), new FileAssociation('yaml', EditorType.Code, new EditorOptionsMonaco('yaml')),
    //Markdown
    new FileAssociation('md', EditorType.Markdown, new EditorOptionsMonaco('markdown')),
    //Archive
    new FileAssociation('tar', EditorType.Archive), new FileAssociation('zip', EditorType.Archive),
    //PDF
    new FileAssociation('pdf', EditorType.Browser, new EditorOptionsBrowser(true, 'application/pdf')),
    //Images
    new FileAssociation('png', EditorType.Browser, new EditorOptionsBrowser(true, 'image/png')), new FileAssociation('jpg', EditorType.Browser, new EditorOptionsBrowser(true, 'image/jpg')),
    //Other
    new FileAssociation('.*', EditorType.Browser, new EditorOptionsBrowser(true), -10)]);
    this._selectedFile = null;
    this.onChange = new _angular_core__WEBPACK_IMPORTED_MODULE_5__.EventEmitter();
  }
  ngOnInit() {}
  get selectedFile() {
    return this._selectedFile;
  }
  set selectedFile(selectedFile) {
    this._selectedFile = selectedFile;
    console.log('selectedFile:', selectedFile);
    this.selectEditor();
  }
  selectEditor() {
    if (!this._selectedFile) {
      this.editorType = EditorType.None;
      this.openEditor();
      return;
    }
    let bestMatch = this.fileAssocList.match(this._selectedFile);
    if (!bestMatch) {
      this.editorType = EditorType.None;
      this.openEditor();
      return;
    }
    this.editorType = bestMatch.editorType;
    this.editorOption = bestMatch.editorOption;
    console.log("selectEditor:", this.editorType);
    console.log("selectEditor:editorOption:", this.editorOption);
    this.openEditor();
  }
  openEditor() {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this.selectedFile) {
        return;
      }
      console.log('openEditor:', _this.editorType.toString());
      switch (_this.editorType) {
        case EditorType.Markdown:
          let markdownBox = _this.markdownPreview.nativeElement;
          if (_this.selectedFile.content instanceof ArrayBuffer) {
            _this.selectedFile.content = _this.binDecoder.decode(_this.selectedFile.content);
          }
          markdownBox.innerHTML = yield (0,marked__WEBPACK_IMPORTED_MODULE_2__.marked)(_this.selectedFile.content);
          break;
        case EditorType.Code:
          let monacoOptions = _this.editorOption;
          if (_this.selectedFile.content instanceof ArrayBuffer) {
            _this.selectedFile.content = _this.binDecoder.decode(_this.selectedFile.content);
          }
          _this.monacoEditor.selectedFile = _this.selectedFile;
          _this.monacoEditor.language = monacoOptions.language;
          _this.monacoEditor.updateEditorOptions();
          break;
        case EditorType.Browser:
          let browserOptions = _this.editorOption;
          let iframe = _this.browserEditor.nativeElement;
          let header = 'data:' + browserOptions.mime + ';';
          let body;
          if (_this.selectedFile.content instanceof ArrayBuffer) {
            console.log('openEditor:Browser:', Array.from(new Uint8Array(_this.selectedFile.content)));
            body = (0,base64_arraybuffer__WEBPACK_IMPORTED_MODULE_1__.encode)(_this.selectedFile.content);
          } else {
            body = btoa(_this.selectedFile.content);
          }
          let daraurl = header + 'base64,' + body;
          /*
          let id = 'doclink'
          let filename = this.selectedFile.name
          let link = `<a id="${id}" download="${filename}" href="${daraurl}"></a>`
          let script = `<script>document.getElementById('${id}').click()</script>`
          let template = `<html><body>${link}${script}</body></html>`
          */
          iframe.src = daraurl;
          break;
      }
    })();
  }
  shouldHide(editorType) {
    return this.editorType !== editorType;
  }
  //MonacoEditor
  monacoEditorDidChange(file) {
    this.onChange.emit(file);
  }
}
FileEditorWidgetComponent.ɵfac = function FileEditorWidgetComponent_Factory(t) {
  return new (t || FileEditorWidgetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](src_app_services_theme_service_theme_service__WEBPACK_IMPORTED_MODULE_3__.ThemeService));
};
FileEditorWidgetComponent.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({
  type: FileEditorWidgetComponent,
  selectors: [["tal-file-editor-widget"]],
  viewQuery: function FileEditorWidgetComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵviewQuery"](_c0, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵviewQuery"](_c1, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵviewQuery"](_c2, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵviewQuery"](_c3, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵloadQuery"]()) && (ctx.monacoEditor = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵloadQuery"]()) && (ctx.browserEditor = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵloadQuery"]()) && (ctx.imageViewer = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵloadQuery"]()) && (ctx.markdownPreview = _t.first);
    }
  },
  inputs: {
    _selectedFile: ["selectedFile", "_selectedFile"]
  },
  outputs: {
    onChange: "onChange"
  },
  decls: 41,
  vars: 9,
  consts: [[1, "tal-file-editor-switch"], [1, "tal-file-editor-case-unknown", "tal-file-editor-case", 3, "hidden"], [1, "tal-center-page"], [1, "tal-placeholder-message"], [1, "tal-file-editor-case-none", "tal-file-editor-case", 3, "hidden"], [1, "tal-file-editor-case-image", "tal-file-editor-case", 3, "hidden"], [1, "tal-file-editor-image"], ["imageViewer", ""], [1, "tal-file-editor-case-code", "tal-file-editor-case", 3, "hidden"], [1, "tal-file-editor-code"], [1, "tal-file-editor-monaco-widget", 3, "onChange"], ["monacoEditor", ""], [1, "tal-file-editor-case-markdown", "tal-file-editor-case", 3, "hidden"], [1, "tal-markdown-preview"], [1, "tal-markdown-preview-content"], ["markdownPreview", ""], [1, "tal-file-editor-case-browser", "tal-file-editor-case", 3, "hidden"], [1, "tal-browser-viewer"], [1, "tal-browser-viewer-iframe"], ["browserEditor", ""], [1, "tal-file-editor-case-archive", "tal-file-editor-case", 3, "hidden"], [1, "tal-archive-viewer", "tal-center-page"], ["pButton", "", "label", "Decompress", "onclick", "alert('TODO: Decompress')", 1, "tal-square-button", 3, "title"], ["untarButton", ""]],
  template: function FileEditorWidgetComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "p", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4, "Formato file sconosciuto.");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "div", 4)(6, "div", 2)(7, "p", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](8, "Seleziona o crea un file");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "div", 5)(10, "div", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](11, "img", null, 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](13, "div", 8)(14, "div", 9)(15, "tal-monaco-editor-widget", 10, 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("onChange", function FileEditorWidgetComponent_Template_tal_monaco_editor_widget_onChange_15_listener($event) {
        return ctx.monacoEditorDidChange($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](17, "div", 12)(18, "div", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](19, "div", 14, 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](21, "div", 16)(22, "div", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](23, "iframe", 18, 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](25, "div", 20)(26, "div", 21)(27, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](28);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](29, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](30, " TODO: file preview ");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](31, "ul")(32, "li");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](33, "fileA.zip");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](34, "li");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](35, "main.py");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](36, "li");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](37, ".talight/talight.json");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](38, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](39, "button", 22, 23);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("hidden", ctx.shouldHide(ctx.EditorType.Unknown));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("hidden", ctx.shouldHide(ctx.EditorType.None));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("hidden", ctx.shouldHide(ctx.EditorType.Image));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("hidden", ctx.shouldHide(ctx.EditorType.Code));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("hidden", ctx.shouldHide(ctx.EditorType.Markdown));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("hidden", ctx.shouldHide(ctx.EditorType.Browser));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("hidden", ctx.shouldHide(ctx.EditorType.Archive));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](ctx.selectedFile == null ? null : ctx.selectedFile.name);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("title", "Untar: " + (ctx.selectedFile == null ? null : ctx.selectedFile.name));
    }
  },
  dependencies: [primeng_button__WEBPACK_IMPORTED_MODULE_6__.ButtonDirective, _monaco_editor_widget_monaco_editor_widget_component__WEBPACK_IMPORTED_MODULE_4__.MonacoEditorWidgetComponent],
  styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.tal-file-editor-switch[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n}\n\n.tal-file-editor-switch[_ngcontent-%COMP%]   .tal-file-editor-case[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.tal-file-editor-switch[_ngcontent-%COMP%]   .tal-file-editor-code[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\n\n.tal-file-editor-switch[_ngcontent-%COMP%]   .tal-file-editor-code[_ngcontent-%COMP%]   .tal-file-editor-monaco-widget[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.tal-file-editor-switch[_ngcontent-%COMP%]   .tal-browser-viewer-iframe[_ngcontent-%COMP%], .tal-file-editor-switch[_ngcontent-%COMP%]   .tal-browser-viewer[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-grow: 1;\n  border: none;\n}\n\n.tal-file-editor-switch[_ngcontent-%COMP%]   .tal-markdown-preview-content[_ngcontent-%COMP%] {\n  padding: 10px;\n  background-color: inherit;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtZWRpdG9yLXdpZGdldC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtBQUNKOztBQUNJO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFDUjs7QUFFSTtFQUNJLGFBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUFSOztBQUVRO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFBWjs7QUFLSTtFQUNJLGFBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBSFI7O0FBTUk7RUFDSSxhQUFBO0VBQ0EseUJBQUE7QUFKUiIsImZpbGUiOiJmaWxlLWVkaXRvci13aWRnZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdHtcbiAgICB3aWR0aDoxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbn1cblxuLnRhbC1maWxlLWVkaXRvci1zd2l0Y2h7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6MTAwJTtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gICAgLnRhbC1maWxlLWVkaXRvci1jYXNle1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OjEwMCU7XG4gICAgfVxuXG4gICAgLnRhbC1maWxlLWVkaXRvci1jb2Rle1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgXG4gICAgICAgIC50YWwtZmlsZS1lZGl0b3ItbW9uYWNvLXdpZGdldHtcbiAgICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLnRhbC1icm93c2VyLXZpZXdlci1pZnJhbWUsIC50YWwtYnJvd3Nlci12aWV3ZXJ7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgIGhlaWdodDoxMDAlO1xuICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICB9XG5cbiAgICAudGFsLW1hcmtkb3duLXByZXZpZXctY29udGVudHtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbiAgICB9XG59XG4iXX0= */"]
});

/***/ }),

/***/ 4549:
/*!********************************************************************************************!*\
  !*** ./src/app/widgets/code-editor/file-explorer-widget/file-explorer-widget.component.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FileExplorerWidgetComponent": () => (/* binding */ FileExplorerWidgetComponent)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primeng/overlaypanel */ 2026);
/* harmony import */ var src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/fs-service/fs.service */ 7934);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primeng/api */ 2898);
/* harmony import */ var src_app_services_python_compiler_service_python_compiler_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/python-compiler-service/python-compiler.service */ 4793);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 7774);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var primeng_confirmdialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primeng/confirmdialog */ 5564);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primeng/button */ 540);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primeng/tooltip */ 5166);














const _c0 = ["nameEditing"];
const _c1 = ["newItemName"];
function FileExplorerWidgetComponent_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainer"](0);
  }
}
function FileExplorerWidgetComponent_button_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_button_16_Template_button_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r11);
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      ctx_r10.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r10.toggleHidden());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
}
function FileExplorerWidgetComponent_button_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "button", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_button_17_Template_button_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r13);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      ctx_r12.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r12.toggleHidden());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](1, "i", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](subfolder_r18.name);
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_div_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r27 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 37)(1, "div", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_div_5_Template_div_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r27);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](7);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](_r22.show($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "i", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_template_8_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 40)(1, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_template_8_Template_div_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r29);
      const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
      const ctx_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
      ctx_r28.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r28.addNewItem(subfolder_r18, "file"));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "i", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](4, "Nuovo file");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_template_8_Template_div_click_5_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r29);
      const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
      const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
      ctx_r31.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r31.addNewItem(subfolder_r18, "folder"));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](6, "i", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](8, "Nuova cartella");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_template_8_Template_div_click_9_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r29);
      const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
      const folder_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      ctx_r33.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r33.startEditing(folder_r14, subfolder_r18));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](10, "i", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](11, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](12, "Rinomina cartella");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](13, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_template_8_Template_div_click_13_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r29);
      const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
      const ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
      ctx_r36.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r36.deleteFolderClick($event, subfolder_r18));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](14, "i", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](15, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](16, "Elimina cartella");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()();
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_container_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainer"](0);
  }
}
const _c2 = function (a0) {
  return {
    $implicit: a0
  };
};
function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r39 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 27)(1, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("contextmenu", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_Template_div_contextmenu_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r39);
      const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](7);
      const ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](3);
      ctx_r38.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](_r22.show($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_Template_div_click_2_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r39);
      const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const ctx_r40 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
      ctx_r40.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r40.selectFolder(subfolder_r18));
    })("dblclick", function FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_Template_div_dblclick_2_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r39);
      const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const folder_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const ctx_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      ctx_r42.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r42.startEditing(folder_r14, subfolder_r18));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](3, "i", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](4, FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_container_4_Template, 4, 1, "ng-container", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](5, FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_div_5_Template, 3, 0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](6, "p-overlayPanel", null, 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](8, FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_template_8_Template, 17, 0, "ng-template", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](10, FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_ng_container_10_Template, 1, 0, "ng-container", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const subfolder_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](22);
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](20);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵclassProp"]("opened", subfolder_r18 === ctx_r19.selectedFolder);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r19.editingItem != subfolder_r18)("ngIfElse", _r6);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r19.editingItem != subfolder_r18);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngTemplateOutlet", _r4)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](7, _c2, subfolder_r18));
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, FileExplorerWidgetComponent_ng_template_19_ng_container_1_div_1_Template, 11, 9, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const subfolder_r18 = ctx.$implicit;
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r15.isVisibile(subfolder_r18));
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_2_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainer"](0);
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, FileExplorerWidgetComponent_ng_template_19_ng_container_2_ng_container_1_Template, 1, 0, "ng-container", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](24);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngTemplateOutlet", _r8);
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const file_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](file_r47.name);
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r55 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 37)(1, "div", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_div_3_Template_div_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r55);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      const _r51 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](5);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](_r51.show($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "i", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_ng_template_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r57 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 40)(1, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_ng_template_6_Template_div_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r57);
      const file_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
      const folder_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const ctx_r56 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      ctx_r56.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r56.startEditing(folder_r14, file_r47));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "i", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](4, "Rinomina file");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_ng_template_6_Template_div_click_5_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r57);
      const file_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
      const ctx_r60 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
      ctx_r60.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r60.deleteFileClick($event, file_r47));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](6, "i", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](8, "Elimina file");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()();
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r63 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("contextmenu", function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_Template_div_contextmenu_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r63);
      const _r51 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](5);
      const ctx_r62 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](3);
      ctx_r62.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](_r51.show($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "div", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_Template_div_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r63);
      const file_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const ctx_r64 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
      ctx_r64.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r64.selectFile(file_r47));
    })("dblclick", function FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_Template_div_dblclick_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r63);
      const file_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const folder_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
      const ctx_r66 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      ctx_r66.closeAllContextMenus($event);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r66.startEditing(folder_r14, file_r47));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_ng_container_2_Template, 3, 1, "ng-container", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](3, FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_div_3_Template, 3, 0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](4, "p-overlayPanel", null, 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](6, FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_ng_template_6_Template, 9, 0, "ng-template", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const file_r47 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
    const ctx_r48 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵclassProp"]("opened", file_r47 === ctx_r48.selectedFile);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r48.editingItem != file_r47)("ngIfElse", _r6);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r48.editingItem != file_r47);
  }
}
function FileExplorerWidgetComponent_ng_template_19_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, FileExplorerWidgetComponent_ng_template_19_ng_container_3_div_1_Template, 7, 5, "div", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const file_r47 = ctx.$implicit;
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r17.isVisibile(file_r47));
  }
}
function FileExplorerWidgetComponent_ng_template_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, FileExplorerWidgetComponent_ng_template_19_ng_container_1_Template, 2, 1, "ng-container", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, FileExplorerWidgetComponent_ng_template_19_ng_container_2_Template, 2, 1, "ng-container", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](3, FileExplorerWidgetComponent_ng_template_19_ng_container_3_Template, 2, 1, "ng-container", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const folder_r14 = ctx.$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngForOf", folder_r14.folders);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r5.newItemFolder === folder_r14);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngForOf", folder_r14.files);
  }
}
function FileExplorerWidgetComponent_ng_template_21_Template(rf, ctx) {
  if (rf & 1) {
    const _r72 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "input", 50, 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("ngModelChange", function FileExplorerWidgetComponent_ng_template_21_Template_input_ngModelChange_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r72);
      const ctx_r71 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r71.editingValue = $event);
    })("blur", function FileExplorerWidgetComponent_ng_template_21_Template_input_blur_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r72);
      const ctx_r73 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r73.saveEditing());
    })("keyup.enter", function FileExplorerWidgetComponent_ng_template_21_Template_input_keyup_enter_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r72);
      const ctx_r74 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r74.saveEditing());
    })("keyup.esc", function FileExplorerWidgetComponent_ng_template_21_Template_input_keyup_esc_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r72);
      const ctx_r75 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r75.cancelEditing());
    })("input", function FileExplorerWidgetComponent_ng_template_21_Template_input_input_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r72);
      const ctx_r76 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r76.editItemChange());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵclassProp"]("error", ctx_r7.editingItemError);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngModel", ctx_r7.editingValue);
  }
}
function FileExplorerWidgetComponent_ng_template_23_Template(rf, ctx) {
  if (rf & 1) {
    const _r79 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 52)(1, "input", 50, 53);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("ngModelChange", function FileExplorerWidgetComponent_ng_template_23_Template_input_ngModelChange_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r79);
      const ctx_r78 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r78.newItemValue = $event);
    })("blur", function FileExplorerWidgetComponent_ng_template_23_Template_input_blur_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r79);
      const ctx_r80 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r80.saveNewItem());
    })("keyup.enter", function FileExplorerWidgetComponent_ng_template_23_Template_input_keyup_enter_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r79);
      const ctx_r81 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r81.saveNewItem());
    })("keyup.esc", function FileExplorerWidgetComponent_ng_template_23_Template_input_keyup_esc_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r79);
      const ctx_r82 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r82.cancelNewItem());
    })("input", function FileExplorerWidgetComponent_ng_template_23_Template_input_input_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r79);
      const ctx_r83 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r83.newItemChange());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵclassProp"]("error", ctx_r9.newItemError);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngModel", ctx_r9.newItemValue);
  }
}
class FileExplorerWidgetComponent {
  constructor(confirmationService, fs, python, zone) {
    this.confirmationService = confirmationService;
    this.fs = fs;
    this.python = python;
    this.zone = zone;
    this.rootDir = "/";
    this.driverName = 'pyodide';
    this.showHidden = false;
    this.fsroot = src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.FsService.EmptyFolder;
    this.editingValue = "";
    this.editingItem = null;
    this.editingItemFolder = null;
    this.editingItemError = false;
    this.newItemValue = "";
    this.newItemType = "file";
    this.newItemFolder = null;
    this.newItemError = false;
    this.selectedFile = null;
    this.selectedFolder = null;
    this.onUpdateRoot = new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();
    this.onSelectFile = new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();
    this.showHiddenChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();
    //this.driver = fs.getDriver('pyodide');
    this.driver = fs.getDriver(this.driverName);
    //alert(this.driver)
    //this.driver?.writeFile(this.editingItem.path,this.editingItem)
  }

  ngOnInit() {
    this.bindCollapseEvent();
    //alert('init!');
    //this.rootDir = this.driver?.rootDir ?? this.rootDir;
    this.driver?.ready().then(ready => {
      //alert('ready!');
      this.python.createPythonProject().then(() => {
        this.refreshRoot();
        //alert('ready!');
      });
    });
  }

  refreshRoot(onDone) {
    this.driver?.scanDirectory(this.rootDir).then(folder => {
      this.fsroot = folder ?? src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.FsService.EmptyFolder;
      this.bindCollapseEvent();
      this.onUpdateRoot?.emit(this.fsroot);
      if (onDone) {
        onDone();
      }
    });
  }
  bindCollapseEvent() {
    setTimeout(() => {
      const rows = document.getElementsByClassName("collapse-toggle");
      for (let i = 0; i < rows.length; i++) {
        if (!rows[i].classList.contains("bound")) {
          let row = rows[i];
          row.addEventListener("click", event => {
            this.handleClickEvent(event);
          });
          row.classList.add("bound");
        }
      }
    }, 0);
  }
  handleClickEvent(event) {
    event.preventDefault();
    event.stopPropagation();
    const row = event.target;
    let newParent = row;
    let safeCount = 0;
    do {
      newParent = newParent.parentElement;
      safeCount++;
    } while (!newParent.classList.contains("tal-folder-subtree") && safeCount < 10);
    if (safeCount < 10) {
      newParent.classList.toggle("collapsed");
    }
  }
  closeAllContextMenus(event) {
    event.preventDefault();
    if (this.panels) {
      this.panels.forEach(p => p.hide());
    }
  }
  selectFile(file) {
    console.log('selectFile', file);
    this.driver?.readFile(file.path).then(content => {
      file.content = content ?? "";
      this.selectedFile = file;
      this.onSelectFile?.emit(file);
    });
  }
  selectFolder(folder) {
    if (this.selectedFolder == folder) {
      this.selectedFolder == null;
    }
  }
  openSettings() {
    if (!this.showHidden) {
      this.showHidden = true;
      this.refreshRoot(() => {
        this.openSettings();
      });
    }
    console.log("openSettings");
    let projectFolder = this.fsroot.folders.find(item => {
      return item.path + "/" == this.python.projectFolder;
    });
    if (!projectFolder) {
      return;
    }
    console.log("openSettings:projectFolder:", projectFolder);
    let configFile = projectFolder.files.find(file => {
      return file.path == this.python.configPath;
    });
    if (!configFile) {
      return;
    }
    console.log("openSettings:configFile:", configFile);
    this.selectFile(configFile);
  }
  toggleHidden() {
    this.showHidden = !this.showHidden;
    this.refreshRoot();
  }
  isVisibile(fsitem) {
    let isHidden = fsitem.name.startsWith('.');
    return this.showHidden || !this.showHidden && !isHidden;
  }
  /** EDITING METHODS  **/
  startEditing(folder, item) {
    this.editingItem = item;
    this.editingValue = item.name;
    this.editingItemFolder = folder;
    this.editingItemError = false;
    setTimeout(() => {
      if (this.nameEditingElement) {
        this.nameEditingElement.nativeElement.focus();
      }
    }, 0);
  }
  saveEditing() {
    if (!this.editingItemError) {
      if (this.editingItem) {
        this.editingValue = this.editingValue.trim();
        if (this.editingValue.length > 0) {
          this.editingItem.name = this.editingValue;
          this.onUpdateRoot?.emit(this.fsroot);
        }
      }
    }
    this.cancelEditing();
  }
  cancelEditing() {
    this.editingItem = null;
    this.editingValue = "";
    this.editingItemFolder = null;
  }
  editItemChange() {
    this.editingItemError = false;
    if (this.editingItemFolder) {
      const existingFile = this.editingItemFolder.files.find(f => f.name === this.editingValue);
      const existingFolder = this.editingItemFolder.folders.find(f => f.name === this.editingValue);
      if (existingFile || existingFolder) {
        this.editingItemError = true;
      }
    }
  }
  /***************/
  /** DELETE METHODS **/
  deleteFileClick(event, file) {
    if (!this.fsroot) {
      return;
    }
    if (event.target) {
      this.confirmationService.confirm({
        target: event.target,
        message: 'Sei sicuro di voler eliminare questo file?',
        icon: 'pi pi-exclamation-triangle',
        accept: () => {
          //confirm action
          this.deleteFile(this.fsroot, file);
        },
        reject: () => {
          //reject action
        }
      });
    }
  }
  deleteFile(currentFolder, file) {
    this.driver?.delete(file.path).then(() => {
      this.refreshRoot();
    });
    /*
    if (currentFolder.files.indexOf(file) >= 0) {
      currentFolder.files.splice(currentFolder.files.indexOf(file), 1);
      this.change?.emit(this.root);
    } else {
      for (let i = 0; i < currentFolder.folders.length; i++) {
        const folder: TalFolder = currentFolder.folders[i];
        this.deleteFile(folder, file);
      }
    }
    */
  }

  deleteFolderClick(event, folder) {
    if (event.target) {
      this.confirmationService.confirm({
        target: event.target,
        message: 'Sei sicuro di voler eliminare questa cartella? Tutti i file e le cartelle contenute verranno eliminate.',
        icon: 'pi pi-exclamation-triangle',
        accept: () => {
          //confirm action
          this.deleteFolder(this.fsroot, folder);
        },
        reject: () => {
          //reject action
        }
      });
    }
  }
  deleteFolder(currentFolder, folder) {
    this.driver?.delete(folder.path).then(() => {
      this.refreshRoot();
    });
    /*
    if (currentFolder.folders.indexOf(folder) >= 0) {
      currentFolder.folders.splice(currentFolder.folders.indexOf(folder), 1);
      this.change?.emit(this.root);
    } else {
      for (let i = 0; i < currentFolder.folders.length; i++) {
        const subFolder: TalFolder = currentFolder.folders[i];
        this.deleteFolder(subFolder, folder);
      }
    }
    */
  }
  /***************/
  /** CREATE METHODS **/
  syncFilesystem(folder) {
    setTimeout(() => {
      //this.refreshRoot();
      this.python.createPythonProject().then(() => {
        this.refreshRoot();
        //alert('ready!');
      });
    }, 0);
  }
  addNewItem(folder, type) {
    this.newItemValue = "";
    this.newItemFolder = folder;
    this.newItemType = type;
    this.newItemError = false;
    setTimeout(() => {
      if (this.newItemNameElement) {
        this.newItemNameElement.nativeElement.focus();
      }
    }, 0);
  }
  cancelNewItem() {
    this.newItemValue = "";
    this.newItemFolder = null;
  }
  saveNewItem() {
    if (!this.newItemError) {
      this.newItemValue = this.newItemValue.trim();
      if (this.newItemValue.length > 0) {
        if (this.newItemFolder) {
          if (this.newItemType === "file") {
            let path = this.newItemFolder.path + "/" + this.newItemValue;
            this.driver?.writeFile(path, "").then(() => {
              this.refreshRoot();
            });
            /*
            this.newItemFolder.files.push({
              name: this.newItemValue,
              content: ""
            } as TalFile );
            */
          } else {
            this.driver?.createDirectory("./" + this.newItemValue).then(() => {
              this.refreshRoot();
            });
            this.newItemFolder.folders.push({
              name: this.newItemValue,
              path: "./" + this.newItemValue,
              files: [],
              folders: []
            });
            //this.bindCollapseEvent();
          }
          //this.refreshRoot()
          //this.change?.emit(this.root);
        }
      }
    }

    this.newItemValue = "";
    this.newItemFolder = null;
  }
  newItemChange() {
    this.newItemError = false;
    if (this.newItemFolder) {
      const existingFile = this.newItemFolder.files.find(f => f.name === this.newItemValue);
      const existingFolder = this.newItemFolder.folders.find(f => f.name === this.newItemValue);
      if (existingFile || existingFolder) {
        this.newItemError = true;
      }
    }
  }
  /***************/
  upload(event) {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!(event.target instanceof HTMLInputElement)) {
        return false;
      }
      let target = event.target;
      if (!target.files || target.files.length == 0) {
        return false;
      }
      if (target.files.length == 1 && target.files[0].name.endsWith('.tal.tar')) {
        let content = yield target.files[0].arrayBuffer();
        yield _this.importProject(content);
      } else {
        for (let i = 0; i < target.files.length; i++) {
          let file = target.files[i];
          let content = yield file.arrayBuffer();
          console.log("upload:content:", new Uint8Array(content));
          let path = (!_this.selectedFolder ? "/" : _this.selectedFolder.path) + file.name;
          console.log('upload:', path, content);
          yield _this.driver?.writeFile(path, content);
        }
      }
      _this.refreshRoot();
      return true;
    })();
  }
  importProject(tarball) {
    var _this2 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.Tar.unpack(tarball, /*#__PURE__*/function () {
        var _ref = (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (files, folders) {
          console.log("extractTar:unpack:files", files);
          console.log("extractTar:unpack:folders", folders);
          for (var idx in folders) {
            console.log("extractTar:createDirectory:");
            let folder = folders[idx];
            let path = folder.path;
            console.log("extractTar:createDirectory:", path);
            yield _this2.driver?.createDirectory(path);
          }
          console.log("extractTar:createDirectory:DONE");
          for (var idx in files) {
            console.log("extractTar:writeFile:");
            let file = files[idx];
            let path = file.path;
            let content = file.content;
            console.log("extractTar:writeFile:", path, content);
            yield _this2.driver?.writeFile(path, content);
          }
          console.log("extractTar:writeFile:DONE");
          _this2.refreshRoot();
        });
        return function (_x, _x2) {
          return _ref.apply(this, arguments);
        };
      }());
      console.log("import:data:", tarball);
      return true;
    })();
  }
  export() {
    let items = this.fs.treeToList(this.fsroot);
    if (items.length == 0) {
      console.log("export: No files found to be exported");
    }
    console.log("export:items:", items);
    src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.Tar.pack(items, tarball => {
      let tarname = "tal-project-" + Date.now() + ".tal.tar";
      console.log('export:tarball:', tarname, tarball);
      this.triggerDownload(tarname, tarball, "application/x-tar");
    });
  }
  triggerDownload(filename, content, mime = "application/octet-stream") {
    let a = document.createElement("a");
    const blob = new Blob([content], {
      type: mime
    });
    let url = window.URL.createObjectURL(blob);
    a.style.display = "none";
    a.download = filename;
    a.href = url;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
  }
}
FileExplorerWidgetComponent.ɵfac = function FileExplorerWidgetComponent_Factory(t) {
  return new (t || FileExplorerWidgetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](primeng_api__WEBPACK_IMPORTED_MODULE_4__.ConfirmationService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_1__.FsService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](src_app_services_python_compiler_service_python_compiler_service__WEBPACK_IMPORTED_MODULE_2__.PythonCompilerService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_3__.NgZone));
};
FileExplorerWidgetComponent.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({
  type: FileExplorerWidgetComponent,
  selectors: [["tal-file-explorer-widget"]],
  viewQuery: function FileExplorerWidgetComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵviewQuery"](_c0, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵviewQuery"](_c1, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵviewQuery"](primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_5__.OverlayPanel, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵloadQuery"]()) && (ctx.nameEditingElement = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵloadQuery"]()) && (ctx.newItemNameElement = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵloadQuery"]()) && (ctx.panels = _t);
    }
  },
  outputs: {
    onUpdateRoot: "onUpdateRoot",
    onSelectFile: "onSelectFile",
    showHiddenChanged: "showHiddenChanged"
  },
  decls: 26,
  vars: 6,
  consts: [[1, "tal-editor-files-tree"], [1, "tal-editor-files-header"], [1, "tal-editor-files-left-bar"], ["pButton", "", "icon", "pi pi-file", "title", "Nuovo file", "pTooltip", "Nuovo file", 1, "tal-square-button", 3, "click"], ["pButton", "", "icon", "pi pi-folder", "title", "Nuova cartella", "pTooltip", "Nuova cartella", 1, "tal-square-button", 3, "click"], [1, "tal-editor-files-right-bar"], ["pButton", "", "icon", "pi pi-sync", "title", "Refresh", "pTooltip", "Aggiorna", 1, "tal-square-button", 3, "click"], [1, "tal-editor-files-body"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "tal-editor-files-footer"], ["pButton", "", "icon", "pi pi-save", "title", "Salva/Esporta", "pTooltip", "Esporta", 1, "p-button-secondary", "tal-square-button", 3, "click"], ["pButton", "", "icon", "pi pi-upload", "title", "Upload/Importa", "pTooltip", "Upload/Import", 1, "p-button-secondary", "tal-square-button", 3, "click"], ["type", "file", 2, "display", "none", 3, "change"], ["fileUpload", ""], ["pButton", "", "icon", "pi pi-eye", "class", "tal-square-button", "title", "Toggle show hidden files", "pTooltip", "Mostra file nascosti", 3, "click", 4, "ngIf"], ["pButton", "", "icon", "pi pi-eye-slash", "class", "tal-square-button", "title", "Toggle show hidden files", "pTooltip", "Nascondi file nascosti", 3, "click", 4, "ngIf"], ["pButton", "", "icon", "pi pi-cog", "title", "Settings", "pTooltip", "Settings", 1, "tal-square-button", 3, "click"], ["TalFolder", ""], ["ItemEditingTemplate", ""], ["NewItemTemplate", ""], ["acceptLabel", "Elimina", "acceptIcon", "pi pi-trash", "rejectLabel", "Annulla"], ["pButton", "", "icon", "pi pi-eye", "title", "Toggle show hidden files", "pTooltip", "Mostra file nascosti", 1, "tal-square-button", 3, "click"], ["pButton", "", "icon", "pi pi-eye-slash", "title", "Toggle show hidden files", "pTooltip", "Nascondi file nascosti", 1, "tal-square-button", 3, "click"], [1, "tal-folder"], [4, "ngFor", "ngForOf"], [4, "ngIf"], ["class", "tal-folder-subtree", 4, "ngIf"], [1, "tal-folder-subtree"], [1, "tal-folder-row", 3, "contextmenu"], [1, "tal-folder-title", "collapse-toggle", 3, "click", "dblclick"], [1, "pi", "pi-chevron-down"], [4, "ngIf", "ngIfElse"], ["class", "tal-row-settings", 4, "ngIf"], ["folderOverlayPanel", ""], ["pTemplate", ""], [1, "tal-subfolder"], [1, "pi", "pi-folder"], [1, "tal-row-settings"], [1, "tal-row-button", 3, "click"], [1, "pi", "pi-ellipsis-h"], [1, "tal-contextmenu-container"], [1, "tal-contextmenu-item", 3, "click"], [1, "pi", "pi-plus"], [1, "pi", "pi-pencil"], [1, "pi", "pi-trash"], [4, "ngTemplateOutlet"], ["class", "tal-file", 3, "opened", "contextmenu", 4, "ngIf"], [1, "tal-file", 3, "contextmenu"], [1, "tal-file-title", 3, "click", "dblclick"], ["fileOverlayPanel", ""], ["type", "text", 1, "tal-item-input", 3, "ngModel", "ngModelChange", "blur", "keyup.enter", "keyup.esc", "input"], ["nameEditing", ""], [1, "tal-new-item"], ["newItemName", ""]],
  template: function FileExplorerWidgetComponent_Template(rf, ctx) {
    if (rf & 1) {
      const _r84 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "button", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_Template_button_click_3_listener($event) {
        ctx.closeAllContextMenus($event);
        return ctx.addNewItem(ctx.fsroot, "file");
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](4, "button", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_Template_button_click_4_listener($event) {
        ctx.closeAllContextMenus($event);
        return ctx.addNewItem(ctx.fsroot, "folder");
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "div", 5)(6, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_Template_button_click_6_listener($event) {
        ctx.closeAllContextMenus($event);
        return ctx.syncFilesystem(ctx.fsroot);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "div", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](8, FileExplorerWidgetComponent_ng_container_8_Template, 1, 0, "ng-container", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "div", 9)(10, "div", 2)(11, "button", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_Template_button_click_11_listener($event) {
        ctx.closeAllContextMenus($event);
        return ctx.export();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](12, "button", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_Template_button_click_12_listener() {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r84);
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](14);
        return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](_r1.click());
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](13, "input", 12, 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("change", function FileExplorerWidgetComponent_Template_input_change_13_listener($event) {
        return ctx.upload($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](15, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](16, FileExplorerWidgetComponent_button_16_Template, 1, 0, "button", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](17, FileExplorerWidgetComponent_button_17_Template, 1, 0, "button", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](18, "button", 16);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function FileExplorerWidgetComponent_Template_button_click_18_listener($event) {
        ctx.closeAllContextMenus($event);
        return ctx.openSettings();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](19, FileExplorerWidgetComponent_ng_template_19_Template, 4, 3, "ng-template", null, 17, _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](21, FileExplorerWidgetComponent_ng_template_21_Template, 2, 3, "ng-template", null, 18, _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](23, FileExplorerWidgetComponent_ng_template_23_Template, 3, 3, "ng-template", null, 19, _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](25, "p-confirmDialog", 20);
    }
    if (rf & 2) {
      const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵreference"](20);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngTemplateOutlet", _r4)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](4, _c2, ctx.fsroot));
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.showHidden);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", !ctx.showHidden);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgTemplateOutlet, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgModel, primeng_confirmdialog__WEBPACK_IMPORTED_MODULE_8__.ConfirmDialog, primeng_button__WEBPACK_IMPORTED_MODULE_9__.ButtonDirective, primeng_api__WEBPACK_IMPORTED_MODULE_4__.PrimeTemplate, primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_5__.OverlayPanel, primeng_tooltip__WEBPACK_IMPORTED_MODULE_10__.Tooltip],
  styles: [".tal-editor-files-tree[_ngcontent-%COMP%] {\n  height: 100%;\n  width: 100%;\n  background: var(--surface-50);\n  display: flex;\n  flex-direction: column;\n}\n.tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-header[_ngcontent-%COMP%], .tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-footer[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n  padding: 5px;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-header[_ngcontent-%COMP%]   .tal-editor-files-left-bar[_ngcontent-%COMP%], .tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-header[_ngcontent-%COMP%]   .tal-editor-files-right-bar[_ngcontent-%COMP%], .tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-footer[_ngcontent-%COMP%]   .tal-editor-files-left-bar[_ngcontent-%COMP%], .tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-footer[_ngcontent-%COMP%]   .tal-editor-files-right-bar[_ngcontent-%COMP%] {\n  justify-content: left;\n  flex-wrap: nowrap;\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n}\n.tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-right: 5px;\n}\n.tal-editor-files-tree[_ngcontent-%COMP%]   .tal-editor-files-body[_ngcontent-%COMP%] {\n  flex-grow: 1;\n  overflow-y: scroll;\n}\ndiv.tal-folder-row[_ngcontent-%COMP%], div.tal-file[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 0.2rem;\n  margin: 0.2rem 0;\n  border-radius: 0.2rem;\n  cursor: pointer;\n}\ndiv.tal-folder-row[_ngcontent-%COMP%]:hover, div.tal-file[_ngcontent-%COMP%]:hover {\n  background-color: var(--surface-hover);\n}\ndiv.tal-folder-row[_ngcontent-%COMP%]:hover   div.tal-row-settings[_ngcontent-%COMP%], div.tal-file[_ngcontent-%COMP%]:hover   div.tal-row-settings[_ngcontent-%COMP%] {\n  opacity: 1 !important;\n}\ndiv.tal-file[_ngcontent-%COMP%] {\n  max-width: 100%;\n  border: solid 1px transparent;\n}\ndiv.tal-file.opened[_ngcontent-%COMP%] {\n  background-color: var(--surface-c);\n  border: solid 1px var(--surface-border);\n}\ndiv.tal-file[_ngcontent-%COMP%]   div.tal-file-title[_ngcontent-%COMP%] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n}\ndiv.tal-file[_ngcontent-%COMP%]   div.tal-file-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 1rem;\n}\ndiv.tal-folder-row[_ngcontent-%COMP%] {\n  max-width: 100%;\n}\ndiv.tal-folder-row[_ngcontent-%COMP%]   div.tal-folder-title[_ngcontent-%COMP%] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n}\ndiv.tal-folder-row[_ngcontent-%COMP%]   div.tal-folder-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 1rem;\n}\ndiv.tal-folder-row[_ngcontent-%COMP%]   div.tal-folder-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child {\n  font-size: 0.8rem;\n  margin-right: 0.4rem;\n  color: var(--gray-500);\n}\ndiv.tal-folder-row[_ngcontent-%COMP%]   div.tal-folder-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(2) {\n  font-size: 0.8rem;\n  margin-right: 0.2rem;\n}\ndiv.tal-row-settings[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  opacity: 0;\n}\ndiv.tal-row-settings[_ngcontent-%COMP%]   div.tal-row-button[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-items: center;\n  margin-left: 0.2rem;\n  padding: 0.4rem;\n  border-radius: 4px;\n  text-align: center;\n}\ndiv.tal-row-settings[_ngcontent-%COMP%]   div.tal-row-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  font-size: 0.8rem;\n  color: var(--gray-500);\n}\ndiv.tal-row-settings[_ngcontent-%COMP%]   div.tal-row-button[_ngcontent-%COMP%]:hover {\n  background-color: var(--surface-100);\n}\ndiv.tal-row-settings[_ngcontent-%COMP%]   div.tal-row-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%] {\n  color: var(--text-color);\n}\ndiv.tal-row-settings[_ngcontent-%COMP%]   div.tal-row-button[_ngcontent-%COMP%]:active {\n  background-color: var(--surface-200);\n}\ndiv.tal-folder-subtree.collapsed[_ngcontent-%COMP%]   div.tal-subfolder[_ngcontent-%COMP%] {\n  display: none;\n}\ndiv.tal-folder-subtree.collapsed[_ngcontent-%COMP%]   div.tal-folder-row[_ngcontent-%COMP%]   div.tal-folder-title[_ngcontent-%COMP%]   i.pi-chevron-down[_ngcontent-%COMP%] {\n  transform: rotate(-90deg);\n}\ndiv.tal-subfolder[_ngcontent-%COMP%] {\n  padding-left: 0.6rem;\n  border-left: solid 1px var(--surface-border);\n}\ninput.tal-item-input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  outline: none;\n  background-color: var(--surface-0);\n  font-size: 1rem;\n  padding: 0.2rem;\n  border-radius: 0.2rem;\n  color: var(--text-color);\n  border: 1px solid transparent;\n}\ninput.tal-item-input.error[_ngcontent-%COMP%] {\n  border: 1px solid var(--red-500);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtZXhwbG9yZXItd2lkZ2V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksWUFBQTtFQUNBLFdBQUE7RUFDQSw2QkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQUFKO0FBRUk7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLDhCQUFBO0VBQ0EsMkJBQUE7RUFBQSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxvQ0FBQTtBQUFOO0FBR007RUFDRSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0EsMkJBQUE7RUFBQSxzQkFBQTtBQURSO0FBSU07RUFDSSxpQkFBQTtBQUZWO0FBT0k7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7QUFMUjtBQVVBOztFQUVFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtFQUNBLGVBQUE7QUFQRjtBQVNFOztFQUNFLHNDQUFBO0FBTko7QUFRSTs7RUFDRSxxQkFBQTtBQUxOO0FBV0E7RUFDRSxlQUFBO0VBQ0EsNkJBQUE7QUFSRjtBQVVFO0VBQ0Usa0NBQUE7RUFDQSx1Q0FBQTtBQVJKO0FBV0k7RUFDRSxPQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUFUTjtBQVdNO0VBQ0UsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtBQVRSO0FBY0E7RUFDSSxlQUFBO0FBWEo7QUFhRTtFQUNFLE9BQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQVhKO0FBYUk7RUFDRSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0FBWE47QUFjSTtFQUNFLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxzQkFBQTtBQVpOO0FBZUk7RUFDRSxpQkFBQTtFQUNBLG9CQUFBO0FBYk47QUFrQkE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0FBZkY7QUFpQkU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUFmSjtBQWlCSTtFQUNFLGlCQUFBO0VBQ0Esc0JBQUE7QUFmTjtBQWtCSTtFQUNFLG9DQUFBO0FBaEJOO0FBa0JNO0VBQ0Usd0JBQUE7QUFoQlI7QUFvQkk7RUFDRSxvQ0FBQTtBQWxCTjtBQTBCSTtFQUNFLGFBQUE7QUF2Qk47QUE0QlE7RUFDRSx5QkFBQTtBQTFCVjtBQWtDQTtFQUNFLG9CQUFBO0VBQ0EsNENBQUE7QUEvQkY7QUFrQ0E7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxrQ0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EscUJBQUE7RUFDQSx3QkFBQTtFQUNBLDZCQUFBO0FBL0JKO0FBaUNJO0VBQ0ksZ0NBQUE7QUEvQlIiLCJmaWxlIjoiZmlsZS1leHBsb3Jlci13aWRnZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFsLWVkaXRvci1maWxlcy10cmVlIHtcbiAgICAvL3BhZGRpbmc6IDVweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS01MCk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gICAgLnRhbC1lZGl0b3ItZmlsZXMtaGVhZGVyLCAudGFsLWVkaXRvci1maWxlcy1mb290ZXJ7XG4gICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICBtaW4td2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgcGFkZGluZzo1cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKCRjb2xvcjogIzAwMDAwMCwgJGFscGhhOiAwLjEpO1xuICAgICAgXG4gICAgICBcbiAgICAgIC50YWwtZWRpdG9yLWZpbGVzLWxlZnQtYmFyLCAudGFsLWVkaXRvci1maWxlcy1yaWdodC1iYXJ7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogbGVmdDtcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICAgIG1pbi13aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGJ1dHRvbntcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6NXB4O1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLnRhbC1lZGl0b3ItZmlsZXMtYm9keXtcbiAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICBvdmVyZmxvdy15OnNjcm9sbDtcbiAgICB9XG59XG5cblxuZGl2LnRhbC1mb2xkZXItcm93LFxuZGl2LnRhbC1maWxlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMCAwLjJyZW07XG4gIG1hcmdpbjowLjJyZW0gMDtcbiAgYm9yZGVyLXJhZGl1czogMC4ycmVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgJjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3VyZmFjZS1ob3Zlcik7XG5cbiAgICBkaXYudGFsLXJvdy1zZXR0aW5ncyB7XG4gICAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XG4gICAgfVxuICB9XG5cbn1cblxuZGl2LnRhbC1maWxlIHtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBib3JkZXI6c29saWQgMXB4IHRyYW5zcGFyZW50O1xuXG4gICYub3BlbmVke1xuICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tc3VyZmFjZS1jKTtcbiAgICBib3JkZXI6c29saWQgMXB4IHZhcigtLXN1cmZhY2UtYm9yZGVyKTtcbiAgfVxuXG4gICAgZGl2LnRhbC1maWxlLXRpdGxlIHtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAgIHB7XG4gICAgICAgIHdoaXRlLXNwYWNlOm5vd3JhcDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO1xuICAgICAgICBmb250LXNpemU6MXJlbTtcbiAgICAgIH1cbiAgICB9XG59XG5cbmRpdi50YWwtZm9sZGVyLXJvdyB7XG4gICAgbWF4LXdpZHRoOjEwMCU7XG4gICAgXG4gIGRpdi50YWwtZm9sZGVyLXRpdGxlIHtcbiAgICBmbGV4OiAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgcCB7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgZm9udC1zaXplOjFyZW07XG4gICAgfVxuXG4gICAgaTpmaXJzdC1jaGlsZCB7XG4gICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgIG1hcmdpbi1yaWdodDogMC40cmVtO1xuICAgICAgY29sb3I6IHZhcigtLWdyYXktNTAwKTtcbiAgICB9XG5cbiAgICBpOm50aC1jaGlsZCgyKSB7XG4gICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgIG1hcmdpbi1yaWdodDogMC4ycmVtO1xuICAgIH1cbiAgfVxufVxuXG5kaXYudGFsLXJvdy1zZXR0aW5ncyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG9wYWNpdHk6IDA7XG5cbiAgZGl2LnRhbC1yb3ctYnV0dG9uIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1sZWZ0OiAwLjJyZW07XG4gICAgcGFkZGluZzogMC40cmVtO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgICBpIHtcbiAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgY29sb3I6IHZhcigtLWdyYXktNTAwKTtcbiAgICB9XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1cmZhY2UtMTAwKTtcblxuICAgICAgaSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmOmFjdGl2ZSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdXJmYWNlLTIwMCk7XG5cbiAgICB9XG4gIH1cbn1cblxuZGl2LnRhbC1mb2xkZXItc3VidHJlZSB7XG4gICYuY29sbGFwc2VkIHtcbiAgICBkaXYudGFsLXN1YmZvbGRlciB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgIGRpdi50YWwtZm9sZGVyLXJvdyB7XG4gICAgICBkaXYudGFsLWZvbGRlci10aXRsZSB7XG4gICAgICAgIGkucGktY2hldnJvbi1kb3duIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG4gIH1cbn1cblxuZGl2LnRhbC1zdWJmb2xkZXIge1xuICBwYWRkaW5nLWxlZnQ6IDAuNnJlbTtcbiAgYm9yZGVyLWxlZnQ6IHNvbGlkIDFweCB2YXIoLS1zdXJmYWNlLWJvcmRlcik7XG59XG5cbmlucHV0LnRhbC1pdGVtLWlucHV0e1xuICAgIHdpZHRoOjEwMCU7XG4gICAgYm9yZGVyOm5vbmU7XG4gICAgb3V0bGluZTpub25lO1xuICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tc3VyZmFjZS0wKTtcbiAgICBmb250LXNpemU6MXJlbTtcbiAgICBwYWRkaW5nOjAuMnJlbTtcbiAgICBib3JkZXItcmFkaXVzOjAuMnJlbTtcbiAgICBjb2xvcjp2YXIoLS10ZXh0LWNvbG9yKTtcbiAgICBib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuXG4gICAgJi5lcnJvcntcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1yZWQtNTAwKTtcbiAgICB9XG59Il19 */"]
});

/***/ }),

/***/ 275:
/*!********************************************************************************************!*\
  !*** ./src/app/widgets/code-editor/monaco-editor-widget/monaco-editor-widget.component.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MonacoEditorWidgetComponent": () => (/* binding */ MonacoEditorWidgetComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ 222);
/* harmony import */ var src_app_services_theme_service_theme_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/services/theme-service/theme.service */ 6219);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-monaco-editor-v2 */ 2117);






const _c0 = ["monacoEditor"];
class MonacoEditorWidgetComponent {
    constructor(themeService) {
        this.themeService = themeService;
        this._selectedFile = null;
        this.language = "";
        //Code
        this.onChange = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
        this.binEncoder = new TextEncoder(); // always utf-8
        this.binDecoder = new TextDecoder("utf-8");
        // CodeEditorControls
        this.onTouchedCallback = rxjs__WEBPACK_IMPORTED_MODULE_2__.noop;
        this.onChangeCallback = rxjs__WEBPACK_IMPORTED_MODULE_2__.noop;
    }
    ngOnInit() {
        this.themeService.themeChanged.subscribe((theme) => {
            this.updateEditorOptions();
        });
        this.updateEditorOptions();
    }
    ngAfterViewInit() {
        //this.monacoEditor.registerOnChange((event:any)=>{ this.change(event) })
        //this.monacoEditor.registerOnTouched((event:any)=>{ this.input(event) })
        // this returns null
    }
    ngOnChanges() {
        this.updateEditorOptions();
    }
    get selectedFile() {
        return this._selectedFile;
    }
    set selectedFile(selectedFile) {
        this._selectedFile = selectedFile;
        if (!this._selectedFile) {
            this.value = "";
            return;
        }
        let content = this._selectedFile.content;
        if (typeof content === 'string') {
            this.value = content;
        }
    }
    getFileContent() {
        if (!this._selectedFile) {
            return "";
        }
        let content = this._selectedFile.content;
        if (content instanceof ArrayBuffer) {
            content = this.binDecoder.decode(content);
            this._selectedFile.content = content;
        }
        return content;
    }
    setFileContent(text) {
        if (!this._selectedFile) {
            return;
        }
        this._selectedFile.content = text;
    }
    // get accessor
    get value() {
        console.log("MonacoEditor:value:get");
        return this.getFileContent();
    }
    // Set accessor including call the onchange callback
    set value(text) {
        console.log("MonacoEditor:value:set");
        if (!this._selectedFile) {
            return;
        }
        let content = this.getFileContent();
        console.log("MonacoEditor:value:old:new", content, text);
        if (text !== content) {
            console.log("MonacoEditor:value:set:changed");
            this.setFileContent(text);
            this.didChange();
        }
    }
    // From ControlValueAccessor interface
    writeValue(text) {
        console.log("MonacoEditor:value:writeValue");
        if (text !== this.value) {
            this.value = text;
        }
    }
    didChange() {
        console.log("monacoEditor:didChange");
        this.onChangeCallback();
        this.onTouchedCallback();
        if (!this.selectedFile) {
            return;
        }
        this.onChange.emit(this.selectedFile);
    }
    // From ControlValueAccessor interface
    registerOnChange(fn) {
        this.onChangeCallback = fn;
    }
    // From ControlValueAccessor interface
    registerOnTouched(fn) {
        this.onTouchedCallback = fn;
    }
    updateEditorOptions() {
        console.log(this.language);
        this.editorOptions = {
            language: this.language,
            theme: this.themeService.themeName(),
            automaticLayout: true
        };
    }
}
MonacoEditorWidgetComponent.ɵfac = function MonacoEditorWidgetComponent_Factory(t) { return new (t || MonacoEditorWidgetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](src_app_services_theme_service_theme_service__WEBPACK_IMPORTED_MODULE_0__.ThemeService)); };
MonacoEditorWidgetComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: MonacoEditorWidgetComponent, selectors: [["tal-monaco-editor-widget"]], viewQuery: function MonacoEditorWidgetComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 5);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.monacoEditor = _t.first);
    } }, inputs: { _selectedFile: ["selectedFile", "_selectedFile"], language: "language" }, outputs: { onChange: "onChange" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 3, consts: [[1, "tal-monaco-editor"], [1, "tal-monaco-editor-ngx", 3, "lang", "options", "ngModel", "ngModelChange"], ["monacoEditor", ""]], template: function MonacoEditorWidgetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "ngx-monaco-editor", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("ngModelChange", function MonacoEditorWidgetComponent_Template_ngx_monaco_editor_ngModelChange_1_listener($event) { return ctx.value = $event; });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("lang", ctx.language)("options", ctx.editorOptions)("ngModel", ctx.value);
    } }, dependencies: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgModel, ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_4__.EditorComponent], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.tal-monaco-editor[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.tal-monaco-editor[_ngcontent-%COMP%]   .tal-monaco-editor-ngx[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-grow: 1;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbmFjby1lZGl0b3Itd2lkZ2V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFDSjs7QUFHQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQUo7O0FBRUk7RUFDSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBQVIiLCJmaWxlIjoibW9uYWNvLWVkaXRvci13aWRnZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdHtcbiAgICB3aWR0aDoxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbn1cblxuXG4udGFsLW1vbmFjby1lZGl0b3J7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgLnRhbC1tb25hY28tZWRpdG9yLW5neHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgZmxleC1ncm93OiAxO1xuICAgIH1cblxufVxuIl19 */"] });


/***/ }),

/***/ 9033:
/*!******************************************************************************!*\
  !*** ./src/app/widgets/code-editor/output-widget/output-widget.component.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OutputWidgetComponent": () => (/* binding */ OutputWidgetComponent),
/* harmony export */   "ServiceMenuEntry": () => (/* binding */ ServiceMenuEntry)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var src_app_services_problem_manager_service_problem_manager_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/services/problem-manager-service/problem-manager.service */ 1941);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/button */ 540);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/tooltip */ 5166);





const _c0 = ["output"];
const _c1 = ["sdtinInput"];
class ServiceMenuEntry {
    constructor(problem = "", service = "", descriptor) {
        this.problem = problem;
        this.service = service;
        this.descriptor = descriptor;
    }
}
class OutputWidgetComponent {
    constructor(zone) {
        this.zone = zone;
        this.onInput = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
        this.onStdin = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
        this.outputText = "";
    }
    ngOnInit() { }
    ngOnDestroy() { }
    clearOutput() {
        this.zone.run(() => this.outputText = "");
    }
    print(content, end = "\n") {
        this.zone.run(() => this.outputText += content + end);
        // Scroll #console-bottom-scroll to bottom
        setTimeout(() => {
            const scrollEl = document.getElementById("tal-output-widget-scroll-id");
            if (scrollEl) {
                scrollEl.scrollTop = scrollEl.scrollHeight;
                console.log(scrollEl.scrollTop, scrollEl.scrollHeight);
            }
        });
    }
    testOutput() {
        this.print("python main.py\n");
    }
    sendStdin() {
        let msg = this.sdtinInput.nativeElement.value ?? "";
        msg = msg.trim();
        console.log("sendStdin:", this.sdtinInput);
        if (msg == "") {
            return;
        }
        this.sdtinInput.nativeElement.value = "";
        this.onStdin.emit(msg);
    }
    sendOnEnter(event) {
        if (event.key == 'Enter') {
            this.sendStdin();
        }
    }
}
OutputWidgetComponent.ɵfac = function OutputWidgetComponent_Factory(t) { return new (t || OutputWidgetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone)); };
OutputWidgetComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: OutputWidgetComponent, selectors: [["tal-output-widget"]], viewQuery: function OutputWidgetComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c1, 5);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.output = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.sdtinInput = _t.first);
    } }, outputs: { onInput: "onInput", onStdin: "onStdin" }, decls: 12, vars: 1, consts: [[1, "tal-output-widget"], [1, "tal-output-widget-label"], ["id", "tal-output-widget-scroll-id", 1, "tal-output-widget-scroll"], [1, "tal-output-widget-text"], ["output", ""], [1, "tal-output-widget-stdin"], ["pButton", "", "icon", "pi pi-trash", "title", "Clear output", "pTooltip", "Pulisci output", 1, "p-button-danger", "tal-square-button", 3, "click"], ["pInput", "", "placeholder", "Input del programma", 1, "tal-output-widget-stdin-input", 3, "keydown"], ["sdtinInput", ""], ["pButton", "", "icon", "pi pi-send", "title", "Send", "pTooltip", "Invia", 1, "tal-square-button", 3, "click"]], template: function OutputWidgetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2, "Output");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 2)(4, "pre", 3, 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 5)(8, "button", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OutputWidgetComponent_Template_button_click_8_listener() { return ctx.clearOutput(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "input", 7, 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keydown", function OutputWidgetComponent_Template_input_keydown_9_listener($event) { return ctx.sendOnEnter($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "button", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OutputWidgetComponent_Template_button_click_11_listener() { return ctx.sendStdin(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.outputText);
    } }, dependencies: [primeng_button__WEBPACK_IMPORTED_MODULE_2__.ButtonDirective, primeng_tooltip__WEBPACK_IMPORTED_MODULE_3__.Tooltip], styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n.tal-output-widget[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 100%;\n}\n\n.tal-output-widget-stdin-input[_ngcontent-%COMP%] {\n  flex-grow: 2;\n}\n\n.tal-output-widget[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  max-width: 100%;\n}\n\n.tal-output-widget-label[_ngcontent-%COMP%] {\n  padding: 0.5rem;\n  font-weight: 600;\n}\n\n.tal-output-widget-terminal-scroll[_ngcontent-%COMP%], .tal-output-widget-scroll[_ngcontent-%COMP%] {\n  overflow-y: auto;\n  flex-wrap: wrap;\n  flex-grow: 2;\n  word-wrap: break-word;\n  display: flex;\n  margin-bottom: auto;\n  padding: 0.5rem;\n}\n\n.tal-output-widget-terminal-shell[_ngcontent-%COMP%], pre.tal-output-widget-text[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n}\n\n.tal-output-widget-text[_ngcontent-%COMP%] {\n  border: solid 1px rgba(255, 255, 255, 0.12);\n  padding: 1rem;\n}\n\n.tal-output-widget-stdin[_ngcontent-%COMP%] {\n  padding: 5px;\n  display: flex;\n  flex-direction: row;\n}\n\n.tal-output-widget-stdin[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  margin: 0 5px;\n  padding: 0 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm91dHB1dC13aWRnZXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQURKOztBQVFBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFMSjs7QUFVQTtFQUNJLFlBQUE7QUFQSjs7QUFVQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtBQVBKOztBQVVBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FBUEo7O0FBVUE7RUFDSSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EscUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBUEo7O0FBVUE7RUFDSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtBQVBKOztBQVVBO0VBQ0ksMkNBQUE7RUFDQSxhQUFBO0FBUEo7O0FBV0E7RUFFSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBVEo7O0FBV0k7RUFDSSxhQUFBO0VBQ0EsY0FBQTtBQVRSIiwiZmlsZSI6Im91dHB1dC13aWRnZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuOmhvc3R7XG4gICAgd2lkdGg6MTAwJTtcbiAgICBoZWlnaHQ6MTAwJTtcblxuICAgIFxufVxuXG5cblxuLnRhbC1vdXRwdXQtd2lkZ2V0e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBoZWlnaHQ6MTAwJTsgICBcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbiAgICBcblxuLnRhbC1vdXRwdXQtd2lkZ2V0LXN0ZGluLWlucHV0e1xuICAgIGZsZXgtZ3JvdzogMjtcbn1cblxuLnRhbC1vdXRwdXQtd2lkZ2V0e1xuICAgIHdpZHRoOjEwMCU7XG4gICAgaGVpZ2h0OjEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAgXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG4udGFsLW91dHB1dC13aWRnZXQtbGFiZWx7XG4gICAgcGFkZGluZzowLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6NjAwO1xufVxuXG4udGFsLW91dHB1dC13aWRnZXQtdGVybWluYWwtc2Nyb2xsLCAudGFsLW91dHB1dC13aWRnZXQtc2Nyb2xse1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGZsZXgtZ3JvdzogMjtcbiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBtYXJnaW4tYm90dG9tOiBhdXRvO1xuICAgIHBhZGRpbmc6MC41cmVtO1xufVxuXG4udGFsLW91dHB1dC13aWRnZXQtdGVybWluYWwtc2hlbGwsIHByZS50YWwtb3V0cHV0LXdpZGdldC10ZXh0e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi50YWwtb3V0cHV0LXdpZGdldC10ZXh0e1xuICAgIGJvcmRlcjpzb2xpZCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEyKTtcbiAgICBwYWRkaW5nOjFyZW07XG59XG5cblxuLnRhbC1vdXRwdXQtd2lkZ2V0LXN0ZGlue1xuICAgIC8vYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICAgIHBhZGRpbmc6NXB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcblxuICAgIGlucHV0e1xuICAgICAgICBtYXJnaW46MCA1cHg7XG4gICAgICAgIHBhZGRpbmc6MCA1cHg7XG4gICAgfVxufVxuXG4iXX0= */"] });


/***/ }),

/***/ 3015:
/*!********************************************************************************!*\
  !*** ./src/app/widgets/code-editor/problem-widget/problem-widget.component.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProblemWidgetComponent": () => (/* binding */ ProblemWidgetComponent),
/* harmony export */   "ServiceMenuEntry": () => (/* binding */ ServiceMenuEntry)
/* harmony export */ });
/* harmony import */ var _home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 8046);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/api-service/api.service */ 6986);
/* harmony import */ var src_app_services_fs_service_fs_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/fs-service/fs.service */ 7934);
/* harmony import */ var src_app_services_problem_manager_service_problem_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/problem-manager-service/problem-manager.service */ 1941);
/* harmony import */ var src_app_services_python_compiler_service_python_compiler_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/python-compiler-service/python-compiler.service */ 4793);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 7774);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primeng/button */ 540);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primeng/api */ 2898);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primeng/tooltip */ 5166);
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primeng/dropdown */ 5081);
/* harmony import */ var primeng_tabview__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/tabview */ 1078);
















const _c0 = ["problemDropdown"];
function ProblemWidgetComponent_button_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function ProblemWidgetComponent_button_2_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r12);
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r11.reloadProblemList());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
}
function ProblemWidgetComponent_button_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](0, "button", 17);
  }
}
function ProblemWidgetComponent_ng_template_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 18)(1, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const option_r13 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](option_r13.problem);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](option_r13.service);
  }
}
function ProblemWidgetComponent_ng_template_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 21)(1, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const option_r14 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](option_r14.problem);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](option_r14.service);
  }
}
function ProblemWidgetComponent_ng_template_12_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1, "Arguments");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
}
function ProblemWidgetComponent_div_14_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 23)(1, "div", 24)(2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3, "No arguments found.");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
  }
}
function ProblemWidgetComponent_div_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 9)(1, "div", 25)(2, "div", 26)(3, "i", 27, 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function ProblemWidgetComponent_div_15_Template_i_click_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r18);
      const arg_r15 = restoredCtx.$implicit;
      const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r17.toggleShowRegex(arg_r15.value, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](7, "div", 30)(8, "input", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("ngModelChange", function ProblemWidgetComponent_div_15_Template_input_ngModelChange_8_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r18);
      const arg_r15 = restoredCtx.$implicit;
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](arg_r15.value.value = $event);
    })("change", function ProblemWidgetComponent_div_15_Template_input_change_8_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r18);
      const arg_r15 = restoredCtx.$implicit;
      const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r20.argDidChange(arg_r15.value, $event));
    })("blur", function ProblemWidgetComponent_div_15_Template_input_blur_8_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r18);
      const arg_r15 = restoredCtx.$implicit;
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r21.argDidChange(arg_r15.value, $event));
    })("focus", function ProblemWidgetComponent_div_15_Template_input_focus_8_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r18);
      const arg_r15 = restoredCtx.$implicit;
      const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r22.argDidFocus(arg_r15.value, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "div", 32)(10, "button", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function ProblemWidgetComponent_div_15_Template_button_click_10_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r18);
      const arg_r15 = restoredCtx.$implicit;
      const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r23.argDidReset(arg_r15.value, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](11, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("dblclick", function ProblemWidgetComponent_div_15_Template_div_dblclick_11_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r18);
      const arg_r15 = restoredCtx.$implicit;
      const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r24.toggleRegexFormat(arg_r15.value, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](12, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const arg_r15 = ctx.$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("id", "args-icon-" + arg_r15.value.key)("pTooltip", arg_r15.value.regex + "");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](arg_r15.value.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngModel", arg_r15.value.value)("placeholder", arg_r15.value.default);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("id", "args-regex-panel-" + arg_r15.value.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("id", "args-regex-" + arg_r15.value.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](ctx_r7.clenupRegex(arg_r15.value.regex));
  }
}
function ProblemWidgetComponent_ng_template_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1, "Files");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
}
function ProblemWidgetComponent_div_20_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 23)(1, "div", 24)(2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3, "No files found.");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
  }
}
function ProblemWidgetComponent_div_21_ng_template_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 38)(1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const option_r29 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](option_r29.path);
  }
}
function ProblemWidgetComponent_div_21_ng_template_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 39)(1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const option_r30 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](option_r30.path);
  }
}
function ProblemWidgetComponent_div_21_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 9)(1, "div", 25)(2, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](3, "i", 36, 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](7, "div", 30)(8, "p-dropdown", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("onChange", function ProblemWidgetComponent_div_21_Template_p_dropdown_onChange_8_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r32);
      const file_r25 = restoredCtx.$implicit;
      const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r31.fileDidChange(file_r25.value, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](9, ProblemWidgetComponent_div_21_ng_template_9_Template, 3, 1, "ng-template", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](10, ProblemWidgetComponent_div_21_ng_template_10_Template, 3, 1, "ng-template", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](11, "div", 32)(12, "button", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function ProblemWidgetComponent_div_21_Template_button_click_12_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r32);
      const file_r25 = restoredCtx.$implicit;
      const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r33.fileDidReset(file_r25.value, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const file_r25 = ctx.$implicit;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](file_r25.value.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("id", "file-dropdown-" + file_r25.value.key)("overlayOptions", ctx_r10.dropdownOptions)("options", ctx_r10.fslist);
  }
}
class ServiceMenuEntry {
  constructor(problem = "", service = "", descriptor) {
    this.problem = problem;
    this.service = service;
    this.descriptor = descriptor;
  }
}
class ProblemWidgetComponent {
  constructor(zone, api, pm, python) {
    this.zone = zone;
    this.api = api;
    this.pm = pm;
    this.python = python;
    this.onProblemSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_5__.EventEmitter();
    this.onServiceSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_5__.EventEmitter();
    this.onAttachments = new _angular_core__WEBPACK_IMPORTED_MODULE_5__.EventEmitter();
    this.servicesMenu = new Array();
    this.regexFormat = true;
    this.showRegex = true;
    this.loading = false;
    this.driver = python.driver;
    this.problemSub = this.pm.onProblemsChanged.subscribe(clear => {
      this.updateProblemsUI(clear);
    });
    // https://primefaces.org/primeng/overlay
    //this.dropdownOptions = {appendTo:'body', mode: 'modal'}
    this.dropdownOptions = {
      appendTo: 'body'
    };
  }
  ngOnInit() {
    this.reloadProblemList();
  }
  ngOnDestroy() {
    this.problemSub?.unsubscribe();
  }
  isLoading() {
    return this.loading;
  }
  //args
  clenupRegex(re) {
    let text = re + "";
    text = text.replace(/\/(.*)\//, '$1');
    text = text.replace(/\^(.*)\$/, '$1');
    text = text.replace(/\((.*)\)/, '$1');
    text = text.replace(/\|/g, ' OR ');
    return text;
  }
  readableRegex(re) {
    let text = re + "";
    text = text.replace(/\/(.*)\//, '$1');
    text = text.replace(/\^(.*)\$/, '$1');
    text = text.replace(/\[([^\]]*)\]/, (match, content) => {
      if (content.startsWith('^')) {
        return ' invalid(' + content.slice(1) + ') ';
      }
      return ' valid(' + content.slice(1) + ') ';
    });
    text = text.replace(/\(([^|]+|)*([^|]+)*\)/g, (match, options, last) => {
      console.log('OROR:', match, options, last);
      return text.replace(/\((.*)\)/, '$1').replace(/\|/g, ' OR ');
    });
    return text;
  }
  argDidFocus(arg, event) {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('argDidFocus:', arg, event);
      let idPanel = 'args-regex-panel-' + arg.key;
      let idRegex = 'args-regex-' + arg.key;
      let panel = document.getElementById(idPanel);
      let regex = document.getElementById(idRegex);
      if (!(panel instanceof HTMLElement)) {
        return;
      }
      if (!(regex instanceof HTMLElement)) {
        return;
      }
      console.log('argDidFocus:show!');
      panel.style.display = "flex";
      if (regex.style.color == "red") {
        regex.style.color = "orange";
      } else {
        regex.style.color = "";
      }
    })();
  }
  argDidChange(arg, event) {
    var _this = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('argDidChange:', arg, event);
      let idPanel = 'args-regex-panel-' + arg.key;
      let idRegex = 'args-regex-' + arg.key;
      let panel = document.getElementById(idPanel);
      let regex = document.getElementById(idRegex);
      if (!(panel instanceof HTMLElement)) {
        return;
      }
      if (!(regex instanceof HTMLElement)) {
        return;
      }
      console.log('argDidFocus:validate');
      let issues = _this.pm.validateArg(arg);
      if (issues !== null) {
        regex.style.color = "red";
        panel.style.display = "flex";
      } else if (arg.value != arg.default) {
        regex.style.color = "green";
        panel.style.display = "flex";
      } else {
        regex.style.color = "";
        panel.style.display = "none";
      }
    })();
  }
  argDidReset(arg, event) {
    var _this2 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('argDidReset:', arg.key, event);
      arg.value = arg.default ?? "";
      _this2.argDidChange(arg, event);
    })();
  }
  //files
  fileDidFocus(file, event) {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('fileDidFocus:', file.key, event);
    })();
  }
  fileDidChange(file, event) {
    var _this3 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('fileDidChange:', file.key, event);
      if (!("value" in event)) {
        return;
      }
      console.log('fileDidChange:value:found', event.value);
      let value = event.value;
      if (!("path" in value)) {
        return;
      }
      console.log('fileDidChange:path:found', value.path);
      let path = value.path;
      let idDropdown = 'file-dropdown-' + file.key;
      let dropdown = document.getElementById(idDropdown);
      if (!(dropdown instanceof HTMLElement)) {
        return;
      }
      console.log('fileDidChange:dropdown:found', dropdown);
      if (path == "") {
        dropdown.style.color = "";
        file.value = "";
        return;
      }
      let pathExist = yield _this3.driver?.exists(path);
      console.log('fileDidChange:pathExist:', pathExist);
      if (!pathExist) {
        dropdown.style.color = "red";
        file.value = "";
      } else {
        dropdown.style.color = "green";
        file.value = path;
      }
    })();
  }
  fileDidReset(file, event) {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('fileDidReset:', file.key, event);
      let idDropdown = 'file-dropdown-' + file.key;
      let dropdown = document.getElementById(idDropdown);
      if (!(dropdown instanceof HTMLInputElement)) {
        return;
      }
      dropdown.value = "";
      dropdown.style.color = "";
    })();
  }
  //UI
  toggleShowRegex(arg, event) {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let idPanel = 'args-regex-panel-' + arg.key;
      let panel = document.getElementById(idPanel);
      if (!(panel instanceof HTMLElement)) {
        return;
      }
      panel.style.display = panel.style.display == 'none' ? 'flex' : 'none';
    })();
  }
  toggleRegexFormat(arg, event) {
    var _this4 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let idRegex = 'args-regex-' + arg.key;
      let regex = document.getElementById(idRegex);
      if (!(regex instanceof HTMLElement)) {
        return;
      }
      let content;
      if (regex.classList.contains('format-regex-simple')) {
        regex.classList.remove('format-regex-simple');
        regex.innerText = arg.regex + "";
      } else {
        regex.classList.add('format-regex-simple');
        regex.innerText = _this4.clenupRegex(arg.regex);
      }
    })();
  }
  reloadProblemList() {
    var _this5 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this5.selectedProblem = undefined;
      _this5.selectedService = undefined;
      _this5.selectedArgs = undefined;
      _this5.selectedFiles = undefined;
      _this5.zone.run(() => {
        _this5.servicesMenu = [];
        _this5.loading = true;
      });
      console.log;
      _this5.pm.updateProblems();
    })();
  }
  updateProblemsUI(clear) {
    var _this6 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this6.zone.run(() => {
        _this6.servicesMenu = [];
        _this6.loading = true;
      });
      if (clear) return;
      let menuServices = new Array();
      _this6.pm.problemList.forEach(problemDesc => {
        problemDesc.services.forEach(serviceDesc => {
          var pattern = new RegExp('[-_ ]+', 'g');
          var serviceLabel = serviceDesc.name.replace(pattern, " ");
          let serviceEntry = new ServiceMenuEntry(problemDesc.name, serviceLabel, serviceDesc);
          menuServices.push(serviceEntry);
        });
      });
      console.log('updateProblemsUI:menuServices:', menuServices);
      _this6.zone.run(() => {
        _this6.servicesMenu = menuServices;
        _this6.loading = false;
      });
    })();
  }
  //API 
  onApiError(message) {
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log("API Error: ", message);
    })();
  }
  didSelectProblem() {
    var _this7 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('didSelectProblem:', _this7.selectedProblem);
      if (!_this7.selectedProblem) {
        return;
      }
      _this7.pm.selectProblem(_this7.selectedProblem);
      _this7.onProblemSelected.emit(_this7.selectedProblem);
    })();
  }
  didSelectService() {
    var _this8 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('didSelectService:', _this8.selectedService);
      if (!_this8.selectedService) {
        return;
      }
      let serviceDesc = _this8.selectedService.descriptor;
      _this8.pm.selectService(serviceDesc);
      _this8.selectedArgs = serviceDesc.args;
      _this8.selectedFiles = serviceDesc.files;
      console.log('didSelectService:selectedArgs:', _this8.selectedArgs);
      _this8.onServiceSelected.emit(serviceDesc);
    })();
  }
  apiDownloadAttachment() {
    var _this9 = this;
    return (0,_home_runner_work_TALightDesktop_TALightDesktop_node_modules_angular_builders_custom_webpack_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      console.log('apiDownloadAttachment:', _this9.selectedService);
      if (!_this9.selectedService) {
        return;
      }
      let problem = _this9.selectedService.descriptor.parent;
      if (!problem) {
        return;
      }
      let onAttachment = () => {
        console.log("Attachment packet received");
      };
      let onAttachmentInfo = info => {
        console.log('apiDownloadAttachment:info:', info);
      };
      let onData = data => {
        console.log("apiDownloadAttachment:onData:", data);
        _this9.onAttachments.emit(data);
      };
      let req = _this9.api.GetAttachment(problem.name, onAttachment, onAttachmentInfo, onData);
      req.onError = error => {
        _this9.onApiError(error);
      };
    })();
  }
}
ProblemWidgetComponent.ɵfac = function ProblemWidgetComponent_Factory(t) {
  return new (t || ProblemWidgetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_5__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_1__.ApiService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](src_app_services_problem_manager_service_problem_manager_service__WEBPACK_IMPORTED_MODULE_3__.ProblemManagerService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](src_app_services_python_compiler_service_python_compiler_service__WEBPACK_IMPORTED_MODULE_4__.PythonCompilerService));
};
ProblemWidgetComponent.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({
  type: ProblemWidgetComponent,
  selectors: [["tal-problem-widget"]],
  viewQuery: function ProblemWidgetComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵviewQuery"](_c0, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵloadQuery"]()) && (ctx.problemDropdown = _t.first);
    }
  },
  inputs: {
    fslist: "fslist"
  },
  outputs: {
    onProblemSelected: "onProblemChanged",
    onServiceSelected: "onServiceChanged",
    onAttachments: "onAttachments"
  },
  decls: 23,
  vars: 15,
  consts: [[1, "tal-problem-widget"], [1, "tal-problem-widget-row", "tal-problem-widget-problem"], ["pButton", "", "class", "p-button-danger tal-square-button", "icon", "pi pi-refresh", "title", "Refresh", "pTooltip", "Refresh", 3, "click", 4, "ngIf"], ["pButton", "", "class", "p-button-danger tal-square-button", "icon", "pi pi-spin pi-spinner", "title", "Refresh", "pTooltip", "Refresh", "disabled", "", 4, "ngIf"], ["placeholder", "Seleziona un problema", "scrollHeight", "50rem", "panelStyleClass", "tal-problem-widget-problem-selector-panel", 1, "tal-problem-widget-problem-selector", 3, "overlayOptions", "options", "ngModel", "autoDisplayFirst", "ngModelChange", "onChange"], ["problemDropdown", ""], ["pTemplate", "selectedItem"], ["pTemplate", "item"], ["pButton", "", "icon", "pi pi-download", "title", "Download Attachments", "pTooltip", "Scarica allegati", 1, "p-button-help", "tal-square-button", 3, "click"], [1, "tal-problem-widget-args-row"], ["header", "Arguments"], ["pTemplate", "header", "class", "tal-problem-widget-args-row"], [1, "tal-problem-widget-row", "tal-problem-widget-args"], ["class", "tal-problem-widget-args-row stretch-flex", 4, "ngIf"], ["class", "tal-problem-widget-args-row", 4, "ngFor", "ngForOf"], ["header", "Files", 3, "selected"], ["pButton", "", "icon", "pi pi-refresh", "title", "Refresh", "pTooltip", "Refresh", 1, "p-button-danger", "tal-square-button", 3, "click"], ["pButton", "", "icon", "pi pi-spin pi-spinner", "title", "Refresh", "pTooltip", "Refresh", "disabled", "", 1, "p-button-danger", "tal-square-button"], [1, "tal-problem-widget-problem-selected"], [1, "problem-label"], [1, "service-label"], [1, "tal-problem-widget-problem-item"], [1, "tal-problem-widget-label"], [1, "tal-problem-widget-args-row", "stretch-flex"], [1, "tal-problem-widget-args-row-no-params"], [1, "tal-problem-widget-args-subrow"], [1, "tal-problem-widget-args-row-info"], [1, "pi", "pi-info-circle", 2, "cursor", "pointer", 3, "id", "pTooltip", "click"], ["argsIcons", ""], [1, "tal-problem-widget-args-row-name"], [1, "tal-problem-widget-args-row-field"], ["pInputText", "", "type", "text", 1, "top-bar-url-input", "p-inputtext-sm", 3, "ngModel", "placeholder", "ngModelChange", "change", "blur", "focus"], [1, "tal-problem-widget-args-row-actions"], ["pButton", "", "icon", "pi pi-trash", "title", "Reset to default", "pTooltip", "Reset to default", 1, "tal-square-button", 3, "click"], [1, "tal-problem-widget-args-subrow", 2, "display", "none", "cursor", "pointer", 3, "id", "dblclick"], [1, "tal-problem-widget-args-subrow-regexpr", "format-regex-simple", 3, "id"], [1, "pi", "pi-file"], ["placeholder", "Select a file", "styleClass", "tal-problem-widget-files-dropdown", "panelStyleClass", "tal-problem-widget-files-dropdown-panel", 3, "id", "overlayOptions", "options", "onChange"], [1, "tal-problem-widget-files-selected"], [1, "tal-problem-widget-files-item"]],
  template: function ProblemWidgetComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, ProblemWidgetComponent_button_2_Template, 1, 0, "button", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, ProblemWidgetComponent_button_3_Template, 1, 0, "button", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "p-dropdown", 4, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("ngModelChange", function ProblemWidgetComponent_Template_p_dropdown_ngModelChange_4_listener($event) {
        return ctx.selectedService = $event;
      })("onChange", function ProblemWidgetComponent_Template_p_dropdown_onChange_4_listener() {
        return ctx.didSelectService();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](6, ProblemWidgetComponent_ng_template_6_Template, 5, 2, "ng-template", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, ProblemWidgetComponent_ng_template_7_Template, 5, 2, "ng-template", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](8, "button", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function ProblemWidgetComponent_Template_button_click_8_listener() {
        return ctx.apiDownloadAttachment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "div", 9)(10, "p-tabView")(11, "p-tabPanel", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](12, ProblemWidgetComponent_ng_template_12_Template, 2, 0, "ng-template", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](13, "div", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](14, ProblemWidgetComponent_div_14_Template, 4, 0, "div", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](15, ProblemWidgetComponent_div_15_Template, 14, 8, "div", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](16, "keyvalue");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](17, "p-tabPanel", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](18, ProblemWidgetComponent_ng_template_18_Template, 2, 0, "ng-template", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](19, "div", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](20, ProblemWidgetComponent_div_20_Template, 4, 0, "div", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](21, ProblemWidgetComponent_div_21_Template, 13, 4, "div", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](22, "keyvalue");
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", !ctx.isLoading());
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isLoading());
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("overlayOptions", ctx.dropdownOptions)("options", ctx.servicesMenu)("ngModel", ctx.selectedService)("autoDisplayFirst", true);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](10);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", !ctx.selectedArgs || ctx.selectedArgs.size == 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](16, 11, ctx.selectedArgs));
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("selected", true);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", !ctx.selectedFiles || ctx.selectedFiles.size == 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](22, 13, ctx.selectedFiles));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgModel, primeng_button__WEBPACK_IMPORTED_MODULE_8__.ButtonDirective, primeng_api__WEBPACK_IMPORTED_MODULE_9__.PrimeTemplate, primeng_tooltip__WEBPACK_IMPORTED_MODULE_10__.Tooltip, primeng_dropdown__WEBPACK_IMPORTED_MODULE_11__.Dropdown, primeng_tabview__WEBPACK_IMPORTED_MODULE_12__.TabView, primeng_tabview__WEBPACK_IMPORTED_MODULE_12__.TabPanel, _angular_common__WEBPACK_IMPORTED_MODULE_6__.KeyValuePipe],
  styles: ["[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n}\n\n  .tal-problem-widget-problem .p-dropdown {\n  height: 30px;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n  .tal-problem-widget-problem .p-dropdown-label {\n  height: 30px;\n  padding: 5px !important;\n}\n\n  .tal-problem-widget-args-subrow .p-dropdown {\n  height: 22px;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n  .tal-problem-widget-args-subrow .p-dropdown-label {\n  height: 22px;\n  padding: 2px !important;\n}\n\n  .tal-problem-widget-args-subrow .tal-problem-widget-files-selected {\n  width: 100%;\n}\n\n  .tal-problem-widget-args-row-field {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 5;\n}\n\n  .tal-problem-widget-args-row-field p-dropdown,   .tal-problem-widget-args-row-field .p-inputwrapper {\n  display: flex;\n  width: 100%;\n}\n\n  .tal-problem-widget .p-tabview-nav li {\n  width: 50%;\n  align-content: center;\n}\n\n  .tal-problem-widget .p-tabview-ink-bar {\n  width: 50% !important;\n}\n\n  .tal-problem-widget .p-tabview-nav-link {\n  margin: 0px !important;\n  padding: 0px !important;\n  width: 100%;\n  height: 100%;\n}\n\n  .tal-problem-widget .p-tabview-panels {\n  margin: 0px;\n  padding: 0px;\n}\n\n  .tal-problem-widget-problem-selector-panel .p-dropdown-item {\n  height: 30px;\n  margin: 5px !important;\n  padding: 5px !important;\n}\n\n  .tal-problem-widget-files-dropdown-panel .p-dropdown-item {\n  height: 22px;\n  margin: 2px !important;\n  padding: 2px !important;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-problem[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 5px;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-problem[_ngcontent-%COMP%]   .tal-problem-widget-problem-selector[_ngcontent-%COMP%] {\n  flex-grow: 2;\n  display: flex;\n  align-items: center;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-label[_ngcontent-%COMP%] {\n  padding: 0.5rem;\n  font-weight: 600;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args-row-title[_ngcontent-%COMP%] {\n  display: flex;\n  font-weight: bold;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args-row-no-params[_ngcontent-%COMP%] {\n  flex-grow: 1;\n  height: 100%;\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #444;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  font-family: monospace;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-row[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 5px;\n  border-bottom: 1px solid #333;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-subrow[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-subrow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  width: 20px;\n  height: 20px;\n  min-height: 20px;\n  max-height: 20px;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-row[_ngcontent-%COMP%]:last-child {\n  border: 0px;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-row-info[_ngcontent-%COMP%] {\n  display: flex;\n  width: 20px;\n  padding: 5px;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-row-name[_ngcontent-%COMP%] {\n  display: flex;\n  flex-grow: 1;\n  width: 10em;\n  padding-left: 5px;\n  font-size: 80%;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-row-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-grow: 6;\n  padding: 0px 5px;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-row-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-row-actions[_ngcontent-%COMP%] {\n  display: flex;\n  padding: 5px;\n}\n\n.tal-problem-widget[_ngcontent-%COMP%]   .tal-problem-widget-args[_ngcontent-%COMP%]   .tal-problem-widget-args-subrow-regexpr[_ngcontent-%COMP%] {\n  font-size: 11px;\n  color: gray;\n  word-wrap: break-word;\n  font-family: monospace;\n}\n\n.tal-problem-widget-problem-selected[_ngcontent-%COMP%]   .problem-label[_ngcontent-%COMP%], .tal-problem-widget-problem-item[_ngcontent-%COMP%]   .problem-label[_ngcontent-%COMP%] {\n  font-weight: bold;\n  text-transform: c-talize;\n  padding: 1px 10px 1px 10px;\n  background-color: #555;\n  border-radius: 20px;\n}\n\n.tal-problem-widget-problem-selected[_ngcontent-%COMP%]   .service-label[_ngcontent-%COMP%], .tal-problem-widget-problem-item[_ngcontent-%COMP%]   .service-label[_ngcontent-%COMP%] {\n  padding-left: 3px;\n}\n\nbutton[_ngcontent-%COMP%] {\n  border-radius: 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2JsZW0td2lkZ2V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFESjs7QUFPUTtFQUNJLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FBSlo7O0FBTVE7RUFDSSxZQUFBO0VBQ0EsdUJBQUE7QUFKWjs7QUFTUTtFQUNJLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FBUFo7O0FBU1E7RUFDSSxZQUFBO0VBQ0EsdUJBQUE7QUFQWjs7QUFTUTtFQUNJLFdBQUE7QUFQWjs7QUFXSTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7QUFUUjs7QUFXUTtFQUNJLGFBQUE7RUFDQSxXQUFBO0FBVFo7O0FBZVE7RUFDSSxVQUFBO0VBQ0EscUJBQUE7QUFiWjs7QUFnQlE7RUFDSSxxQkFBQTtBQWRaOztBQWlCUTtFQUNJLHNCQUFBO0VBQ0EsdUJBQUE7RUFFQSxXQUFBO0VBQ0EsWUFBQTtBQWhCWjs7QUFvQlE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQWxCWjs7QUF5QlE7RUFDSSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtBQXZCWjs7QUE0QlE7RUFDSSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtBQTFCWjs7QUFnQ0E7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0FBN0JKOztBQWdDSTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQTlCUjs7QUFpQ1E7RUFDSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBL0JaOztBQW9DSTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUFsQ1I7O0FBeUNJO0VBQ0ksYUFBQTtFQUNBLGlCQUFBO0FBdkNSOztBQTBDSTtFQUNJLFlBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUF4Q1I7O0FBMkNJO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsV0FBQTtFQUVBLHNCQUFBO0FBMUNSOztBQTRDUTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0FBMUNaOztBQTZDUTtFQUNJLGFBQUE7RUFDQSxXQUFBO0VBRUEsbUJBQUE7RUFDQSxtQkFBQTtBQTVDWjs7QUE4Q1k7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUE1Q2hCOztBQWdEUTtFQUNJLFdBQUE7QUE5Q1o7O0FBaURRO0VBQ0ksYUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBL0NaOztBQWtEUTtFQUNJLGFBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBQWhEWjs7QUFvRFE7RUFDSSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBbERaOztBQW1EWTtFQUNJLFdBQUE7QUFqRGhCOztBQXNEUTtFQUNJLGFBQUE7RUFDQSxZQUFBO0FBcERaOztBQXdEUTtFQUNJLGVBQUE7RUFDQSxXQUFBO0VBQ0EscUJBQUE7RUFDQSxzQkFBQTtBQXREWjs7QUFvRUk7RUFDSSxpQkFBQTtFQUNBLHdCQUFBO0VBQ0EsMEJBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FBakVSOztBQW1FSTtFQUNJLGlCQUFBO0FBakVSOztBQXVFQTtFQUNJLGtCQUFBO0FBcEVKIiwiZmlsZSI6InByb2JsZW0td2lkZ2V0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbjpob3N0e1xuICAgIHdpZHRoOjEwMCU7XG4gICAgaGVpZ2h0OjEwMCU7XG59XG5cbjo6bmctZGVlcCB7XG4gICAgXG4gICAgLnRhbC1wcm9ibGVtLXdpZGdldC1wcm9ibGVte1xuICAgICAgICAucC1kcm9wZG93biB7XG4gICAgICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnAtZHJvcGRvd24tbGFiZWx7XG4gICAgICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA1cHghaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLnRhbC1wcm9ibGVtLXdpZGdldC1hcmdzLXN1YnJvd3tcbiAgICAgICAgLnAtZHJvcGRvd24ge1xuICAgICAgICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgICAgICB9XG4gICAgICAgIC5wLWRyb3Bkb3duLWxhYmVse1xuICAgICAgICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgICAgICAgcGFkZGluZzogMnB4IWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICAudGFsLXByb2JsZW0td2lkZ2V0LWZpbGVzLXNlbGVjdGVke1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7ICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLnRhbC1wcm9ibGVtLXdpZGdldC1hcmdzLXJvdy1maWVsZHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgZmxleC1ncm93OjU7XG4gICAgICAgIFxuICAgICAgICBwLWRyb3Bkb3duLCAucC1pbnB1dHdyYXBwZXJ7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICBcbiAgICB9XG5cbiAgICAudGFsLXByb2JsZW0td2lkZ2V0e1xuICAgICAgICAucC10YWJ2aWV3LW5hdiBsaXtcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XG4gICAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAucC10YWJ2aWV3LWluay1iYXJ7XG4gICAgICAgICAgICB3aWR0aDogNTAlIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnAtdGFidmlldy1uYXYtbGlua3tcbiAgICAgICAgICAgIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBwYWRkaW5nOjBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLnAtdGFidmlldy1wYW5lbHN7XG4gICAgICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6MHB4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvL29wZW5zIGRldGFjaGVkIGluc2lkZSA8Ym9keT5cbiAgICAudGFsLXByb2JsZW0td2lkZ2V0LXByb2JsZW0tc2VsZWN0b3ItcGFuZWx7XG4gICAgICAgIC5wLWRyb3Bkb3duLWl0ZW0ge1xuICAgICAgICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgICAgbWFyZ2luOiA1cHghaW1wb3J0YW50O1xuICAgICAgICAgICAgcGFkZGluZzogNXB4IWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC50YWwtcHJvYmxlbS13aWRnZXQtZmlsZXMtZHJvcGRvd24tcGFuZWx7XG4gICAgICAgIC5wLWRyb3Bkb3duLWl0ZW0ge1xuICAgICAgICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgICAgICAgbWFyZ2luOiAycHghaW1wb3J0YW50O1xuICAgICAgICAgICAgcGFkZGluZzogMnB4IWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4udGFsLXByb2JsZW0td2lkZ2V0e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBoZWlnaHQ6MTAwJTtcblxuXG4gICAgLnRhbC1wcm9ibGVtLXdpZGdldC1wcm9ibGVte1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgIFxuXG4gICAgICAgIC50YWwtcHJvYmxlbS13aWRnZXQtcHJvYmxlbS1zZWxlY3RvciB7XG4gICAgICAgICAgICBmbGV4LWdyb3c6IDI7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgICBcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLnRhbC1wcm9ibGVtLXdpZGdldC1sYWJlbHtcbiAgICAgICAgcGFkZGluZzowLjVyZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OjYwMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIFxuXG4gICAgXG5cbiAgICAudGFsLXByb2JsZW0td2lkZ2V0LWFyZ3Mtcm93LXRpdGxle1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgICAudGFsLXByb2JsZW0td2lkZ2V0LWFyZ3Mtcm93LW5vLXBhcmFtc3tcbiAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgLy8gbGVmdC1yaWdodFxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOyAgICAgLy8gdG9wLWJvdHRvbVxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0O1xuICAgIH1cblxuICAgIC50YWwtcHJvYmxlbS13aWRnZXQtYXJnc3tcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG5cbiAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgICAgICAgXG4gICAgICAgIC50YWwtcHJvYmxlbS13aWRnZXQtYXJncy1yb3d7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMzMztcbiAgICAgICAgfVxuXG4gICAgICAgIC50YWwtcHJvYmxlbS13aWRnZXQtYXJncy1zdWJyb3d7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgICAgIC8vYmFja2dyb3VuZC1jb2xvcjogYXF1YW1hcmluZTtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgICAgICAgICBidXR0b257XG4gICAgICAgICAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDIwcHg7XG4gICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMjBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC50YWwtcHJvYmxlbS13aWRnZXQtYXJncy1yb3c6bGFzdC1jaGlsZHtcbiAgICAgICAgICAgIGJvcmRlcjogMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRhbC1wcm9ibGVtLXdpZGdldC1hcmdzLXJvdy1pbmZve1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRhbC1wcm9ibGVtLXdpZGdldC1hcmdzLXJvdy1uYW1le1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICAgICAgICAgIHdpZHRoOiAxMGVtO1xuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDgwJTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLnRhbC1wcm9ibGVtLXdpZGdldC1hcmdzLXJvdy1maWVsZHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWdyb3c6IDY7XG4gICAgICAgICAgICBwYWRkaW5nOiAwcHggNXB4O1xuICAgICAgICAgICAgaW5wdXR7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLnRhbC1wcm9ibGVtLXdpZGdldC1hcmdzLXJvdy1hY3Rpb25ze1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgICAgICAudGFsLXByb2JsZW0td2lkZ2V0LWFyZ3Mtc3Vicm93LXJlZ2V4cHJ7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICBjb2xvcjogZ3JheTtcbiAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG5cblxuXG5cblxuXG4udGFsLXByb2JsZW0td2lkZ2V0LXByb2JsZW0tc2VsZWN0ZWQsIC50YWwtcHJvYmxlbS13aWRnZXQtcHJvYmxlbS1pdGVte1xuICAgIC5wcm9ibGVtLWxhYmVse1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IGMtdGFsaXplOyAgIFxuICAgICAgICBwYWRkaW5nOiAxcHggMTBweCAxcHggMTBweDsgICAgICAgIFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIH1cbiAgICAuc2VydmljZS1sYWJlbHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAzcHg7XG4gICAgfVxufVxuXG5cblxuYnV0dG9ue1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cbiJdfQ== */"]
});

/***/ }),

/***/ 3200:
/*!*************************************************************************!*\
  !*** ./src/app/widgets/topbar/topbar-widget/topbar-widget.component.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TopbarWidgetComponent": () => (/* binding */ TopbarWidgetComponent)
/* harmony export */ });
/* harmony import */ var src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/services/api-service/api.service */ 6986);
/* harmony import */ var src_app_services_theme_service_theme_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/theme-service/theme.service */ 6219);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var src_app_services_problem_manager_service_problem_manager_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/problem-manager-service/problem-manager.service */ 1941);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var primeng_autocomplete__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primeng/autocomplete */ 7951);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primeng/api */ 2898);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primeng/tooltip */ 5166);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primeng/button */ 540);












const _c0 = ["urlInput"];
const _c1 = ["statusDot"];
function TopbarWidgetComponent_ng_template_9_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 9)(1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function TopbarWidgetComponent_ng_template_9_Template_button_click_3_listener($event) { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r5); const url_r3 = restoredCtx.$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r4.removeURL(url_r3, $event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const url_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](url_r3);
} }
class TopbarWidgetComponent {
    constructor(themeService, api, zone, pm) {
        this.themeService = themeService;
        this.api = api;
        this.zone = zone;
        this.pm = pm;
        this.urlCache = [];
        this.escapeRegEx = /[.*+?^${}()|[\]\\]/g;
        this.urlInputClass = "";
        this.url = api.url;
        this.lastUrl = this.url + "";
        this.urlCache = [...this.api.urlCache];
        this.subApiState = this.api.onApiStateChange.subscribe((state) => { this.updateState(state); });
        this.subProblemError = this.pm.onError.subscribe((_) => { this.stateBad(); });
    }
    ngOnInit() { }
    get changeThemIcon() {
        return this.themeService.currentTheme == src_app_services_theme_service_theme_service__WEBPACK_IMPORTED_MODULE_1__.AppTheme.dark ? 'pi-sun' : 'pi-moon';
    }
    toggleTheme() {
        this.themeService.toggleTheme();
    }
    filterSuggestions(event) {
        let query = event.query.replace(this.escapeRegEx, '\\$&');
        let filter = new RegExp(".*" + query + ".*");
        let urlCache = [];
        this.api.urlCache.forEach((url) => {
            if (url.match(filter)) {
                urlCache.push(url);
            }
        });
        this.urlCache = urlCache;
    }
    updateState(state) {
        let dot = this.statusDot.nativeElement;
        switch (state) {
            case src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Idle:
                dot.style.color = "";
                break;
            case src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Good:
                dot.style.color = "green";
                break;
            case src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Maybe:
                dot.style.color = "orange";
                break;
            case src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Bad:
                dot.style.color = "darkred";
                break;
        }
    }
    stateIdle() { this.updateState(src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Idle); }
    stateGood() { this.updateState(src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Good); }
    stateMaybe() { this.updateState(src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Maybe); }
    stateBad() { this.updateState(src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiState.Bad); }
    changeURL(event) {
        if (this.lastUrl == this.url) {
            return;
        }
        this.stateIdle();
        let dot = this.statusDot.nativeElement;
        console.log("changeURL:dot:", dot);
        console.log("changeURL:event:", event);
        let url = this.url;
        console.log("changeURL:urlCache:before:", this.urlCache);
        if (!this.api.setUrl(url)) {
            this.stateBad();
            console.log("changeURL:setURL:failed");
        }
        else {
            this.url = this.api.url;
            console.log("changeURL:setURL:success");
            this.urlCache = this.api.urlCache;
            this.stateMaybe();
            this.pm.updateProblems();
        }
        console.log("changeURL:urlCache:after:", this.urlCache);
        console.log("changeURL:url:", this.url);
        this.lastUrl = this.url + "";
    }
    removeURL(url, event) {
        if (event) {
            event.preventDefault();
            event.stopPropagation();
            event.stopImmediatePropagation();
        }
        console.log("changeURL:urlCache:before:", this.urlCache);
        if (!this.api.removeFromCache(url)) {
            console.log("changeURL:removeURL:done");
        }
        this.urlCache = this.api.urlCache;
        console.log("changeURL:urlCache:after:", this.urlCache);
        console.log("changeURL:url:", url);
    }
}
TopbarWidgetComponent.ɵfac = function TopbarWidgetComponent_Factory(t) { return new (t || TopbarWidgetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](src_app_services_theme_service_theme_service__WEBPACK_IMPORTED_MODULE_1__.ThemeService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](src_app_services_api_service_api_service__WEBPACK_IMPORTED_MODULE_0__.ApiService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_3__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](src_app_services_problem_manager_service_problem_manager_service__WEBPACK_IMPORTED_MODULE_2__.ProblemManagerService)); };
TopbarWidgetComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: TopbarWidgetComponent, selectors: [["tal-topbar-widget"]], viewQuery: function TopbarWidgetComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵviewQuery"](_c0, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵviewQuery"](_c1, 5);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵloadQuery"]()) && (ctx.urlInput = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵloadQuery"]()) && (ctx.statusDot = _t.first);
    } }, decls: 11, vars: 4, consts: [[1, "tal-topbar"], [1, "tal-brand"], [1, "tal-buttons"], ["pTooltip", "Status", 1, "pi", "pi-circle-fill"], ["statusDot", ""], [1, "top-bar-url-input", "p-inputtext-sm", 3, "ngModel", "suggestions", "dropdown", "placeholder", "ngModelChange", "change", "onSelect", "onBlur", "completeMethod"], ["urlInput", ""], ["pTemplate", "item"], ["pButton", "", 1, "tal-square-button", 3, "icon", "click"], [1, "url-item"], [1, "url-item-label"], ["pButton", "", "icon", "pi pi-trash", "pTooltip", "Remove URL", 1, "tal-square-button", 3, "click"]], template: function TopbarWidgetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](3, "TALight Desktop");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](4, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](5, "i", 3, 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "p-autoComplete", 5, 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("placeholder", function TopbarWidgetComponent_Template_p_autoComplete_placeholder_7_listener() { return ctx.urlCache; })("ngModelChange", function TopbarWidgetComponent_Template_p_autoComplete_ngModelChange_7_listener($event) { return ctx.url = $event; })("change", function TopbarWidgetComponent_Template_p_autoComplete_change_7_listener($event) { return ctx.changeURL($event); })("onSelect", function TopbarWidgetComponent_Template_p_autoComplete_onSelect_7_listener($event) { return ctx.changeURL($event); })("onBlur", function TopbarWidgetComponent_Template_p_autoComplete_onBlur_7_listener($event) { return ctx.changeURL($event); })("completeMethod", function TopbarWidgetComponent_Template_p_autoComplete_completeMethod_7_listener($event) { return ctx.filterSuggestions($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](9, TopbarWidgetComponent_ng_template_9_Template, 4, 1, "ng-template", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](10, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function TopbarWidgetComponent_Template_button_click_10_listener() { return ctx.toggleTheme(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngModel", ctx.url)("suggestions", ctx.urlCache)("dropdown", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpropertyInterpolate1"]("icon", "pi ", ctx.changeThemIcon, "");
    } }, dependencies: [_angular_forms__WEBPACK_IMPORTED_MODULE_4__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.NgModel, primeng_autocomplete__WEBPACK_IMPORTED_MODULE_5__.AutoComplete, primeng_api__WEBPACK_IMPORTED_MODULE_6__.PrimeTemplate, primeng_tooltip__WEBPACK_IMPORTED_MODULE_7__.Tooltip, primeng_button__WEBPACK_IMPORTED_MODULE_8__.ButtonDirective], styles: ["[_nghost-%COMP%] {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\n\ndiv.tal-topbar[_ngcontent-%COMP%] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 5px;\n}\n\n.tal-brand[_ngcontent-%COMP%] {\n  height: 30px;\n}\n\n.tal-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\n  font-size: 25px;\n}\n\n.tal-buttons[_ngcontent-%COMP%] {\n  height: 30px;\n  display: flex;\n  align-items: center;\n}\n\n  .top-bar-url-input .p-autocomplete {\n  height: 30px;\n}\n\n  .top-bar-url-input .p-autocomplete-label,   .top-bar-url-input .p-autocomplete-item {\n  height: 30px;\n  padding: 5px !important;\n  margin: 5px !important;\n}\n\n  .top-bar-url-input button {\n  width: 30px;\n  max-width: 30px;\n}\n\n.top-bar-url-input[_ngcontent-%COMP%] {\n  margin: 5px;\n  height: 30px;\n}\n\n.top-bar-url-input[_ngcontent-%COMP%]   .url-item[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 16px !important;\n}\n\n.top-bar-url-input[_ngcontent-%COMP%]   .url-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  width: 16px !important;\n  height: 16px !important;\n  max-height: 16px !important;\n  min-height: 16px !important;\n  margin: 0;\n  display: none;\n  background-color: darkred;\n  color: white;\n}\n\n.top-bar-url-input[_ngcontent-%COMP%]   .url-item[_ngcontent-%COMP%]:hover   .p-button[_ngcontent-%COMP%] {\n  display: flex;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcGJhci13aWRnZXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLFlBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7QUFDSjs7QUFBSTtFQUNJLGVBQUE7QUFFUjs7QUFHQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUFBSjs7QUFLUTtFQUNJLFlBQUE7QUFGWjs7QUFLUTtFQUNJLFlBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FBSFo7O0FBTVE7RUFDSSxXQUFBO0VBQ0EsZUFBQTtBQUpaOztBQVNBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFOSjs7QUFTSTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFQUjs7QUFTUTtFQUNJLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSwyQkFBQTtFQUNBLDJCQUFBO0VBQ0EsU0FBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFQWjs7QUFlUTtFQUNJLGFBQUE7QUFiWiIsImZpbGUiOiJ0b3BiYXItd2lkZ2V0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3R7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB3aWR0aDoxMDAlO1xuICAgIGhlaWdodDoxMDAlO1xufVxuXG5kaXYudGFsLXRvcGJhcntcbiAgICB3aWR0aDoxMDAlO1xuICAgIGRpc3BsYXk6ZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBwYWRkaW5nOiA1cHg7XG59XG5cbi50YWwtYnJhbmR7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIGgxe1xuICAgICAgICBmb250LXNpemU6IDI1cHg7XG4gICAgfVxufVxuXG5cbi50YWwtYnV0dG9uc3tcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG46Om5nLWRlZXAge1xuICAgIC50b3AtYmFyLXVybC1pbnB1dHtcbiAgICAgICAgLnAtYXV0b2NvbXBsZXRlIHtcbiAgICAgICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wLWF1dG9jb21wbGV0ZS1sYWJlbCwgLnAtYXV0b2NvbXBsZXRlLWl0ZW17XG4gICAgICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA1cHghaW1wb3J0YW50O1xuICAgICAgICAgICAgbWFyZ2luOiA1cHghaW1wb3J0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgYnV0dG9ue1xuICAgICAgICAgICAgd2lkdGg6IDMwcHg7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDMwcHg7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi50b3AtYmFyLXVybC1pbnB1dHtcbiAgICBtYXJnaW46IDVweDtcbiAgICBoZWlnaHQ6IDMwcHg7XG5cblxuICAgIC51cmwtaXRlbXtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBoZWlnaHQ6MTZweCAhaW1wb3J0YW50O1xuXG4gICAgICAgIGJ1dHRvbntcbiAgICAgICAgICAgIHdpZHRoOjE2cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGhlaWdodDoxNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBtYXgtaGVpZ2h0OjE2cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6MTZweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICB9XG5cbiAgICAudXJsLWl0ZW06aG92ZXJ7XG5cbiAgICAgICAgLnAtYnV0dG9ue1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgIH1cblxuXG59Il19 */"] });


/***/ }),

/***/ 6669:
/*!*************************************************!*\
  !*** ./src/app/widgets/topbar/topbar.module.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TopbarModule": () => (/* binding */ TopbarModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 7774);
/* harmony import */ var _topbar_widget_topbar_widget_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./topbar-widget/topbar-widget.component */ 3200);
/* harmony import */ var primeng_autocomplete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primeng/autocomplete */ 7951);
/* harmony import */ var primeng_inputtext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primeng/inputtext */ 5022);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primeng/tooltip */ 5166);
/* harmony import */ var primeng_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primeng/button */ 540);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 5645);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 3991);








class TopbarModule {
}
TopbarModule.ɵfac = function TopbarModule_Factory(t) { return new (t || TopbarModule)(); };
TopbarModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({ type: TopbarModule });
TopbarModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({ imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule,
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormsModule,
        primeng_autocomplete__WEBPACK_IMPORTED_MODULE_4__.AutoCompleteModule,
        primeng_inputtext__WEBPACK_IMPORTED_MODULE_5__.InputTextModule,
        primeng_tooltip__WEBPACK_IMPORTED_MODULE_6__.TooltipModule,
        primeng_button__WEBPACK_IMPORTED_MODULE_7__.ButtonModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](TopbarModule, { declarations: [_topbar_widget_topbar_widget_component__WEBPACK_IMPORTED_MODULE_0__.TopbarWidgetComponent], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule,
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormsModule,
        primeng_autocomplete__WEBPACK_IMPORTED_MODULE_4__.AutoCompleteModule,
        primeng_inputtext__WEBPACK_IMPORTED_MODULE_5__.InputTextModule,
        primeng_tooltip__WEBPACK_IMPORTED_MODULE_6__.TooltipModule,
        primeng_button__WEBPACK_IMPORTED_MODULE_7__.ButtonModule], exports: [_topbar_widget_topbar_widget_component__WEBPACK_IMPORTED_MODULE_0__.TopbarWidgetComponent] }); })();


/***/ }),

/***/ 9206:
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "environment": () => (/* binding */ environment)
/* harmony export */ });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ 2141:
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ 4510);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 3991);
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app/app.module */ 7722);
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environments/environment */ 9206);




if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__.environment.production) {
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.enableProdMode)();
}
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.platformBrowser().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_0__.AppModule)
    .catch(err => console.error(err));


/***/ }),

/***/ 3138:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (() => {

/* (ignored) */

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendor"], () => (__webpack_exec__(2141)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=main.js.map